)]}'
{"version":3,"sources":["ryw:blog/client/boot.coffee","ryw:blog/client/compatibility/side-comments.js","ryw:blog/client/compatibility/medium-editor.js","ryw:blog/client/compatibility/bower_components/handlebars/handlebars.runtime.js","ryw:blog/client/compatibility/handlebars.noconflict.js","ryw:blog/client/compatibility/bower_components/jquery-sortable/source/js/jquery-sortable.js","ryw:blog/client/compatibility/bower_components/blueimp-file-upload/js/vendor/jquery.ui.widget.js","ryw:blog/client/compatibility/bower_components/blueimp-file-upload/js/jquery.iframe-transport.js","ryw:blog/client/compatibility/bower_components/blueimp-file-upload/js/jquery.fileupload.js","ryw:blog/client/compatibility/bower_components/medium-editor-insert-plugin/dist/js/medium-editor-insert-plugin.js","ryw:blog/client/compatibility/bootstrap-tagsinput.js","ryw:blog/client/compatibility/typeahead.jquery.js","ryw:blog/client/compatibility/beautify-html.js","ryw:blog/client/compatibility/highlight.pack.js","ryw:blog/client/views/404.html","ryw:blog/client/views/custom.html","ryw:blog/client/views/custom.coffee","ryw:blog/client/views/admin/admin.html","ryw:blog/client/views/admin/admin.coffee","ryw:blog/client/views/admin/edit.html","ryw:blog/client/views/admin/editor.coffee","ryw:blog/client/views/admin/edit.coffee","ryw:blog/client/views/blog/blog.html","ryw:blog/client/views/blog/show.html","ryw:blog/client/views/blog/blog.coffee","ryw:blog/client/views/widget/latest.html","ryw:blog/client/views/widget/latest.coffee","ryw:blog/collections/author.coffee","ryw:blog/collections/post.coffee","ryw:blog/collections/comment.coffee","ryw:blog/collections/tag.coffee","ryw:blog/collections/files.coffee","ryw:blog/router.coffee"],"names":[],"mappings":"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AACA,E;AACA,uB;AACA,2B;AACA,c;AACA,G;;AAEA,E;AACA,8B;AACA,E;;AAEA,2C;AACA,uC;;AAEA,kB;AACA,yB;AACA,wB;AACA,8B;AACA,kF;AACA,oB;AACA,wB;AACA,uB;AACA,c;AACA,G;;AAEA,yC;;AAEA,2B;AACA,6B;AACA,wB;AACA,8C;AACA,iB;AACA,qB;AACA,sC;AACA,6B;AACA,oE;AACA,6B;AACA,iC;AACA,G;;AAEA,wB;AACA,C;;AAEA,6B;;AAEA,G;AACA,sB;AACA,G;;AAEA,qB;;AAEA,G;AACA,sB;AACA,G;;AAEA,qB;;AAEA,G;AACA,kB;AACA,E;AACA,U;AACA,E;AACA,oB;AACA,c;AACA,W;AACA,E;AACA,uB;AACA,gC;AACA,e;AACA,G;;AAEA,kC;AACA,mD;;AAEA,e;AACA,S;AACA,iB;AACA,mB;AACA,uB;AACA,wB;AACA,I;;AAEA,0C;AACA,wB;AACA,0D;AACA,2E;AACA,G;AACA,E;;AAEA,G;AACA,iD;AACA,E;AACA,uB;AACA,uB;AACA,mB;AACA,e;AACA,G;;AAEA,0C;AACA,gB;;AAEA,yC;;AAEA,yB;AACA,yB;;AAEA,yC;AACA,0B;AACA,iB;AACA,iD;AACA,yB;AACA,K;AACA,G;;AAEA,qC;AACA,E;;AAEA,G;AACA,wD;AACA,E;AACA,uB;AACA,+B;AACA,e;AACA,G;;AAEA,+C;AACA,qC;AACA,E;;AAEA,G;AACA,6B;AACA,E;AACA,uB;AACA,qB;AACA,e;AACA,G;;AAEA,oC;AACA,8C;AACA,yE;AACA,G;AACA,6B;AACA,E;;AAEA,G;AACA,2D;AACA,E;AACA,yB;AACA,qB;AACA,e;AACA,G;;AAEA,qC;AACA,0C;;AAEA,K;AACA,wB;AACA,K;;AAEA,kC;AACA,uB;AACA,iB;AACA,mC;AACA,K;AACA,c;AACA,G;;AAEA,K;AACA,mC;AACA,K;;AAEA,+B;AACA,8C;AACA,2C;AACA,G;;AAEA,K;AACA,oC;AACA,K;;AAEA,yC;AACA,2B;AACA,uC;AACA,oD;;AAEA,gC;AACA,oC;AACA,gB;AACA,iC;AACA,0C;AACA,kB;AACA,4D;AACA,gB;AACA,I;;AAEA,K;AACA,0C;AACA,K;;AAEA,wC;AACA,sE;AACA,I;;AAEA,sB;AACA,E;AACA,kF;;AAEA,G;AACA,oB;AACA,G;;AAEA,yB;;AAEA,G;AACA,8B;AACA,E;AACA,c;AACA,G;;AAEA,uB;AACA,6B;AACA,E;;AAEA,G;AACA,gC;AACA,E;AACA,sB;AACA,mB;AACA,e;AACA,G;;AAEA,qB;AACA,sC;AACA,sC;AACA,G;AACA,a;AACA,C;;AAEA,G;AACA,yC;AACA,E;AACA,wB;AACA,uB;AACA,oB;AACA,c;AACA,G;;AAEA,sB;AACA,yD;AACA,0C;AACA,yD;AACA,c;AACA,c;AACA,E;;AAEA,G;AACA,yD;AACA,mC;AACA,E;AACA,wB;AACA,uB;AACA,oB;AACA,c;AACA,G;;AAEA,6C;AACA,kB;AACA,0C;;AAEA,iB;AACA,wB;AACA,8B;AACA,G;;AAEA,a;AACA,qB;AACA,c;AACA,E;;AAEA,G;AACA,+C;AACA,wB;AACA,E;AACA,wB;AACA,uB;AACA,oB;AACA,c;AACA,G;;AAEA,uB;AACA,kC;AACA,sC;AACA,4D;AACA,0C;;AAEA,Q;AACA,8B;AACA,yB;AACA,gB;AACA,G;;AAEA,mB;AACA,yC;AACA,8B;;AAEA,wB;AACA,8B;AACA,kC;AACA,gB;AACA,G;;AAEA,4B;AACA,S;AACA,8C;AACA,sB;AACA,oC;AACA,6B;AACA,Y;AACA,K;AACA,G;AACA,c;AACA,E;;AAEA,G;AACA,oC;AACA,E;AACA,wB;AACA,qB;AACA,oB;AACA,G;;AAEA,yC;AACA,0C;AACA,wC;AACA,yC;;AAEA,kB;AACA,mC;AACA,2D;AACA,qC;AACA,K;AACA,G;;AAEA,c;AACA,E;;AAEA,G;AACA,yC;AACA,E;AACA,wB;AACA,kB;AACA,c;AACA,G;;AAEA,8C;AACA,0C;AACA,sC;AACA,E;;AAEA,G;AACA,8C;AACA,E;AACA,wB;AACA,oB;AACA,c;AACA,G;;AAEA,iD;AACA,yC;AACA,E;;AAEA,G;AACA,gF;AACA,6C;AACA,sC;AACA,iC;AACA,4B;;AAEA,G;AACA,uC;AACA,oE;AACA,8E;AACA,6E;AACA,yE;AACA,wE;AACA,2C;AACA,oE;AACA,wD;AACA,E;AACA,4C;AACA,G;AACA,4D;AACA,mB;AACA,yB;AACA,6B;;AAEA,kD;AACA,8D;AACA,qB;AACA,4B;;AAEA,mB;AACA,qE;AACA,qE;AACA,2E;AACA,+E;AACA,uE;AACA,yE;AACA,mF;AACA,uD;;AAEA,yC;AACA,C;;AAEA,iB;AACA,gC;;AAEA,G;AACA,qD;AACA,G;AACA,kE;AACA,oE;AACA,8B;AACA,2D;AACA,kF;;AAEA,iG;AACA,W;AACA,E;;AAEA,G;AACA,2B;AACA,G;AACA,kD;AACA,0C;AACA,E;;AAEA,G;AACA,qB;AACA,G;AACA,kD;AACA,2B;AACA,kC;AACA,8B;AACA,G;;AAEA,6C;AACA,E;;AAEA,G;AACA,8C;AACA,8D;AACA,G;AACA,8D;AACA,sB;;AAEA,2B;AACA,kC;AACA,G;;AAEA,+B;AACA,E;;AAEA,G;AACA,gD;AACA,8D;AACA,G;AACA,gE;AACA,sB;AACA,4B;AACA,E;;AAEA,G;AACA,mD;AACA,6D;AACA,G;AACA,4D;AACA,sC;AACA,E;;AAEA,G;AACA,oD;AACA,kE;AACA,G;AACA,6D;AACA,uC;AACA,E;;AAEA,G;AACA,6E;AACA,iB;AACA,G;AACA,yD;AACA,mC;AACA,E;;AAEA,G;AACA,oD;AACA,qD;AACA,G;AACA,4D;AACA,iE;AACA,iC;AACA,E;;AAEA,G;AACA,oD;AACA,mE;AACA,wD;AACA,G;AACA,yE;AACA,yD;AACA,mC;AACA,E;;AAEA,G;AACA,qE;AACA,uD;AACA,oC;AACA,G;AACA,yE;AACA,yD;AACA,mC;AACA,E;;AAEA,G;AACA,yC;AACA,6D;AACA,G;AACA,wD;AACA,iD;AACA,E;;AAEA,G;AACA,oG;AACA,2C;AACA,G;AACA,sD;AACA,gC;;AAEA,wE;AACA,yE;AACA,yC;AACA,0F;AACA,6B;AACA,oC;AACA,K;AACA,wB;AACA,G;AACA,E;;AAEA,G;AACA,sD;AACA,0D;AACA,G;AACA,iE;AACA,sB;AACA,iC;AACA,6C;AACA,2C;AACA,qB;AACA,K;AACA,E;;AAEA,G;AACA,yD;AACA,G;AACA,uD;AACA,sB;AACA,0B;AACA,6C;AACA,+B;AACA,qB;AACA,K;AACA,E;;AAEA,G;AACA,8E;AACA,G;AACA,6C;AACA,sB;AACA,iB;AACA,E;;AAEA,8B;AACA,G;AACA,mF;AACA,6C;AACA,oD;AACA,2D;;AAEA,G;AACA,oE;AACA,0B;AACA,+E;AACA,8E;AACA,G;AACA,2D;AACA,4B;AACA,gB;AACA,mD;AACA,wC;;AAEA,kC;;AAEA,+E;AACA,wF;AACA,kF;AACA,sF;AACA,sF;;AAEA,e;AACA,C;;AAEA,G;AACA,mC;AACA,2C;AACA,G;AACA,mD;AACA,wB;;AAEA,yB;AACA,kB;AACA,iD;AACA,S;AACA,gB;AACA,+C;AACA,E;AACA,C;;AAEA,G;AACA,+C;AACA,0C;AACA,G;AACA,uD;AACA,yB;AACA,yB;AACA,0B;AACA,U;AACA,8C;AACA,G;AACA,E;;AAEA,G;AACA,0C;AACA,G;AACA,gD;AACA,iC;AACA,mD;AACA,sD;AACA,G;;AAEA,yB;AACA,E;;AAEA,G;AACA,2C;AACA,G;AACA,gD;AACA,iC;AACA,sD;AACA,yD;AACA,G;;AAEA,wC;AACA,E;;AAEA,G;AACA,gD;AACA,G;AACA,gD;AACA,8C;AACA,E;;AAEA,G;AACA,2B;AACA,2C;AACA,G;AACA,0D;AACA,yB;AACA,uB;AACA,E;;AAEA,G;AACA,8B;AACA,G;AACA,8C;AACA,iC;AACA,2B;AACA,U;AACA,mB;AACA,wC;AACA,G;AACA,E;;AAEA,G;AACA,yB;AACA,2C;AACA,G;AACA,wD;AACA,yB;AACA,qB;AACA,E;;AAEA,G;AACA,kC;AACA,G;AACA,4C;AACA,qE;AACA,sC;AACA,I;AACA,yD;AACA,iB;AACA,sB;AACA,wB;AACA,+C;AACA,qC;AACA,gC;AACA,I;AACA,gD;AACA,E;;AAEA,G;AACA,oD;AACA,6C;AACA,G;AACA,uD;AACA,6B;AACA,mD;AACA,mB;AACA,+B;AACA,I;AACA,mD;AACA,yD;AACA,2B;AACA,wB;AACA,E;;AAEA,G;AACA,oD;AACA,G;AACA,mD;AACA,0D;AACA,E;;AAEA,G;AACA,2C;AACA,2C;AACA,G;AACA,0D;AACA,wB;AACA,kE;;AAEA,uE;AACA,gC;AACA,E;AACA,E;;AAEA,G;AACA,uE;AACA,G;AACA,yD;AACA,wD;AACA,6B;AACA,gD;AACA,E;;AAEA,G;AACA,uE;AACA,0E;AACA,G;AACA,yD;AACA,4D;AACA,uF;AACA,2B;AACA,gC;AACA,6D;AACA,E;AACA,E;;AAEA,G;AACA,iC;AACA,G;AACA,uC;AACA,mD;;AAEA,sD;AACA,0B;AACA,E;AACA,E;;AAEA,G;AACA,yB;AACA,G;AACA,yC;AACA,sD;AACA,wB;AACA,E;;AAEA,2C;AACA,0D;AACA,E;;AAEA,G;AACA,gE;AACA,2C;AACA,G;AACA,+C;AACA,kB;;AAEA,gC;AACA,sC;AACA,E;AACA,yB;AACA,wC;AACA,E;;AAEA,gB;AACA,E;;AAEA,G;AACA,oC;AACA,G;AACA,uC;AACA,yC;AACA,yB;AACA,oC;AACA,2B;AACA,yC;AACA,gC;AACA,wB;AACA,E;;AAEA,G;AACA,iE;AACA,G;AACA,wC;AACA,gB;AACA,C;;AAEA,yB;AACA,G;AACA,gG;AACA,G;AACA,W;AACA,oD;AACA,mG;AACA,uE;AACA,iE;AACA,2F;AACA,0D;AACA,G;AACA,c;;AAEA,yE;AACA,gB;;AAEA,wD;AACA,qB;;AAEA,mD;AACA,2B;;AAEA,iE;AACA,uB;;AAEA,wE;AACA,8C;AACA,iD;AACA,8D;;AAEA,K;AACA,0C;AACA,sF;AACA,K;AACA,uD;;AAEA,oE;AACA,uB;;AAEA,yC;AACA,8C;;AAEA,wD;AACA,yC;;AAEA,8D;AACA,yB;;AAEA,+D;AACA,0B;;AAEA,uE;AACA,qD;;AAEA,iD;AACA,uB;AACA,6E;AACA,2C;AACA,I;;AAEA,4D;AACA,0B;;AAEA,2C;AACA,uC;AACA,oC;AACA,qC;AACA,kC;AACA,oC;AACA,sC;AACA,sC;AACA,sC;AACA,sC;AACA,sC;;AAEA,wE;AACA,4B;AACA,sC;AACA,8D;AACA,6D;AACA,iE;AACA,uE;;AAEA,2D;AACA,oB;AACA,0B;AACA,wB;AACA,kB;AACA,qB;AACA,I;;AAEA,uD;AACA,sB;AACA,e;AACA,kB;AACA,iB;AACA,mB;AACA,e;AACA,iB;AACA,e;AACA,0B;AACA,oB;AACA,c;AACA,mB;AACA,I;;AAEA,oE;AACA,qB;AACA,qB;AACA,qB;AACA,mB;AACA,oB;AACA,oB;AACA,sB;AACA,I;;AAEA,4E;AACA,uB;AACA,e;AACA,a;AACA,c;AACA,c;AACA,c;AACA,sB;AACA,qB;AACA,I;;AAEA,iD;AACA,4D;;AAEA,uC;AACA,2F;;AAEA,sC;AACA,sF;;AAEA,+D;AACA,sF;;AAEA,6F;AACA,wD;AACA,6F;AACA,sB;AACA,G;;AAEA,gF;;AAEA,K;AACA,sE;AACA,qB;AACA,I;AACA,a;AACA,2D;AACA,qD;AACA,K;AACA,oC;AACA,uC;AACA,G;;AAEA,K;AACA,iF;AACA,I;AACA,a;AACA,8C;AACA,K;AACA,uB;AACA,iC;AACA,G;;AAEA,K;AACA,+C;AACA,I;AACA,a;AACA,yC;AACA,kF;AACA,K;AACA,0B;AACA,gF;AACA,+E;AACA,kF;AACA,G;;AAEA,K;AACA,qD;AACA,I;AACA,a;AACA,iD;AACA,K;AACA,gC;AACA,qB;AACA,yC;AACA,4B;AACA,K;AACA,G;;AAEA,K;AACA,6E;AACA,qB;AACA,I;AACA,+E;AACA,uD;AACA,I;AACA,a;AACA,qE;AACA,2C;AACA,uC;AACA,4C;AACA,K;AACA,qC;AACA,yB;AACA,oC;AACA,qC;AACA,K;AACA,mB;AACA,kC;AACA,gD;;AAEA,8B;AACA,2C;AACA,K;AACA,kB;AACA,G;;AAEA,gF;;AAEA,K;AACA,wC;AACA,I;AACA,8E;AACA,8B;AACA,K;AACA,oB;;AAEA,0C;AACA,mC;AACA,qC;AACA,qC;;AAEA,yD;AACA,sC;;AAEA,6C;AACA,6B;AACA,oB;AACA,6C;AACA,oD;AACA,I;;AAEA,gC;AACA,+C;AACA,kD;AACA,2B;AACA,8D;AACA,iC;;AAEA,2C;AACA,oC;AACA,qC;AACA,S;AACA,iB;AACA,gE;AACA,yC;AACA,kB;AACA,kB;AACA,O;;AAEA,wF;AACA,4E;AACA,+E;AACA,oE;;AAEA,2D;AACA,uB;AACA,kC;AACA,mC;AACA,gC;AACA,oC;AACA,oC;AACA,oC;AACA,oC;AACA,oC;;AAEA,oE;AACA,wB;AACA,sK;AACA,mH;AACA,6H;AACA,sD;;AAEA,e;AACA,sC;AACA,sB;AACA,sC;AACA,2C;AACA,iH;AACA,+C;AACA,S;AACA,O;AACA,K;AACA,O;;AAEA,gF;;AAEA,K;AACA,8E;AACA,qB;AACA,I;AACA,sF;AACA,oF;AACA,kB;AACA,I;AACA,4E;AACA,oD;AACA,I;AACA,yC;AACA,yE;AACA,yE;AACA,iF;AACA,+E;AACA,4E;AACA,iF;AACA,iF;AACA,gF;AACA,4E;AACA,+E;AACA,c;AACA,I;AACA,6C;AACA,8E;AACA,8E;AACA,6E;AACA,mF;AACA,gF;AACA,iF;AACA,qF;AACA,oD;AACA,I;AACA,+E;AACA,sD;AACA,I;AACA,oE;AACA,I;AACA,Y;AACA,iB;AACA,uB;AACA,+D;AACA,mD;AACA,a;AACA,I;AACA,gC;AACA,I;AACA,kC;AACA,wC;AACA,wB;AACA,Q;AACA,Y;AACA,I;AACA,+B;AACA,8C;AACA,wB;AACA,Q;AACA,I;AACA,wB;AACA,gB;AACA,I;AACA,gC;AACA,e;AACA,K;AACA,qB;AACA,6B;AACA,G;;AAEA,K;AACA,kD;AACA,I;AACA,Y;AACA,gB;AACA,iB;AACA,K;AACA,oC;;AAEA,e;AACA,0C;AACA,yC;AACA,mB;;AAEA,8C;AACA,kD;AACA,8B;;AAEA,O;AACA,+F;AACA,M;AACA,0B;AACA,oB;AACA,O;AACA,8D;;AAEA,O;AACA,6F;AACA,M;AACA,0B;AACA,oB;AACA,O;AACA,0F;;AAEA,O;AACA,wE;AACA,oD;AACA,M;AACA,0B;AACA,oB;AACA,O;AACA,+H;;AAEA,O;AACA,kE;AACA,M;AACA,oE;AACA,qE;AACA,wE;AACA,uB;AACA,M;AACA,0B;AACA,oB;AACA,O;AACA,0E;;AAEA,O;AACA,mE;AACA,iF;AACA,M;AACA,0B;AACA,oB;AACA,O;AACA,gG;;AAEA,O;AACA,2D;AACA,M;AACA,0B;AACA,oB;AACA,O;AACA,yD;;AAEA,O;AACA,8D;AACA,sD;AACA,M;AACA,0B;AACA,oB;AACA,O;AACA,mC;;AAEA,O;AACA,qF;AACA,M;AACA,8E;AACA,wE;AACA,M;AACA,0B;AACA,oB;AACA,O;AACA,oD;;AAEA,O;AACA,uF;AACA,M;AACA,iF;AACA,iF;AACA,6E;AACA,iF;AACA,qF;AACA,M;AACA,0B;AACA,oB;AACA,O;AACA,6E;;AAEA,O;AACA,uE;AACA,M;AACA,uE;AACA,8C;AACA,M;AACA,0B;AACA,oB;AACA,O;AACA,+D;;AAEA,O;AACA,sE;AACA,2E;AACA,8C;AACA,M;AACA,0B;AACA,oB;AACA,O;AACA,S;AACA,iG;AACA,gB;AACA,+B;AACA,K;AACA,Q;;AAEA,K;AACA,gF;AACA,mF;AACA,gB;AACA,I;AACA,Y;AACA,gB;AACA,iB;AACA,K;AACA,6B;;AAEA,O;AACA,gE;AACA,M;AACA,mC;AACA,mB;AACA,O;AACA,iC;;AAEA,O;AACA,2C;AACA,M;AACA,mC;AACA,mB;AACA,O;AACA,kC;;AAEA,O;AACA,uD;AACA,M;AACA,mC;AACA,mB;AACA,O;AACA,iC;;AAEA,O;AACA,8D;AACA,M;AACA,mC;AACA,mB;AACA,O;AACA,mB;;AAEA,O;AACA,2D;AACA,M;AACA,mC;AACA,mB;AACA,O;AACA,gB;;AAEA,S;AACA,8C;AACA,Q;AACA,6C;AACA,uB;AACA,S;AACA,iB;AACA,K;AACA,I;;AAEA,gF;;AAEA,K;AACA,oD;AACA,I;AACA,a;AACA,oE;AACA,qD;AACA,K;AACA,wC;;AAEA,wC;AACA,oB;AACA,mB;AACA,gB;AACA,0C;AACA,e;AACA,Q;AACA,qB;AACA,gE;AACA,iB;AACA,Y;AACA,kC;AACA,uF;AACA,M;AACA,mD;AACA,gB;AACA,0B;AACA,sC;AACA,oK;AACA,gB;AACA,6B;AACA,M;;AAEA,kC;AACA,sE;AACA,M;;AAEA,kC;AACA,gG;AACA,M;;AAEA,6O;;AAEA,kC;AACA,4N;AACA,gC;AACA,uB;AACA,+B;AACA,c;AACA,M;AACA,U;AACA,gB;AACA,Y;AACA,6B;AACA,qB;AACA,M;AACA,qB;AACA,a;AACA,6C;AACA,gH;AACA,uB;AACA,+B;AACA,c;AACA,M;AACA,U;AACA,gB;AACA,Y;AACA,6B;AACA,qB;AACA,M;AACA,uB;AACA,kC;AACA,qU;AACA,8B;AACA,+B;AACA,4B;AACA,0F;AACA,8B;AACA,6E;AACA,M;AACA,0B;AACA,gB;AACA,qB;AACA,M;AACA,uB;AACA,M;;AAEA,M;;AAEA,4C;AACA,iB;AACA,M;AACA,U;AACA,kB;AACA,uB;;AAEA,c;AACA,I;;AAEA,gF;;AAEA,K;AACA,4E;AACA,wB;AACA,I;AACA,a;AACA,iD;AACA,wD;AACA,K;AACA,+B;AACA,2B;AACA,kC;AACA,8B;;AAEA,sB;AACA,6B;AACA,wC;AACA,wB;AACA,4E;AACA,6E;AACA,2C;AACA,sC;AACA,oC;AACA,O;AACA,kD;AACA,sC;AACA,kC;AACA,sD;AACA,qD;AACA,gE;AACA,uD;AACA,O;AACA,oD;AACA,K;AACA,iC;AACA,iB;AACA,G;;AAEA,K;AACA,8E;AACA,2B;AACA,I;AACA,a;AACA,yC;AACA,0D;AACA,2E;AACA,gE;AACA,2E;AACA,2C;AACA,K;AACA,+D;AACA,mB;AACA,mC;AACA,yC;AACA,sB;AACA,O;AACA,K;AACA,wB;AACA,gC;AACA,gB;AACA,2C;AACA,kF;AACA,qB;AACA,O;AACA,wC;AACA,0B;AACA,uB;AACA,uB;AACA,kC;;AAEA,yB;AACA,yB;AACA,iC;;AAEA,yB;AACA,2D;AACA,6C;AACA,wB;AACA,O;AACA,Y;AACA,mB;AACA,K;AACA,+B;AACA,iB;AACA,qE;AACA,gC;AACA,sC;AACA,sC;;AAEA,iC;AACA,wB;AACA,sC;AACA,gC;AACA,S;AACA,O;AACA,+C;AACA,K;AACA,U;AACA,wD;AACA,K;AACA,qD;AACA,gB;AACA,gD;AACA,mC;AACA,O;AACA,gD;AACA,mC;AACA,O;AACA,K;AACA,6B;AACA,kB;AACA,oB;AACA,K;AACA,6D;AACA,sC;AACA,uB;AACA,wB;;AAEA,oE;AACA,gE;AACA,0E;AACA,O;;AAEA,sB;AACA,2B;AACA,2B;AACA,K;AACA,kB;AACA,G;;AAEA,K;AACA,wE;AACA,sC;AACA,I;AACA,a;AACA,0D;AACA,8C;AACA,K;AACA,8C;AACA,8D;AACA,G;AACA,kD;AACA,sB;AACA,8B;AACA,0B;AACA,kC;AACA,kC;AACA,uC;AACA,kC;AACA,kC;AACA,S;AACA,uC;AACA,Q;AACA,S;AACA,G;;AAEA,K;AACA,+E;AACA,4C;AACA,I;AACA,a;AACA,mE;AACA,qE;AACA,6E;AACA,qD;AACA,K;AACA,wD;AACA,oC;AACA,sB;AACA,K;AACA,sE;AACA,kE;AACA,kB;AACA,K;AACA,qC;AACA,yC;AACA,8B;AACA,8B;AACA,O;AACA,iD;AACA,sB;AACA,2C;AACA,iC;AACA,8C;AACA,S;AACA,wB;AACA,iF;AACA,yC;AACA,sC;AACA,S;AACA,O;AACA,K;AACA,sE;AACA,uE;AACA,kB;AACA,K;AACA,uB;AACA,sC;AACA,yC;AACA,Q;AACA,qC;AACA,wC;AACA,Q;AACA,yD;AACA,4D;AACA,Q;AACA,sE;AACA,yE;AACA,Q;AACA,K;AACA,+B;AACA,G;;AAEA,K;AACA,4E;AACA,wB;AACA,I;AACA,a;AACA,iD;AACA,kD;AACA,K;AACA,wC;AACA,2B;AACA,8B;AACA,kC;AACA,uC;AACA,8B;AACA,4B;;AAEA,6B;AACA,gC;AACA,8B;AACA,mC;AACA,mB;;AAEA,sB;AACA,gD;AACA,wB;AACA,sC;AACA,oC;AACA,O;AACA,wC;AACA,0C;AACA,+B;AACA,6C;AACA,S;AACA,6C;AACA,8B;AACA,gH;AACA,S;AACA,O;AACA,iC;AACA,sB;AACA,gC;AACA,O;AACA,kC;AACA,iD;AACA,mD;AACA,uD;AACA,O;AACA,2C;AACA,K;AACA,iC;AACA,iB;AACA,G;;AAEA,K;AACA,mF;AACA,qD;AACA,I;AACA,a;AACA,uC;AACA,6C;AACA,6E;AACA,yF;AACA,6D;AACA,6D;AACA,kF;AACA,K;AACA,iE;AACA,2F;AACA,mB;AACA,kC;AACA,yC;AACA,wB;AACA,O;AACA,K;AACA,sC;AACA,kB;AACA,yC;AACA,yC;AACA,K;AACA,wB;AACA,6B;;AAEA,6C;AACA,kB;AACA,oC;AACA,yC;AACA,mB;AACA,K;AACA,kF;AACA,sC;AACA,iC;AACA,qB;AACA,K;AACA,8B;AACA,qC;AACA,sC;;AAEA,iC;AACA,8B;AACA,K;AACA,kC;AACA,+B;AACA,K;AACA,kC;AACA,mB;AACA,K;AACA,wB;AACA,qB;AACA,qB;AACA,mF;AACA,6E;AACA,wB;;AAEA,uB;AACA,yC;AACA,wB;AACA,mB;AACA,iD;AACA,kD;;AAEA,uB;AACA,uB;AACA,uE;AACA,oF;AACA,8B;AACA,K;AACA,wC;AACA,iB;AACA,2C;AACA,2D;AACA,2D;;AAEA,iC;AACA,0H;AACA,O;AACA,yC;AACA,yF;AACA,qB;AACA,O;AACA,kF;AACA,iF;AACA,iF;;AAEA,gF;AACA,2B;AACA,4G;AACA,sD;AACA,a;AACA,qB;AACA,O;AACA,K;AACA,yC;AACA,2E;AACA,gF;AACA,8B;AACA,oC;AACA,oC;;AAEA,+B;AACA,sB;AACA,gC;AACA,mC;AACA,O;AACA,K;AACA,iB;AACA,kB;;AAEA,wD;AACA,mB;AACA,mB;;AAEA,gF;AACA,gB;AACA,uE;AACA,wB;AACA,sB;AACA,8B;;AAEA,8B;AACA,qE;AACA,wB;AACA,6B;AACA,8B;;AAEA,wB;AACA,6B;AACA,+F;AACA,sB;AACA,e;AACA,a;AACA,kG;AACA,kB;AACA,W;AACA,S;AACA,O;AACA,K;AACA,U;AACA,wF;AACA,4C;AACA,wC;AACA,0C;AACA,4C;AACA,iB;AACA,8C;AACA,yH;AACA,S;AACA,S;;AAEA,+B;AACA,iE;AACA,0C;AACA,4C;AACA,sE;AACA,0C;AACA,W;AACA,W;AACA,O;AACA,K;AACA,iB;AACA,iB;;AAEA,sB;AACA,2B;AACA,2B;AACA,K;AACA,kB;AACA,G;;AAEA,K;AACA,2E;AACA,qE;AACA,I;AACA,a;AACA,4E;AACA,oE;AACA,yD;AACA,kB;AACA,qB;AACA,mB;AACA,2B;AACA,sB;AACA,2B;AACA,2E;AACA,mC;AACA,+E;AACA,mC;AACA,uD;AACA,iD;AACA,kD;AACA,K;AACA,wF;AACA,6B;AACA,gC;AACA,8B;AACA,mC;AACA,iC;AACA,sC;;AAEA,0C;AACA,0B;AACA,K;AACA,2C;AACA,qB;AACA,sC;AACA,K;AACA,qD;AACA,qB;AACA,gD;AACA,K;AACA,6C;AACA,wC;AACA,yB;AACA,iC;AACA,wB;AACA,yC;AACA,O;AACA,wB;AACA,yC;AACA,O;AACA,kD;AACA,yC;AACA,8B;AACA,O;AACA,iF;AACA,uC;AACA,qB;AACA,O;AACA,yC;AACA,0C;AACA,4B;AACA,O;AACA,sC;AACA,sB;AACA,mE;AACA,O;AACA,uC;AACA,2B;AACA,2E;AACA,O;AACA,oB;AACA,6B;AACA,iD;AACA,K;AACA,6B;AACA,kF;AACA,mF;AACA,G;;AAEA,K;AACA,0C;AACA,I;AACA,a;AACA,gE;AACA,iG;AACA,gG;AACA,gG;AACA,6F;AACA,iF;AACA,uE;AACA,mF;AACA,uD;AACA,K;AACA,6B;AACA,sB;AACA,+C;;AAEA,uB;AACA,yF;AACA,mC;AACA,+B;;AAEA,gD;AACA,qE;AACA,+B;AACA,wC;AACA,O;AACA,K;AACA,iC;AACA,mD;;AAEA,kC;AACA,2B;AACA,wE;AACA,gF;AACA,wE;AACA,kF;AACA,M;;AAEA,mC;AACA,mB;AACA,iE;AACA,sF;AACA,mE;AACA,M;AACA,G;;AAEA,K;AACA,6D;AACA,I;AACA,a;AACA,2D;AACA,qD;AACA,K;AACA,kC;AACA,8B;AACA,G;;AAEA,K;AACA,4C;AACA,I;AACA,a;AACA,yC;AACA,yF;AACA,K;AACA,4B;AACA,8D;AACA,G;;AAEA,K;AACA,kD;AACA,I;AACA,a;AACA,wD;AACA,gD;AACA,K;AACA,oE;AACA,6B;AACA,qD;AACA,I;;AAEA,gF;;AAEA,K;AACA,gD;AACA,I;AACA,Y;AACA,gB;AACA,sB;AACA,yC;AACA,6F;AACA,a;AACA,I;AACA,gE;AACA,e;AACA,I;AACA,8B;AACA,gB;AACA,K;AACA,+B;AACA,kF;AACA,iD;AACA,G;AACA,6E;AACA,2B;AACA,mC;AACA,oF;AACA,qG;AACA,M;AACA,G;;AAEA,K;AACA,mC;AACA,I;AACA,Y;AACA,gB;AACA,mB;AACA,sB;AACA,yC;AACA,gF;AACA,a;AACA,I;AACA,qD;AACA,gB;AACA,I;AACA,0B;AACA,e;AACA,K;AACA,kD;AACA,kF;AACA,kD;AACA,I;;AAEA,K;AACA,8E;AACA,kD;AACA,I;AACA,a;AACA,mB;AACA,kD;AACA,yD;AACA,K;AACA,iC;AACA,qB;AACA,iB;AACA,8D;AACA,gC;AACA,K;;AAEA,K;AACA,iF;AACA,I;AACA,Y;AACA,gB;AACA,sB;AACA,kD;AACA,yD;AACA,a;AACA,I;AACA,gD;AACA,yF;AACA,K;AACA,wD;AACA,4B;AACA,gB;AACA,K;AACA,kE;AACA,wE;AACA,8B;AACA,K;AACA,8B;AACA,I;;AAEA,0E;AACA,6B;AACA,4C;AACA,wH;AACA,yC;AACA,iB;AACA,uF;AACA,I;;AAEA,8D;AACA,iC;AACA,oC;AACA,U;AACA,iC;AACA,8B;AACA,wE;AACA,8C;AACA,yC;AACA,0D;AACA,iB;AACA,uF;AACA,sB;AACA,I;;AAEA,2D;AACA,+B;AACA,2F;AACA,kB;AACA,I;;AAEA,K;AACA,iD;AACA,I;AACA,kF;AACA,mF;AACA,6C;AACA,uF;AACA,K;AACA,qB;AACA,iB;AACA,gB;AACA,gB;AACA,kB;AACA,gB;AACA,I;;AAEA,wD;AACA,4E;;AAEA,K;AACA,6E;AACA,6E;AACA,8E;AACA,6E;AACA,qD;AACA,I;AACA,a;AACA,mB;AACA,4E;AACA,6E;AACA,2D;AACA,yD;AACA,K;AACA,qD;;AAEA,gF;;AAEA,K;AACA,6E;AACA,+E;AACA,0E;AACA,6E;AACA,2C;AACA,I;AACA,Y;AACA,gB;AACA,mB;AACA,kB;AACA,sB;AACA,mD;AACA,oD;AACA,6E;AACA,2D;AACA,sD;AACA,a;AACA,I;AACA,2D;AACA,kD;AACA,I;AACA,6D;AACA,8C;AACA,Q;AACA,I;AACA,uC;AACA,+D;AACA,oD;AACA,K;AACA,wD;AACA,U;AACA,8C;AACA,e;AACA,gF;AACA,iG;AACA,uF;AACA,8C;AACA,W;AACA,Q;AACA,mG;AACA,K;;AAEA,K;AACA,+E;AACA,2E;AACA,yE;AACA,gF;AACA,+E;AACA,I;AACA,Y;AACA,gB;AACA,sB;AACA,yC;AACA,0D;AACA,2E;AACA,2D;AACA,2C;AACA,a;AACA,I;AACA,uB;AACA,uC;AACA,sC;AACA,O;AACA,I;AACA,uC;AACA,kC;AACA,e;AACA,I;AACA,0C;AACA,+B;AACA,gB;AACA,I;AACA,c;AACA,yD;AACA,wE;AACA,S;AACA,Q;AACA,I;AACA,wC;AACA,6B;AACA,Y;AACA,K;AACA,oD;AACA,4E;AACA,6D;AACA,uD;AACA,yB;AACA,wB;AACA,qB;AACA,K;AACA,+G;AACA,G;;AAEA,K;AACA,0E;AACA,+E;AACA,4E;AACA,sD;AACA,I;AACA,oF;AACA,2F;AACA,8F;AACA,8F;AACA,I;AACA,Y;AACA,gB;AACA,sB;AACA,8C;AACA,2E;AACA,2D;AACA,gD;AACA,a;AACA,I;AACA,uB;AACA,uC;AACA,sC;AACA,O;AACA,I;AACA,wC;AACA,+B;AACA,gB;AACA,I;AACA,iB;AACA,uB;AACA,sB;AACA,O;AACA,I;AACA,oD;AACA,qE;AACA,Q;AACA,I;AACA,6B;AACA,gB;AACA,K;AACA,gD;AACA,6G;AACA,G;;AAEA,K;AACA,6E;AACA,8E;AACA,+E;AACA,I;AACA,Y;AACA,gB;AACA,mB;AACA,sB;AACA,mD;AACA,oD;AACA,8E;AACA,8C;AACA,sD;AACA,a;AACA,I;AACA,uC;AACA,iE;AACA,oD;AACA,K;AACA,yD;;AAEA,K;AACA,wE;AACA,iF;AACA,+E;AACA,qD;AACA,I;AACA,Y;AACA,gB;AACA,mB;AACA,sB;AACA,uD;AACA,6E;AACA,2D;AACA,wC;AACA,a;AACA,I;AACA,uB;AACA,kB;AACA,kB;AACA,M;AACA,I;AACA,4C;AACA,mB;AACA,mB;AACA,O;AACA,I;AACA,8C;AACA,wB;AACA,Q;AACA,2F;AACA,K;AACA,0E;AACA,mB;AACA,K;;AAEA,K;AACA,iF;AACA,iF;AACA,2E;AACA,kC;AACA,I;AACA,Y;AACA,gB;AACA,mB;AACA,sB;AACA,uD;AACA,6E;AACA,2D;AACA,wC;AACA,a;AACA,I;AACA,4E;AACA,wB;AACA,Q;AACA,6F;AACA,K;AACA,0E;;AAEA,K;AACA,qC;AACA,I;AACA,Y;AACA,gB;AACA,sB;AACA,yC;AACA,kF;AACA,a;AACA,I;AACA,qB;AACA,e;AACA,K;AACA,8B;AACA,sC;AACA,G;AACA,qD;AACA,wB;AACA,kC;AACA,6E;AACA,M;AACA,G;;AAEA,K;AACA,sD;AACA,sF;AACA,I;AACA,Y;AACA,gB;AACA,sB;AACA,yC;AACA,iF;AACA,a;AACA,I;AACA,oB;AACA,e;AACA,I;AACA,2B;AACA,e;AACA,I;AACA,mB;AACA,gB;AACA,K;AACA,4B;AACA,mE;AACA,+B;AACA,yB;AACA,wD;AACA,kD;AACA,G;;AAEA,K;AACA,mC;AACA,I;AACA,Y;AACA,gB;AACA,sB;AACA,yC;AACA,gF;AACA,a;AACA,I;AACA,wB;AACA,e;AACA,K;AACA,4B;AACA,sC;AACA,wF;AACA,G;;AAEA,K;AACA,iF;AACA,I;AACA,Y;AACA,gB;AACA,sB;AACA,kD;AACA,0D;AACA,a;AACA,I;AACA,kD;AACA,2E;AACA,K;AACA,2B;AACA,mB;AACA,6B;AACA,8B;AACA,+B;;AAEA,8B;AACA,2C;AACA,K;AACA,kB;AACA,G;;AAEA,gF;;AAEA,K;AACA,+E;AACA,2E;AACA,kE;AACA,I;AACA,8E;AACA,kE;AACA,I;AACA,iF;AACA,kF;AACA,kB;AACA,I;AACA,Y;AACA,gB;AACA,kB;AACA,0B;AACA,4E;AACA,4E;AACA,6E;AACA,sE;AACA,2D;AACA,qF;AACA,a;AACA,I;AACA,sF;AACA,oB;AACA,I;AACA,uB;AACA,yD;AACA,uD;AACA,O;AACA,I;AACA,0C;AACA,qC;AACA,2D;AACA,I;AACA,0C;AACA,yC;AACA,8D;AACA,K;AACA,kD;AACA,oB;AACA,2D;;AAEA,8B;AACA,qB;AACA,qC;;AAEA,gC;AACA,sC;AACA,iD;AACA,6B;AACA,S;AACA,O;AACA,Y;AACA,+D;AACA,iD;AACA,6B;AACA,S;AACA,S;AACA,K;AACA,kB;AACA,G;;AAEA,K;AACA,6E;AACA,2E;AACA,kE;AACA,I;AACA,8E;AACA,kE;AACA,I;AACA,iF;AACA,kF;AACA,kB;AACA,I;AACA,Y;AACA,gB;AACA,6B;AACA,0B;AACA,4E;AACA,4E;AACA,6E;AACA,sE;AACA,2D;AACA,8D;AACA,a;AACA,I;AACA,uB;AACA,0D;AACA,yD;AACA,yD;AACA,O;AACA,I;AACA,uC;AACA,2B;AACA,Q;AACA,4D;AACA,I;AACA,0C;AACA,sC;AACA,6D;AACA,I;AACA,0C;AACA,mC;AACA,yD;AACA,K;AACA,gD;AACA,2D;;AAEA,8B;AACA,qB;AACA,qC;;AAEA,gC;AACA,sC;AACA,iD;AACA,uB;AACA,S;AACA,O;AACA,Y;AACA,iB;AACA,+D;AACA,iD;AACA,yB;AACA,uB;AACA,S;AACA,S;AACA,oB;AACA,K;AACA,G;;AAEA,K;AACA,4E;AACA,kF;AACA,0E;AACA,kC;AACA,I;AACA,gF;AACA,6E;AACA,sC;AACA,I;AACA,Y;AACA,gB;AACA,gB;AACA,0B;AACA,4E;AACA,6E;AACA,2D;AACA,yD;AACA,a;AACA,I;AACA,yE;AACA,+C;AACA,I;AACA,wF;AACA,yG;AACA,K;AACA,mD;AACA,2E;AACA,qB;AACA,qC;;AAEA,gC;AACA,uE;AACA,gB;AACA,S;AACA,O;AACA,Y;AACA,8C;AACA,K;AACA,sB;AACA,G;;AAEA,K;AACA,qE;AACA,gE;AACA,I;AACA,8E;AACA,kE;AACA,I;AACA,iF;AACA,kF;AACA,kB;AACA,I;AACA,Y;AACA,gB;AACA,0B;AACA,4E;AACA,4E;AACA,6E;AACA,sE;AACA,2D;AACA,qF;AACA,a;AACA,I;AACA,qF;AACA,oB;AACA,I;AACA,uB;AACA,yD;AACA,uD;AACA,O;AACA,I;AACA,0C;AACA,qC;AACA,8D;AACA,I;AACA,0C;AACA,yC;AACA,2D;AACA,K;AACA,kD;AACA,2D;AACA,kE;AACA,iD;AACA,O;AACA,G;;AAEA,gF;;AAEA,K;AACA,yE;AACA,+E;AACA,oC;AACA,I;AACA,Y;AACA,gB;AACA,wB;AACA,iD;AACA,uD;AACA,2D;AACA,wD;AACA,a;AACA,I;AACA,oC;AACA,yC;AACA,O;AACA,I;AACA,mD;AACA,Y;AACA,oB;AACA,K;AACA,gC;AACA,+B;AACA,mE;AACA,oD;AACA,G;;AAEA,gF;;AAEA,K;AACA,gF;AACA,kF;AACA,gF;AACA,qF;AACA,I;AACA,Y;AACA,gB;AACA,wB;AACA,mE;AACA,qE;AACA,6E;AACA,qD;AACA,a;AACA,I;AACA,uB;AACA,uC;AACA,sC;AACA,O;AACA,I;AACA,iD;AACA,oF;AACA,yD;AACA,mE;AACA,6F;AACA,S;AACA,Q;AACA,I;AACA,uC;AACA,0C;AACA,K;AACA,oD;AACA,2B;AACA,6C;AACA,yD;AACA,K;AACA,iD;AACA,2B;AACA,4B;AACA,K;AACA,2B;AACA,uB;AACA,sB;;AAEA,iD;AACA,uD;AACA,uE;AACA,8C;AACA,+B;AACA,4B;AACA,wD;AACA,Q;AACA,K;AACA,6B;AACA,gC;AACA,yB;;AAEA,wB;AACA,8F;AACA,gB;AACA,S;AACA,O;AACA,oB;AACA,M;AACA,G;;AAEA,K;AACA,6E;AACA,iC;AACA,I;AACA,Y;AACA,gB;AACA,wB;AACA,iD;AACA,kD;AACA,a;AACA,I;AACA,wC;AACA,uC;AACA,K;AACA,2B;AACA,yF;AACA,G;;AAEA,K;AACA,2D;AACA,I;AACA,Y;AACA,gB;AACA,wB;AACA,gC;AACA,kC;AACA,a;AACA,I;AACA,qC;AACA,mC;AACA,e;AACA,K;AACA,4B;AACA,iB;AACA,G;;AAEA,K;AACA,6B;AACA,I;AACA,Y;AACA,gB;AACA,wB;AACA,a;AACA,I;AACA,qC;AACA,kC;AACA,e;AACA,K;AACA,mB;AACA,6B;AACA,G;;AAEA,K;AACA,2E;AACA,kB;AACA,I;AACA,Y;AACA,gB;AACA,wB;AACA,8D;AACA,kD;AACA,a;AACA,I;AACA,uB;AACA,uC;AACA,sC;AACA,O;AACA,I;AACA,sC;AACA,I;AACA,gC;AACA,6B;AACA,I;AACA,mC;AACA,6E;AACA,K;AACA,0B;AACA,6B;AACA,yB;AACA,M;AACA,G;;AAEA,K;AACA,2E;AACA,uE;AACA,I;AACA,gF;AACA,mG;AACA,I;AACA,wD;AACA,oC;AACA,I;AACA,4D;AACA,sE;AACA,I;AACA,Y;AACA,gB;AACA,wB;AACA,4C;AACA,oE;AACA,kD;AACA,6D;AACA,iE;AACA,gG;AACA,uE;AACA,iF;AACA,8D;AACA,iF;AACA,sD;AACA,a;AACA,I;AACA,uE;AACA,oD;AACA,kC;AACA,uB;AACA,I;AACA,2E;AACA,gE;AACA,kC;AACA,I;AACA,uD;AACA,wF;AACA,wD;AACA,yC;AACA,I;AACA,wF;AACA,0D;AACA,0B;AACA,I;AACA,oE;AACA,wE;AACA,0B;AACA,I;AACA,0C;AACA,2B;AACA,uC;AACA,O;AACA,I;AACA,6D;AACA,4B;AACA,I;AACA,mD;AACA,sF;AACA,yF;AACA,yC;AACA,I;AACA,mF;AACA,kG;AACA,oB;AACA,0G;AACA,I;AACA,kG;AACA,qF;AACA,qB;AACA,2B;AACA,yC;AACA,uE;AACA,kB;AACA,M;AACA,I;AACA,+E;AACA,wD;AACA,kD;AACA,mB;AACA,qD;AACA,U;AACA,Q;AACA,K;AACA,0C;AACA,kD;AACA,yD;AACA,mC;AACA,mC;AACA,2C;AACA,8B;;AAEA,wE;AACA,8C;;AAEA,kE;AACA,oC;AACA,wC;;AAEA,qB;AACA,kB;AACA,uD;AACA,4B;;AAEA,iD;AACA,8B;AACA,kD;AACA,gC;AACA,+E;AACA,mD;AACA,W;;AAEA,uH;AACA,+D;;AAEA,qE;AACA,uF;;AAEA,yC;AACA,wB;AACA,uD;AACA,O;AACA,0B;AACA,4B;AACA,yD;AACA,O;AACA,6B;AACA,sF;AACA,O;AACA,oC;;AAEA,gF;AACA,8D;AACA,mB;AACA,O;;AAEA,qB;;AAEA,iF;AACA,gE;AACA,oC;AACA,+B;;AAEA,uB;AACA,uB;AACA,gE;AACA,K;AACA,8C;AACA,+E;AACA,yC;AACA,6C;;AAEA,sC;AACA,+C;AACA,wE;AACA,2C;AACA,mB;AACA,6C;AACA,iE;AACA,e;AACA,S;AACA,c;AACA,sB;;AAEA,4C;AACA,sF;AACA,oI;;AAEA,S;AACA,yG;AACA,gB;AACA,wB;AACA,c;AACA,K;AACA,e;AACA,0B;AACA,K;AACA,0E;AACA,4E;AACA,2D;AACA,2B;AACA,kB;AACA,G;;AAEA,gF;;AAEA,yB;AACA,qB;AACA,yC;AACA,6B;AACA,yB;AACA,2B;AACA,uB;AACA,yB;AACA,qB;AACA,6B;AACA,yB;AACA,yB;;AAEA,wB;AACA,yB;AACA,yB;;AAEA,gF;;AAEA,6D;AACA,uB;AACA,+B;AACA,yB;AACA,qB;AACA,6B;AACA,mC;AACA,2B;AACA,iC;AACA,6B;AACA,6B;AACA,qB;AACA,6B;;AAEA,uB;AACA,0B;;AAEA,gF;;AAEA,K;AACA,iC;AACA,I;AACA,Y;AACA,gB;AACA,iB;AACA,K;AACA,2B;;AAEA,gF;;AAEA,kC;AACA,4B;AACA,wB;AACA,+C;AACA,K;AACA,mC;AACA,U;AACA,6B;AACA,K;AACA,G;;AAEA,c;;AAEA,G;AACA,gG;AACA,6B;AACA,mB;AACA,+/D;AACA,c;AACA,C;AACA,G;;AAEA,4F;AACA,8/B;AACA,G;AACA,4F;AACA,2Z;AACA,G;AACA,mF;AACA,gE;;AAEA,oE;;;;;;;;;;;;;;;;;;;ACrrGA,wC;;AAEA,mF;;AAEA,uD;AACA,oD;AACA,oB;;AAEA,e;;AAEA,mC;;AAEA,K;AACA,iC;AACA,6B;AACA,4C;AACA,qB;AACA,uD;AACA,4C;AACA,K;AACA,gE;AACA,S;AACA,e;AACA,2B;AACA,O;AACA,4B;AACA,4C;AACA,mB;AACA,S;AACA,O;AACA,gB;AACA,K;AACA,sE;AACA,wC;AACA,uB;AACA,qC;AACA,6B;AACA,K;AACA,2D;AACA,yB;AACA,wB;AACA,wB;AACA,wD;AACA,U;AACA,O;AACA,6B;AACA,wB;AACA,mC;AACA,kD;AACA,U;AACA,O;AACA,+C;AACA,K;AACA,mC;AACA,S;AACA,yE;AACA,qE;AACA,e;AACA,8B;AACA,O;AACA,4B;AACA,8B;AACA,O;AACA,2C;AACA,oD;AACA,Q;AACA,K;AACA,gD;AACA,qC;AACA,iC;AACA,K;AACA,G;AACA,oF;AACA,iE;AACA,sC;AACA,sC;AACA,2B;AACA,I;AACA,8C;AACA,gB;AACA,qD;AACA,I;AACA,oC;AACA,O;AACA,0B;AACA,a;AACA,yB;AACA,a;AACA,uB;AACA,K;AACA,Q;AACA,6B;AACA,sD;AACA,yB;AACA,uB;AACA,O;AACA,K;AACA,oB;;AAEA,kB;AACA,8B;AACA,K;AACA,I;AACA,uC;AACA,O;AACA,0B;AACA,a;AACA,yB;AACA,a;AACA,uB;AACA,a;AACA,K;AACA,Q;AACA,6B;AACA,iD;AACA,4B;AACA,8B;AACA,uB;AACA,mD;AACA,O;AACA,K;AACA,oB;;AAEA,kB;AACA,8B;AACA,K;AACA,I;AACA,mD;AACA,gB;;AAEA,O;AACA,qC;AACA,yB;AACA,kC;AACA,O;AACA,gC;AACA,K;;AAEA,iB;AACA,0B;AACA,K;;AAEA,4C;AACA,mB;AACA,Y;AACA,qB;AACA,K;AACA,I;AACA,yC;AACA,0B;AACA,I;;AAEA,8B;AACA,6B;AACA,4B;AACA,wB;AACA,0B;AACA,M;AACA,S;AACA,4E;AACA,0D;AACA,sC;AACA,6C;AACA,8E;AACA,O;AACA,K;AACA,kD;AACA,kE;AACA,G;;AAEA,W;AACA,C;;AAEA,U;AACA,yB;AACA,a;AACA,E;AACA,kC;AACA,gD;AACA,mB;AACA,kE;AACA,G;;AAEA,0B;AACA,0F;AACA,mB;;AAEA,yE;;AAEA,kB;AACA,e;;AAEA,wC;;AAEA,8B;AACA,S;AACA,e;AACA,a;AACA,kB;AACA,G;;AAEA,uE;AACA,kE;AACA,0G;AACA,O;AACA,sC;AACA,qF;AACA,O;AACA,kD;AACA,uB;AACA,O;AACA,wD;AACA,yB;AACA,gC;AACA,yB;AACA,iC;AACA,O;AACA,6C;AACA,qC;AACA,4C;AACA,wC;AACA,2C;AACA,O;AACA,yB;AACA,+E;AACA,oE;AACA,kB;AACA,2C;AACA,qD;AACA,yD;AACA,yD;AACA,sB;AACA,wB;AACA,wB;;AAEA,sC;AACA,oC;;AAEA,yD;AACA,K;AACA,yC;AACA,4B;AACA,8E;AACA,K;AACA,mB;AACA,oC;AACA,sC;AACA,W;AACA,oF;AACA,sB;AACA,S;AACA,4B;AACA,sC;AACA,4D;AACA,mC;AACA,kB;AACA,2C;AACA,0D;AACA,W;AACA,S;AACA,wB;AACA,Q;AACA,K;AACA,0C;AACA,S;AACA,0B;AACA,yB;AACA,O;AACA,0B;AACA,0C;AACA,O;AACA,qC;AACA,yC;AACA,yC;AACA,0D;AACA,6C;AACA,uE;AACA,qB;AACA,gE;AACA,gB;AACA,uE;AACA,S;AACA,0C;AACA,2D;AACA,O;AACA,M;AACA,gD;AACA,6E;AACA,0D;AACA,O;AACA,M;AACA,oD;AACA,yB;AACA,uC;AACA,sF;AACA,W;AACA,oB;AACA,sC;AACA,iB;AACA,gC;AACA,S;AACA,kC;AACA,6C;AACA,S;AACA,qB;AACA,4E;AACA,6B;AACA,sC;AACA,+C;AACA,gB;AACA,+D;AACA,sD;AACA,S;AACA,4C;AACA,iD;AACA,mC;AACA,6C;AACA,iD;AACA,6C;AACA,6B;AACA,S;AACA,c;AACA,uC;AACA,6D;AACA,S;AACA,yC;AACA,oD;AACA,O;AACA,M;AACA,wC;AACA,8B;AACA,oB;AACA,O;AACA,2D;AACA,M;AACA,qC;AACA,oC;AACA,M;AACA,iD;AACA,kC;AACA,qB;AACA,oB;AACA,O;AACA,0B;AACA,mE;AACA,c;AACA,uB;AACA,Q;AACA,M;AACA,oC;AACA,6B;AACA,M;AACA,iC;AACA,oB;AACA,uB;AACA,M;AACA,2B;AACA,W;;AAEA,4C;AACA,mD;AACA,oC;AACA,oB;AACA,6D;AACA,+D;AACA,8C;AACA,S;AACA,c;AACA,uC;AACA,S;AACA,O;AACA,K;AACA,qC;AACA,0C;AACA,oC;AACA,K;AACA,gB;AACA,I;;AAEA,kE;AACA,4B;AACA,I;AACA,wD;AACA,2G;;AAEA,2B;AACA,iB;AACA,qC;AACA,iC;AACA,4D;AACA,4B;AACA,2B;AACA,W;AACA,Y;AACA,oC;AACA,K;AACA,qB;;AAEA,iB;;AAEA,S;;AAEA,8B;AACA,iB;;AAEA,gD;AACA,iB;AACA,0B;AACA,8B;AACA,oG;AACA,0C;AACA,a;AACA,S;AACA,oB;AACA,K;;AAEA,Y;;AAEA,kG;AACA,kB;AACA,uM;;AAEA,kD;AACA,kB;AACA,yB;AACA,mB;AACA,sB;AACA,uB;AACA,sB;AACA,sB;AACA,U;;AAEA,uF;;AAEA,mD;AACA,0C;AACA,U;;AAEA,kD;AACA,kD;AACA,gC;AACA,6C;AACA,4C;AACA,iD;AACA,2E;AACA,2B;AACA,U;;AAEA,oF;AACA,4E;AACA,sE;AACA,iC;AACA,+C;AACA,gD;AACA,8D;AACA,wH;AACA,mC;AACA,yB;AACA,6G;;AAEA,gG;AACA,+F;AACA,+C;AACA,8B;AACA,8C;AACA,sC;AACA,wC;AACA,gH;AACA,8B;AACA,qB;AACA,iB;AACA,mD;AACA,a;;AAEA,4B;AACA,U;;AAEA,4D;AACA,oC;AACA,6B;AACA,a;AACA,wC;AACA,mC;AACA,sC;AACA,gC;AACA,iB;AACA,uC;AACA,a;AACA,yB;AACA,U;;AAEA,kD;AACA,4C;AACA,iD;AACA,U;;AAEA,6B;AACA,sD;AACA,U;;AAEA,kD;AACA,yC;AACA,uC;AACA,wB;AACA,qB;AACA,uB;AACA,+B;AACA,6B;AACA,qC;AACA,0C;AACA,mC;AACA,uD;AACA,mC;AACA,8C;AACA,qB;AACA,kB;;AAEA,sC;AACA,yC;AACA,a;;AAEA,gC;AACA,qC;AACA,wD;;AAEA,+B;AACA,iC;AACA,yD;AACA,kC;AACA,8C;AACA,uC;AACA,qB;AACA,mC;AACA,uD;AACA,mC;AACA,8C;AACA,qB;AACA,sC;AACA,2D;AACA,iB;AACA,8B;AACA,c;AACA,U;;AAEA,6D;;AAEA,gB;AACA,6C;AACA,uD;AACA,uC;AACA,qB;AACA,iF;AACA,sE;AACA,qC;AACA,qB;AACA,iB;;AAEA,6C;AACA,8B;;AAEA,yB;;AAEA,U;;AAEA,sC;AACA,kG;AACA,oG;AACA,0H;AACA,U;;AAEA,mG;AACA,iD;AACA,0E;;AAEA,0D;AACA,qB;AACA,sE;AACA,mC;AACA,a;;AAEA,uD;AACA,+D;AACA,gD;AACA,0D;AACA,0E;AACA,6F;AACA,6F;AACA,iG;AACA,kD;AACA,2E;AACA,wF;AACA,yD;AACA,qB;AACA,gD;AACA,iB;AACA,uC;;AAEA,8C;AACA,oC;AACA,wD;AACA,uC;AACA,yC;AACA,0D;AACA,iB;AACA,2C;;AAEA,0C;AACA,+B;AACA,+C;AACA,kD;AACA,yC;AACA,gD;AACA,8C;AACA,iB;AACA,a;AACA,U;;AAEA,qD;AACA,yD;AACA,6C;AACA,4B;AACA,a;AACA,2C;AACA,U;;AAEA,qI;AACA,iB;AACA,qD;AACA,+D;AACA,mF;AACA,6B;AACA,U;;AAEA,yC;AACA,wB;;AAEA,mC;AACA,mD;AACA,a;;AAEA,uE;AACA,mC;AACA,uC;AACA,uD;AACA,iB;AACA,a;;AAEA,oB;AACA,uB;AACA,gC;AACA,c;AACA,U;;AAEA,kD;AACA,mF;AACA,+D;AACA,uD;AACA,oF;AACA,+D;AACA,yF;AACA,+D;AACA,a;AACA,oD;AACA,8B;AACA,a;AACA,gE;AACA,uD;AACA,iG;AACA,mH;AACA,4B;AACA,+C;AACA,qE;AACA,iB;AACA,8C;AACA,a;AACA,kE;AACA,U;;AAEA,gD;AACA,uC;AACA,kB;AACA,mD;AACA,qC;AACA,oB;AACA,kD;;AAEA,oD;AACA,4C;AACA,iB;AACA,a;AACA,U;;AAEA,uD;AACA,iD;AACA,kB;AACA,kB;AACA,mD;AACA,yD;AACA,iD;AACA,iB;AACA,oB;AACA,kD;AACA,oD;AACA,6D;AACA,wD;AACA,qB;AACA,iB;AACA,a;AACA,U;;AAEA,qC;AACA,wB;AACA,6B;AACA,a;AACA,sD;AACA,4B;AACA,a;;AAEA,6C;AACA,2D;AACA,sF;AACA,uC;AACA,gC;AACA,iB;AACA,mD;AACA,uD;AACA,+D;AACA,wB;AACA,iC;AACA,iB;AACA,a;AACA,yB;AACA,U;;AAEA,0C;AACA,yD;AACA,iD;AACA,kG;AACA,2D;AACA,iB;AACA,a;AACA,U;;AAEA,2C;AACA,4C;AACA,6C;AACA,qB;AACA,gB;AACA,2C;AACA,sD;AACA,+B;AACA,8B;AACA,wC;AACA,U;;AAEA,6D;AACA,0C;AACA,+C;AACA,sC;AACA,uE;AACA,6B;AACA,gC;AACA,a;AACA,sD;AACA,gD;AACA,a;AACA,S;AACA,M;AACA,qB;;AAEA,c;;AAEA,8B;AACA,iB;;AAEA,iB;AACA,oF;AACA,yE;;AAEA,6C;AACA,6B;AACA,a;;AAEA,4C;AACA,oD;;AAEA,iE;AACA,U;;AAEA,uD;AACA,mE;AACA,8D;AACA,8B;AACA,U;;AAEA,mE;AACA,mE;AACA,yG;AACA,8B;AACA,U;;AAEA,2E;AACA,sB;AACA,uD;AACA,kB;AACA,0B;AACA,gE;AACA,oB;AACA,0B;AACA,iC;AACA,4E;AACA,oE;AACA,6E;AACA,iB;AACA,2C;AACA,a;AACA,wB;AACA,U;;AAEA,W;AACA,qG;AACA,U;AACA,6F;AACA,4G;AACA,2G;AACA,W;AACA,mE;AACA,8C;;AAEA,yB;AACA,4D;AACA,a;;AAEA,+C;AACA,gD;;AAEA,sD;AACA,sE;;AAEA,uD;AACA,yE;;AAEA,oB;AACA,sD;AACA,uD;AACA,c;AACA,U;;AAEA,+G;AACA,kD;AACA,iD;AACA,sD;AACA,4C;AACA,0D;AACA,U;;AAEA,oD;AACA,6C;AACA,0H;AACA,2F;AACA,6D;AACA,wE;AACA,oB;AACA,6D;AACA,a;AACA,yC;AACA,S;AACA,M;AACA,qB;;AAEA,W;;AAEA,8B;AACA,iB;;AAEA,kC;AACA,6B;AACA,yC;AACA,yB;AACA,+B;AACA,4B;AACA,M;;AAEA,wB;;AAEA,qC;;AAEA,wE;AACA,iE;AACA,oE;AACA,U;;AAEA,wE;AACA,kF;AACA,kB;AACA,+B;AACA,oD;AACA,2D;AACA,a;AACA,U;;AAEA,yE;AACA,2B;AACA,mE;AACA,sC;AACA,gH;AACA,6B;AACA,iB;AACA,a;AACA,sB;AACA,U;;AAEA,yC;AACA,sC;AACA,uB;AACA,2D;AACA,sC;AACA,a;AACA,U;;AAEA,wB;AACA,sD;AACA,sC;AACA,sE;AACA,wC;AACA,gD;AACA,kD;AACA,iB;AACA,uD;AACA,a;AACA,U;;AAEA,6D;AACA,0C;AACA,oE;AACA,4C;AACA,mB;AACA,a;AACA,U;;AAEA,+E;;AAEA,wC;AACA,uC;AACA,uB;AACA,a;;AAEA,2B;AACA,uC;AACA,+C;AACA,uH;AACA,uH;AACA,4C;AACA,sB;AACA,iC;AACA,0D;AACA,+D;AACA,uF;AACA,8B;AACA,4C;AACA,sB;AACA,gC;AACA,yD;AACA,+D;AACA,qF;AACA,8B;AACA,4C;AACA,sB;AACA,oC;AACA,6D;AACA,+D;AACA,6F;AACA,8B;AACA,4C;AACA,sB;AACA,mC;AACA,4D;AACA,+D;AACA,2F;AACA,8B;AACA,4C;AACA,sB;AACA,wC;AACA,sE;AACA,sD;AACA,4C;AACA,sB;AACA,sC;AACA,mE;AACA,sD;AACA,4C;AACA,sB;AACA,yC;AACA,iF;AACA,sD;AACA,4C;AACA,sB;AACA,qC;AACA,8D;AACA,+D;AACA,+F;AACA,8B;AACA,4C;AACA,sB;AACA,gC;AACA,2E;AACA,+D;AACA,6F;AACA,8F;AACA,8B;AACA,4C;AACA,sB;AACA,gC;AACA,yD;AACA,+D;AACA,qF;AACA,8B;AACA,4C;AACA,sB;AACA,iC;AACA,0D;AACA,+D;AACA,uF;AACA,8B;AACA,4C;AACA,sB;AACA,a;AACA,U;;AAEA,6C;AACA,qD;AACA,sE;AACA,+F;AACA,+E;AACA,0H;AACA,kD;AACA,iC;AACA,uF;AACA,kB;;AAEA,oE;AACA,gE;AACA,+D;AACA,gE;AACA,0D;AACA,iF;AACA,gF;AACA,wD;AACA,0B;AACA,iB;AACA,a;AACA,yE;AACA,6C;AACA,kH;AACA,qH;AACA,sE;AACA,a;AACA,U;;AAEA,uC;AACA,iF;AACA,U;;AAEA,sC;AACA,gF;AACA,U;;AAEA,0C;AACA,oF;AACA,U;;AAEA,2C;AACA,qF;AACA,U;;AAEA,0C;AACA,gF;AACA,U;;AAEA,sC;AACA,gF;AACA,U;;AAEA,uC;AACA,iF;AACA,U;;AAEA,yC;AACA,mF;;AAEA,kC;AACA,oC;AACA,4F;AACA,sB;AACA,kC;AACA,0F;AACA,sB;AACA,qC;AACA,wC;AACA,6F;AACA,sB;AACA,a;AACA,S;AACA,M;;AAEA,qB;AACA,kB;AACA,gB;;AAEA,8B;AACA,iB;;AAEA,mB;AACA,iB;AACA,yB;AACA,2B;AACA,yB;AACA,sC;AACA,oB;AACA,oC;AACA,iC;AACA,c;AACA,gC;AACA,uC;AACA,oD;AACA,oB;AACA,U;AACA,mB;AACA,2B;AACA,6B;AACA,2B;AACA,kC;AACA,oB;AACA,mC;AACA,+B;AACA,c;AACA,gC;AACA,8C;AACA,sD;AACA,oB;AACA,U;AACA,sB;AACA,8B;AACA,gC;AACA,8B;AACA,4B;AACA,oB;AACA,wC;AACA,kC;AACA,c;AACA,gC;AACA,8C;AACA,yD;AACA,oB;AACA,U;AACA,0B;AACA,kC;AACA,oC;AACA,mC;AACA,iC;AACA,oB;AACA,wC;AACA,qC;AACA,c;AACA,gC;AACA,uC;AACA,4D;AACA,U;AACA,wB;AACA,gC;AACA,kC;AACA,gC;AACA,8B;AACA,8G;AACA,oH;AACA,kC;AACA,mD;AACA,0D;AACA,U;AACA,sB;AACA,8B;AACA,gC;AACA,8B;AACA,8B;AACA,4G;AACA,oH;AACA,kC;AACA,mD;AACA,wD;AACA,U;AACA,kB;AACA,0B;AACA,4B;AACA,0B;AACA,8B;AACA,2C;AACA,wD;AACA,U;AACA,kB;AACA,0B;AACA,wC;AACA,+B;AACA,qC;AACA,6C;AACA,0D;AACA,U;AACA,wB;AACA,gC;AACA,wC;AACA,iC;AACA,6B;AACA,gC;AACA,wC;AACA,sD;AACA,U;AACA,0B;AACA,kC;AACA,0C;AACA,mC;AACA,6B;AACA,gC;AACA,4C;AACA,sD;AACA,U;AACA,gB;AACA,wB;AACA,iC;AACA,sC;AACA,8B;AACA,0C;AACA,yD;AACA,U;AACA,mB;AACA,2B;AACA,6B;AACA,2B;AACA,yB;AACA,4C;AACA,qD;AACA,U;AACA,oB;AACA,4B;AACA,8B;AACA,4B;AACA,yB;AACA,4C;AACA,sD;AACA,U;AACA,0B;AACA,kC;AACA,oC;AACA,mC;AACA,yB;AACA,oB;AACA,mC;AACA,+B;AACA,c;AACA,gC;AACA,uC;AACA,2D;AACA,U;AACA,wB;AACA,gC;AACA,kC;AACA,iC;AACA,yB;AACA,oB;AACA,mC;AACA,gC;AACA,c;AACA,gC;AACA,uC;AACA,4D;AACA,U;AACA,wB;AACA,gC;AACA,kC;AACA,iC;AACA,yB;AACA,oB;AACA,mC;AACA,6B;AACA,c;AACA,gC;AACA,uC;AACA,yD;AACA,U;AACA,yB;AACA,iC;AACA,mC;AACA,kC;AACA,yB;AACA,oB;AACA,mC;AACA,8B;AACA,c;AACA,gC;AACA,uC;AACA,0D;AACA,U;AACA,oB;AACA,4B;AACA,wC;AACA,uD;AACA,c;AACA,sC;AACA,2C;AACA,c;AACA,0C;AACA,6C;AACA,c;AACA,uC;AACA,U;AACA,oB;AACA,4B;AACA,wC;AACA,wD;AACA,c;AACA,sC;AACA,4C;AACA,c;AACA,0C;AACA,8C;AACA,c;AACA,uC;AACA,S;AACA,M;;AAEA,kD;AACA,+B;AACA,iC;AACA,4B;AACA,M;;AAEA,+B;AACA,mC;AACA,iC;;AAEA,8C;AACA,4E;AACA,mC;AACA,sF;AACA,a;AACA,U;AACA,gC;AACA,+B;AACA,U;AACA,gC;AACA,8H;AACA,U;AACA,8B;AACA,wH;AACA,U;AACA,kC;AACA,oI;AACA,U;AACA,mC;AACA,iF;AACA,sD;AACA,yD;AACA,sE;AACA,iE;AACA,8D;AACA,iD;AACA,iG;AACA,qD;AACA,6H;AACA,gF;AACA,iB;AACA,a;AACA,uC;AACA,0B;AACA,U;AACA,uC;AACA,4B;;AAEA,6C;AACA,kF;AACA,+C;AACA,yC;AACA,0C;;AAEA,8C;AACA,iC;AACA,qD;AACA,qB;AACA,iB;AACA,a;AACA,U;AACA,qC;AACA,iC;AACA,kC;;AAEA,0C;;AAEA,yB;AACA,6C;AACA,a;AACA,U;AACA,+B;AACA,uF;AACA,U;AACA,kC;AACA,8E;AACA,mC;AACA,U;AACA,gC;AACA,2E;AACA,mC;AACA,U;AACA,wC;AACA,kC;AACA,6C;AACA,2E;AACA,a;AACA,8B;AACA,U;AACA,2C;AACA,gC;AACA,8C;AACA,0B;AACA,8B;;AAEA,wE;AACA,uC;AACA,a;;AAEA,kE;AACA,8E;AACA,a;;AAEA,iD;AACA,gE;AACA,uI;AACA,kD;AACA,2C;AACA,sE;AACA,sE;AACA,qF;AACA,uF;AACA,uF;AACA,sD;AACA,yB;AACA,qB;AACA,8B;AACA,a;;AAEA,2B;AACA,S;AACA,M;AACA,qB;;AAEA,iB;;AAEA,8B;AACA,iB;AACA,2B;AACA,M;AACA,sE;AACA,qE;AACA,wE;AACA,gE;AACA,M;AACA,mC;AACA,gB;;AAEA,wE;AACA,iE;AACA,qD;;AAEA,4D;AACA,kF;AACA,4E;;AAEA,oG;AACA,iK;;AAEA,+F;AACA,sG;;AAEA,6F;AACA,mG;;AAEA,kE;AACA,6D;;AAEA,gG;AACA,gI;;AAEA,2E;AACA,kG;AACA,+C;AACA,0C;;AAEA,oE;AACA,+C;AACA,U;AACA,K;AACA,4B;;AAEA,wC;AACA,6B;AACA,yC;;AAEA,0E;AACA,8E;AACA,S;AACA,M;;AAEA,8B;AACA,gD;AACA,2B;AACA,0B;AACA,kB;AACA,6C;AACA,+C;;AAEA,gG;AACA,+E;AACA,yF;AACA,oF;AACA,iD;AACA,kB;AACA,8C;AACA,wC;AACA,yC;AACA,a;;AAEA,mC;AACA,kD;AACA,iD;AACA,uC;;AAEA,kG;AACA,wF;AACA,iB;;AAEA,mG;AACA,+F;AACA,gE;AACA,mD;AACA,sF;AACA,yB;AACA,qB;AACA,6E;AACA,wB;AACA,2F;AACA,6E;AACA,iB;AACA,a;AACA,U;;AAEA,qC;AACA,kC;AACA,+E;AACA,qD;AACA,oD;;AAEA,0D;AACA,4E;AACA,a;;AAEA,4B;AACA,kF;AACA,gD;;AAEA,wE;;AAEA,qB;AACA,sF;AACA,oC;;AAEA,wC;AACA,2D;AACA,wD;AACA,uC;;AAEA,yE;AACA,6F;AACA,8D;AACA,6E;;AAEA,2D;AACA,6B;AACA,uD;AACA,wD;AACA,yB;AACA,8B;AACA,6B;AACA,+B;AACA,wD;AACA,8B;AACA,8B;AACA,qD;AACA,8B;AACA,qB;AACA,iB;AACA,oB;AACA,qC;AACA,a;AACA,U;;AAEA,oC;AACA,kH;;AAEA,qF;;AAEA,4D;AACA,0C;;AAEA,4C;;AAEA,wD;AACA,oD;AACA,mC;;AAEA,yC;AACA,gD;AACA,gD;AACA,8C;;AAEA,8D;AACA,0D;AACA,iB;AACA,a;AACA,+G;AACA,U;AACA,sC;AACA,oG;AACA,U;AACA,2C;AACA,gE;AACA,8C;AACA,a;AACA,U;AACA,wC;;AAEA,gE;AACA,oE;AACA,0C;AACA,kI;AACA,wE;AACA,0C;AACA,oH;AACA,gF;AACA,0C;AACA,a;AACA,U;;AAEA,+F;AACA,yC;AACA,sC;AACA,wF;AACA,wE;AACA,wB;AACA,kD;AACA,iB;AACA,a;AACA,U;;AAEA,+C;AACA,kB;AACA,mB;AACA,uB;AACA,uE;AACA,uC;AACA,6G;AACA,kB;;AAEA,mD;AACA,8B;AACA,6G;;AAEA,uF;AACA,6E;AACA,qE;AACA,wB;AACA,oD;AACA,iB;AACA,uD;AACA,a;;AAEA,0D;AACA,mD;AACA,8B;;AAEA,6D;AACA,iD;AACA,iC;AACA,iB;;AAEA,yE;AACA,qC;AACA,kD;AACA,wB;AACA,8G;AACA,iB;AACA,a;AACA,S;AACA,M;AACA,qB;;AAEA,oB;;AAEA,8B;AACA,iB;;AAEA,8B;AACA,2B;AACA,wB;AACA,2B;AACA,iC;AACA,yB;AACA,4B;AACA,uC;AACA,mD;AACA,U;AACA,6B;AACA,4B;AACA,K;;AAEA,+B;;AAEA,wC;;AAEA,wD;AACA,8C;AACA,qC;AACA,iC;AACA,kC;;AAEA,oI;AACA,gD;AACA,0E;AACA,sD;AACA,a;;AAEA,sC;AACA,gC;AACA,a;;AAEA,yB;AACA,U;;AAEA,gE;AACA,8B;AACA,6B;AACA,8C;AACA,a;AACA,6B;AACA,U;;AAEA,4E;AACA,kC;AACA,4D;AACA,U;;AAEA,+B;AACA,kD;AACA,uC;AACA,U;;AAEA,yC;AACA,wC;;AAEA,sC;AACA,kD;AACA,mD;AACA,2C;;AAEA,2C;AACA,0B;AACA,U;;AAEA,sE;AACA,iC;AACA,6B;AACA,6B;AACA,a;;AAEA,uC;AACA,4D;AACA,a;;AAEA,6B;AACA,U;;AAEA,uB;;AAEA,iC;AACA,sG;AACA,sG;AACA,wB;AACA,8C;AACA,kB;;AAEA,yC;;AAEA,oD;AACA,0D;AACA,a;;AAEA,2D;AACA,uC;AACA,oB;AACA,sC;AACA,a;;AAEA,2D;AACA,uE;AACA,a;;AAEA,uC;AACA,uC;AACA,U;;AAEA,2C;AACA,2D;AACA,6D;AACA,U;;AAEA,mC;AACA,yC;AACA,uC;AACA,U;;AAEA,2C;;AAEA,iC;AACA,sD;AACA,gD;AACA,mD;AACA,+C;AACA,8C;AACA,uB;AACA,6B;AACA,uB;AACA,6B;;AAEA,gC;AACA,0D;AACA,0E;;AAEA,+C;AACA,yE;;AAEA,8B;AACA,+C;AACA,4D;AACA,wF;AACA,oC;;AAEA,2C;AACA,6E;;AAEA,6B;AACA,2C;AACA,0D;AACA,+E;AACA,4D;AACA,wC;AACA,mC;;AAEA,kD;AACA,+E;;AAEA,+B;AACA,4C;AACA,4D;AACA,gF;AACA,6D;AACA,wC;AACA,oC;;AAEA,yC;AACA,2E;;AAEA,2D;AACA,iD;AACA,oD;AACA,wD;AACA,yE;;AAEA,0D;AACA,oF;AACA,2E;;AAEA,+C;AACA,a;;AAEA,mE;AACA,iD;AACA,oD;AACA,wD;AACA,yE;;AAEA,0D;AACA,kD;AACA,2E;;AAEA,+C;AACA,a;;AAEA,wB;AACA,U;;AAEA,+B;AACA,qF;AACA,U;;AAEA,8C;AACA,6C;AACA,uD;AACA,uC;AACA,kC;AACA,uB;AACA,a;;AAEA,2C;AACA,wD;AACA,uC;AACA,oC;AACA,a;AACA,U;;AAEA,2C;AACA,uE;AACA,oC;AACA,U;;AAEA,2C;AACA,iD;AACA,mC;AACA,8B;AACA,U;;AAEA,4C;AACA,4C;AACA,mC;AACA,gC;AACA,S;AACA,M;;AAEA,iE;AACA,qB;;AAEA,kB;;AAEA,8B;AACA,iB;;AAEA,iC;AACA,2B;AACA,qC;AACA,M;;AAEA,+B;;AAEA,mC;AACA,iC;AACA,sD;AACA,gF;;AAEA,qC;AACA,U;;AAEA,wC;AACA,sC;AACA,U;;AAEA,oC;AACA,0E;;AAEA,mE;AACA,0D;AACA,8C;;AAEA,mE;;AAEA,sB;AACA,U;;AAEA,kC;AACA,mH;AACA,kF;AACA,yB;AACA,U;;AAEA,iC;AACA,qC;AACA,oD;AACA,kF;AACA,iB;AACA,0C;AACA,a;AACA,U;;AAEA,kC;AACA,uF;AACA,qC;AACA,U;;AAEA,0C;AACA,4F;AACA,uE;AACA,4B;AACA,a;;AAEA,+F;;AAEA,0E;AACA,8E;;AAEA,gG;AACA,wF;AACA,a;;AAEA,yC;;AAEA,mC;AACA,yC;;AAEA,wB;AACA,U;;AAEA,sC;AACA,kC;AACA,qE;AACA,sE;AACA,gC;AACA,4B;;AAEA,iE;AACA,uE;;AAEA,yM;AACA,mD;AACA,qF;AACA,yG;AACA,kI;AACA,oB;AACA,oF;AACA,a;AACA,U;;AAEA,wC;AACA,8F;AACA,U;;AAEA,uC;AACA,sB;AACA,oB;AACA,yE;AACA,iD;;AAEA,kD;AACA,sE;AACA,4D;;AAEA,qE;AACA,sC;AACA,oC;AACA,4D;AACA,6G;AACA,6C;AACA,uC;AACA,qF;AACA,4C;AACA,qB;AACA,8B;AACA,a;;AAEA,+B;AACA,U;;AAEA,gD;AACA,wC;AACA,6F;AACA,sD;AACA,U;;AAEA,mD;AACA,6E;;AAEA,+C;AACA,+D;AACA,2F;AACA,2H;AACA,gC;AACA,iB;;AAEA,qD;AACA,2E;AACA,4D;AACA,gC;AACA,iB;;AAEA,8F;AACA,8E;AACA,iD;AACA,iB;;AAEA,oD;;AAEA,0F;AACA,mG;AACA,4D;AACA,6F;AACA,0E;AACA,6C;AACA,+C;AACA,mE;AACA,+D;AACA,qB;AACA,8B;AACA,a;AACA,U;;AAEA,kD;AACA,mD;AACA,iC;AACA,U;;AAEA,iD;AACA,gG;AACA,sC;AACA,a;AACA,U;;AAEA,oC;AACA,gC;AACA,4B;AACA,a;AACA,8D;AACA,kE;AACA,0E;AACA,6C;AACA,a;AACA,U;;AAEA,4C;AACA,sB;AACA,+C;AACA,uD;AACA,qG;AACA,mG;AACA,wC;AACA,wG;AACA,sG;AACA,iB;AACA,a;;AAEA,+B;;AAEA,8G;AACA,U;;AAEA,yD;AACA,4C;AACA,mD;AACA,iC;;AAEA,0F;AACA,wF;;AAEA,kF;;AAEA,gG;AACA,8F;AACA,+F;AACA,6F;AACA,S;AACA,M;AACA,qB;;AAEA,Y;;AAEA,8B;AACA,iB;;AAEA,0C;AACA,6B;AACA,wC;AACA,oC;AACA,M;;AAEA,yB;;AAEA,oC;;AAEA,oC;AACA,+E;;AAEA,iE;AACA,wD;;AAEA,6C;AACA,uD;AACA,oB;AACA,wD;AACA,a;;AAEA,6D;;AAEA,qD;AACA,6D;AACA,wC;AACA,6D;AACA,iB;AACA,e;;AAEA,uC;AACA,mF;;AAEA,2B;AACA,U;;AAEA,2C;AACA,yE;AACA,mB;AACA,oB;AACA,wB;;AAEA,mE;AACA,oE;AACA,uC;;AAEA,6D;AACA,gE;AACA,yD;AACA,6E;AACA,8C;AACA,4C;AACA,4B;AACA,2C;AACA,qB;AACA,uC;AACA,iB;AACA,0B;;AAEA,oD;AACA,qC;AACA,wE;AACA,wF;AACA,a;;AAEA,sB;AACA,U;;AAEA,iC;AACA,+B;AACA,8C;AACA,sE;AACA,iB;AACA,oC;AACA,a;AACA,U;;AAEA,4B;;AAEA,wC;AACA,gC;AACA,oD;AACA,a;;AAEA,gC;AACA,U;;AAEA,+C;AACA,4F;AACA,U;;AAEA,iC;;AAEA,2C;AACA,6D;AACA,uG;AACA,uH;AACA,4E;AACA,yC;AACA,kD;AACA,iB;AACA,0B;AACA,U;;AAEA,0C;AACA,mF;AACA,uH;;AAEA,oD;AACA,2E;AACA,+D;AACA,6G;AACA,a;;AAEA,iD;AACA,mG;;AAEA,wD;AACA,2D;AACA,uE;AACA,oF;;AAEA,uE;AACA,oF;;AAEA,sE;AACA,kF;AACA,0B;AACA,U;;AAEA,8C;AACA,0C;AACA,U;;AAEA,8C;AACA,4C;AACA,U;;AAEA,iD;AACA,4E;AACA,wB;AACA,mC;AACA,gF;AACA,6B;AACA,a;AACA,8B;AACA,U;;AAEA,+C;AACA,kF;AACA,yE;AACA,oC;AACA,kC;AACA,6B;AACA,U;;AAEA,+C;AACA,8B;AACA,U;;AAEA,8C;AACA,qD;AACA,+D;AACA,+D;AACA,qD;AACA,c;AACA,yD;AACA,qG;AACA,wB;AACA,kD;AACA,+F;AACA,6B;AACA,a;AACA,kG;AACA,4F;AACA,sD;AACA,4I;AACA,uD;AACA,e;AACA,gK;AACA,kE;AACA,oD;AACA,4E;AACA,a;AACA,8B;AACA,U;;AAEA,sC;AACA,oG;AACA,oC;AACA,mC;AACA,6B;AACA,U;;AAEA,iC;;AAEA,kC;AACA,+F;AACA,U;;AAEA,kC;AACA,sC;AACA,uF;AACA,uE;AACA,iD;AACA,iB;AACA,a;AACA,U;;AAEA,kC;AACA,qC;AACA,iE;AACA,iE;AACA,2C;AACA,qB;AACA,mB;;AAEA,0F;AACA,uE;AACA,iD;AACA,iB;AACA,a;AACA,U;;AAEA,uD;AACA,6E;AACA,U;;AAEA,gD;AACA,0D;AACA,uE;AACA,a;AACA,U;;AAEA,gD;AACA,sC;;AAEA,2D;AACA,wE;AACA,a;;AAEA,wD;AACA,sG;AACA,yC;AACA,mC;AACA,0B;AACA,U;;AAEA,yC;AACA,uC;AACA,6D;AACA,mE;AACA,yC;AACA,iB;AACA,e;AACA,U;;AAEA,kD;;AAEA,mF;AACA,oD;AACA,mC;AACA,yG;AACA,0F;AACA,oC;;AAEA,yE;AACA,U;;AAEA,yE;AACA,iC;AACA,0E;AACA,kB;AACA,6B;AACA,2B;AACA,yB;AACA,4D;;AAEA,c;AACA,mG;AACA,iG;AACA,6F;AACA,sB;AACA,gD;AACA,a;AACA,8G;AACA,2G;AACA,0G;AACA,6F;AACA,mD;AACA,a;AACA,0G;AACA,0G;AACA,c;AACA,yD;AACA,8D;AACA,sG;AACA,0L;AACA,mC;AACA,+B;AACA,0F;AACA,4C;AACA,qB;AACA,wE;AACA,4D;AACA,2F;AACA,mD;AACA,oD;AACA,8C;AACA,iB;AACA,a;;AAEA,gE;AACA,iE;AACA,gD;AACA,2B;AACA,iB;AACA,a;;AAEA,8C;AACA,mC;AACA,a;AACA,U;;AAEA,iC;AACA,6B;AACA,iC;;AAEA,qD;AACA,yE;AACA,sG;AACA,wH;AACA,gG;AACA,sD;AACA,2C;AACA,4B;AACA,oD;AACA,qB;;AAEA,wB;AACA,iG;AACA,qG;AACA,0D;AACA,+C;AACA,yB;AACA,4B;AACA,mF;AACA,qB;AACA,iB;AACA,a;AACA,U;;AAEA,+B;;AAEA,2C;AACA,0C;AACA,6C;AACA,sC;AACA,U;;AAEA,6C;AACA,6D;AACA,+D;AACA,4C;AACA,iB;AACA,0B;AACA,sC;AACA,U;;AAEA,yC;AACA,uC;AACA,kC;AACA,oF;AACA,2B;AACA,6D;AACA,qE;AACA,yD;AACA,0E;AACA,kF;AACA,8F;AACA,kD;AACA,yB;AACA,qB;AACA,kB;;AAEA,kC;AACA,uB;AACA,a;;AAEA,4E;;AAEA,wC;AACA,2D;AACA,0F;AACA,sE;AACA,6D;AACA,2F;AACA,6D;AACA,8C;AACA,yC;AACA,gD;AACA,yB;AACA,+B;AACA,qB;AACA,iB;AACA,+F;AACA,gD;AACA,e;;AAEA,qH;AACA,4H;AACA,gE;;AAEA,0F;AACA,oE;AACA,0B;AACA,iB;AACA,mD;AACA,a;AACA,U;;AAEA,8B;;AAEA,6C;AACA,qC;AACA,0C;AACA,a;AACA,U;;AAEA,yC;AACA,sF;AACA,sE;AACA,8B;;AAEA,qD;AACA,qF;AACA,4B;AACA,a;;AAEA,+E;AACA,+D;AACA,4B;AACA,a;;AAEA,6C;AACA,mC;AACA,sD;;AAEA,gD;AACA,mC;AACA,gD;AACA,a;;AAEA,2E;;AAEA,mF;AACA,4C;AACA,a;AACA,U;;AAEA,qD;AACA,0F;AACA,sD;;AAEA,gD;AACA,8K;AACA,oE;AACA,0D;AACA,kE;AACA,6D;AACA,mF;AACA,4D;AACA,0D;AACA,mD;AACA,2B;;AAEA,6C;AACA,mG;AACA,0F;AACA,8G;AACA,sE;;AAEA,6D;AACA,wE;AACA,mE;AACA,qD;;AAEA,iD;AACA,wB;AACA,sE;AACA,mF;AACA,iB;AACA,oB;AACA,+E;AACA,a;;AAEA,uD;AACA,gD;AACA,gE;AACA,+D;AACA,+D;AACA,gE;AACA,a;;AAEA,iC;AACA,+B;AACA,mE;AACA,wD;AACA,a;;AAEA,0D;AACA,U;;AAEA,+C;AACA,0F;AACA,sD;;AAEA,oE;AACA,gD;AACA,yD;AACA,sE;AACA,0D;AACA,4D;AACA,0D;AACA,mD;AACA,kC;AACA,sE;;AAEA,8C;AACA,0E;AACA,8E;AACA,iK;AACA,oB;AACA,2E;AACA,6E;AACA,+I;AACA,a;AACA,mD;AACA,iF;AACA,0E;AACA,+F;AACA,oB;AACA,gF;AACA,a;AACA,S;AACA,M;AACA,qB;;AAEA,iB;;AAEA,8B;AACA,iB;;AAEA,wC;AACA,6B;;AAEA,gC;AACA,mC;AACA,M;;AAEA,8B;;AAEA,uC;AACA,sD;AACA,2C;AACA,0B;AACA,U;;AAEA,wC;AACA,qB;AACA,8D;AACA,a;AACA,U;;AAEA,wC;AACA,qB;AACA,iE;AACA,a;AACA,U;;AAEA,0C;AACA,6C;AACA,wD;AACA,sE;AACA,yC;AACA,oB;AACA,yC;AACA,a;AACA,U;;AAEA,0C;AACA,4B;AACA,kG;;AAEA,wC;AACA,4E;;AAEA,0D;AACA,6F;AACA,gG;AACA,6F;AACA,U;;AAEA,+D;AACA,mD;AACA,0C;AACA,U;;AAEA,+C;AACA,6D;AACA,4C;AACA,U;;AAEA,qD;AACA,sC;AACA,oC;AACA,S;AACA,M;;AAEA,qB;AACA,0C;AACA,iB;AACA,wC;AACA,C;;AAEA,c;AACA,iB;;AAEA,0D;;AAEA,yD;AACA,wF;AACA,mC;AACA,yG;AACA,0E;AACA,yD;AACA,uC;AACA,a;AACA,S;AACA,K;;AAEA,+C;AACA,0C;AACA,sE;AACA,qD;;AAEA,4B;AACA,mC;AACA,uE;AACA,S;;AAEA,yC;AACA,oC;AACA,mC;;AAEA,0D;AACA,iC;AACA,+E;AACA,oB;AACA,8E;AACA,a;AACA,S;AACA,K;;AAEA,wD;AACA,qF;AACA,iD;AACA,0C;AACA,8B;;AAEA,0F;AACA,2C;AACA,8C;AACA,8B;AACA,yC;AACA,+C;AACA,gE;AACA,gH;AACA,2F;AACA,wE;AACA,qE;AACA,gG;AACA,uC;AACA,4D;AACA,sH;AACA,sH;AACA,kE;AACA,qC;AACA,6E;AACA,uC;AACA,a;AACA,sD;AACA,mD;AACA,8C;AACA,kD;AACA,sC;AACA,8C;AACA,sC;AACA,mD;AACA,sD;AACA,wE;AACA,yE;AACA,8C;AACA,uD;AACA,+F;;AAEA,6D;AACA,6D;AACA,4D;;AAEA,uD;AACA,iC;;AAEA,kC;AACA,gC;;AAEA,qE;;AAEA,mC;AACA,yD;AACA,mC;AACA,uD;AACA,+C;AACA,4D;AACA,+C;AACA,sD;AACA,6D;AACA,+C;AACA,4E;AACA,oG;AACA,8D;AACA,qG;AACA,kC;AACA,yC;AACA,oD;AACA,oD;;AAEA,iD;AACA,8D;AACA,iC;AACA,iF;;AAEA,qD;AACA,6D;AACA,4D;AACA,iC;AACA,iC;AACA,kC;AACA,gC;;AAEA,sC;AACA,iD;;AAEA,mC;AACA,S;AACA,K;;AAEA,yC;AACA,iD;AACA,+B;AACA,+C;;AAEA,wC;AACA,kD;AACA,gD;AACA,qD;AACA,S;AACA,K;;AAEA,yC;AACA,iD;AACA,kB;AACA,+B;AACA,gC;;AAEA,0F;AACA,sD;AACA,uC;AACA,4E;AACA,wC;AACA,+C;AACA,uC;AACA,kD;AACA,mD;;AAEA,uD;AACA,+H;;AAEA,qD;AACA,gF;AACA,kC;AACA,sD;AACA,yD;AACA,wD;AACA,yB;AACA,iC;AACA,iB;AACA,0B;AACA,S;AACA,iD;AACA,K;;AAEA,iC;AACA,sE;AACA,oB;;AAEA,oB;AACA,mB;AACA,S;;AAEA,qF;AACA,8E;AACA,S;;AAEA,2E;AACA,iD;AACA,sC;AACA,kC;AACA,8E;AACA,yC;AACA,gE;AACA,2C;AACA,sF;AACA,iB;AACA,a;AACA,S;AACA,K;;AAEA,oE;;AAEA,4C;AACA,wB;AACA,0B;AACA,S;AACA,2C;AACA,2C;AACA,6E;AACA,S;AACA,qC;AACA,uC;AACA,kC;AACA,S;AACA,sE;AACA,8D;AACA,K;;AAEA,uD;AACA,+B;AACA,sC;AACA,S;AACA,mD;AACA,qC;AACA,S;AACA,8B;AACA,kC;AACA,S;AACA,yB;AACA,K;;AAEA,8C;AACA,c;AACA,8B;;AAEA,mD;AACA,gD;AACA,yB;AACA,S;AACA,oE;AACA,wD;AACA,yB;AACA,S;AACA,4C;AACA,0C;AACA,yB;AACA,S;AACA,2E;AACA,uD;AACA,yE;AACA,iC;AACA,sB;AACA,a;AACA,S;;AAEA,yB;AACA,K;;AAEA,6B;AACA,c;AACA,+B;AACA,uD;AACA,yG;AACA,uE;AACA,a;AACA,qE;AACA,4F;AACA,a;AACA,uE;AACA,6D;AACA,kE;AACA,yG;AACA,kC;AACA,a;AACA,S;AACA,uB;AACA,0C;AACA,6C;AACA,yF;AACA,S;AACA,K;;AAEA,+B;AACA,c;;AAEA,yB;AACA,0E;;AAEA,2F;AACA,sF;AACA,qF;;AAEA,4C;AACA,6E;AACA,0F;AACA,gB;AACA,2D;AACA,0I;AACA,kG;AACA,0B;AACA,iB;AACA,a;AACA,S;;AAEA,8E;AACA,kD;AACA,0C;AACA,sD;AACA,mE;AACA,sE;AACA,iB;AACA,0B;AACA,S;;AAEA,kC;AACA,yC;AACA,kE;AACA,kE;AACA,S;AACA,K;;AAEA,6B;AACA,2C;AACA,iD;AACA,gB;AACA,iB;AACA,2B;;AAEA,+C;AACA,yC;AACA,8E;AACA,wC;AACA,iD;AACA,6E;AACA,wC;AACA,gE;AACA,uE;AACA,wC;AACA,a;AACA,sB;;AAEA,kC;AACA,kF;AACA,kE;AACA,a;AACA,S;;AAEA,mD;AACA,uD;AACA,2F;AACA,S;AACA,K;;AAEA,+C;AACA,+B;AACA,6C;AACA,kB;AACA,gC;;AAEA,oH;AACA,oF;AACA,0C;AACA,oB;AACA,8E;AACA,S;;AAEA,sC;AACA,yC;AACA,S;;AAEA,iC;AACA,2H;AACA,S;;AAEA,2E;AACA,K;;AAEA,4B;AACA,iC;AACA,qC;AACA,yC;AACA,yB;AACA,oC;AACA,M;;AAEA,8B;AACA,mB;AACA,+C;AACA,2D;AACA,2D;AACA,wC;AACA,8F;AACA,gC;AACA,mC;AACA,mC;AACA,qB;AACA,wB;AACA,yB;AACA,iC;AACA,uC;AACA,kC;AACA,wC;AACA,kC;AACA,uC;AACA,mC;AACA,qC;AACA,gC;AACA,6C;AACA,kC;AACA,oC;AACA,8B;AACA,iC;AACA,0C;AACA,+B;AACA,+B;AACA,gC;AACA,gC;AACA,qC;AACA,2B;AACA,6D;AACA,2D;AACA,wD;AACA,U;;AAEA,+D;AACA,4C;AACA,6B;;AAEA,iE;AACA,qD;AACA,6C;AACA,uB;AACA,a;;AAEA,kD;AACA,iF;AACA,a;;AAEA,wG;AACA,wC;AACA,a;;AAEA,+B;;AAEA,gC;AACA,U;;AAEA,4B;AACA,gC;AACA,uB;AACA,a;;AAEA,2C;AACA,iC;;AAEA,0C;AACA,oC;AACA,oC;AACA,sC;;AAEA,uD;;AAEA,oD;AACA,2D;AACA,a;AACA,U;;AAEA,8B;AACA,iC;AACA,uB;AACA,a;;AAEA,kB;;AAEA,kC;;AAEA,6C;AACA,0C;AACA,oC;AACA,a;;AAEA,2D;AACA,oE;AACA,wE;AACA,a;;AAEA,wD;AACA,iE;AACA,2C;AACA,iB;AACA,0B;;AAEA,6C;AACA,U;;AAEA,4D;AACA,4E;AACA,U;;AAEA,6D;AACA,4E;AACA,U;;AAEA,+C;AACA,2D;AACA,U;;AAEA,8B;AACA,4B;AACA,oC;AACA,oC;AACA,yB;AACA,iB;AACA,mC;AACA,U;;AAEA,gC;AACA,kB;AACA,0B;AACA,6B;AACA,2D;AACA,gG;AACA,sC;AACA,4D;AACA,kB;AACA,a;AACA,2B;AACA,U;;AAEA,6C;AACA,0B;AACA,wD;AACA,sD;AACA,4C;AACA,wC;AACA,qB;AACA,mB;AACA,a;AACA,6B;AACA,U;;AAEA,W;AACA,+D;AACA,qG;AACA,wE;AACA,U;AACA,gE;AACA,uD;AACA,W;AACA,6C;AACA,uC;AACA,uB;AACA,a;;AAEA,gE;AACA,oB;AACA,qB;;AAEA,mD;AACA,mE;AACA,wD;AACA,sD;AACA,uD;AACA,qB;AACA,iB;AACA,a;AACA,wB;AACA,U;;AAEA,2C;AACA,gD;AACA,U;;AAEA,4C;AACA,iD;AACA,U;;AAEA,uF;AACA,qC;AACA,+B;AACA,0C;AACA,a;AACA,wB;AACA,U;;AAEA,+F;AACA,gD;AACA,8C;AACA,6C;AACA,sB;AACA,kC;;AAEA,sG;AACA,4C;AACA,wB;AACA,kC;AACA,a;;AAEA,iB;AACA,kF;AACA,2B;AACA,kC;AACA,a;;AAEA,8B;AACA,U;;AAEA,6C;AACA,mC;AACA,6C;AACA,sB;AACA,uB;AACA,oC;;AAEA,gH;AACA,oD;AACA,4C;AACA,wB;AACA,uF;AACA,qC;AACA,uE;AACA,yC;AACA,uE;AACA,iD;AACA,wC;AACA,oB;AACA,qE;AACA,a;;AAEA,6E;AACA,qF;AACA,mE;AACA,a;;AAEA,kC;AACA,0B;AACA,U;;AAEA,oD;AACA,sC;AACA,gF;AACA,a;AACA,6D;AACA,U;;AAEA,uD;AACA,gD;AACA,+B;AACA,yD;AACA,a;AACA,wB;AACA,U;;AAEA,uF;AACA,yC;AACA,+B;AACA,kD;AACA,a;AACA,U;;AAEA,wC;AACA,iE;AACA,gE;AACA,qF;;AAEA,2B;AACA,4F;AACA,wD;AACA,oD;AACA,iB;;AAEA,mD;AACA,sC;AACA,oC;AACA,a;AACA,U;;AAEA,yH;AACA,mB;AACA,oE;AACA,oC;AACA,uC;;AAEA,sE;AACA,sB;AACA,kC;AACA,sB;AACA,0C;;AAEA,2C;AACA,gD;AACA,uD;;AAEA,2D;AACA,4D;AACA,qG;AACA,qD;AACA,qC;AACA,qB;AACA,mB;;AAEA,gD;AACA,8F;AACA,sF;AACA,gE;;AAEA,2C;AACA,qC;AACA,6D;AACA,kE;AACA,sB;AACA,iB;AACA,a;AACA,U;;AAEA,yH;AACA,mB;AACA,oE;AACA,uC;AACA,uC;AACA,uB;AACA,a;;AAEA,0F;AACA,8B;AACA,iE;AACA,8C;AACA,qB;AACA,mC;AACA,6B;AACA,kB;AACA,oB;AACA,8B;;AAEA,+C;AACA,iC;;AAEA,mC;AACA,mC;AACA,0C;AACA,4D;AACA,8H;AACA,oF;AACA,0C;AACA,qB;AACA,yH;AACA,gF;AACA,oC;AACA,qB;AACA,8C;AACA,wB;AACA,mD;AACA,oC;AACA,2D;AACA,+B;AACA,qB;AACA,iB;AACA,4B;AACA,2C;AACA,iB;AACA,a;;AAEA,4D;AACA,kC;AACA,gC;AACA,U;;AAEA,qC;AACA,4B;AACA,kB;;AAEA,yD;AACA,sF;;AAEA,2E;AACA,4F;AACA,iB;;AAEA,uC;AACA,iH;AACA,iB;AACA,a;;AAEA,2F;AACA,mF;AACA,uF;AACA,+D;AACA,gE;AACA,iB;AACA,a;AACA,U;;AAEA,gE;AACA,+B;AACA,6E;AACA,U;;AAEA,kE;AACA,iC;AACA,iF;AACA,U;;AAEA,qC;AACA,+C;AACA,U;;AAEA,oC;AACA,8C;AACA,S;AACA,M;AACA,K;;AAEA,wB;AACA,M;;;;;;;;;;;;;;;;;;;ACtiHA,G;;AAEA,kB;;AAEA,sC;;AAEA,4E;AACA,6E;AACA,4E;AACA,yE;AACA,qE;AACA,wD;;AAEA,0E;AACA,mD;;AAEA,0E;AACA,wE;AACA,2E;AACA,sE;AACA,6E;AACA,yE;AACA,a;;AAEA,Q;AACA,E;AACA,2D;AACA,8D;AACA,6B;AACA,oD;AACA,kB;AACA,qC;AACA,oC;AACA,K;AACA,iC;AACA,qB;AACA,wD;AACA,6B;AACA,oC;;AAEA,iC;AACA,kD;;AAEA,yC;AACA,yC;AACA,sD;;AAEA,6D;AACA,sD;AACA,wB;AACA,yB;AACA,yB;AACA,a;;AAEA,yC;AACA,+F;;AAEA,uC;AACA,gC;;AAEA,8C;AACA,iC;AACA,W;;;AAGA,4D;AACA,0C;;AAEA,oC;AACA,mD;;AAEA,oC;AACA,qC;;AAEA,iD;AACA,wC;AACA,W;AACA,0E;AACA,W;AACA,O;AACA,sD;;AAEA,c;;AAEA,iE;;AAEA,2B;;AAEA,sC;;AAEA,6C;;AAEA,uE;AACA,wE;;AAEA,0C;;AAEA,yD;;AAEA,yC;;AAEA,uD;;AAEA,uC;;AAEA,+C;;AAEA,uC;;AAEA,iD;;AAEA,0C;;AAEA,yD;;AAEA,iG;AACA,oB;AACA,6C;;AAEA,0B;AACA,2C;AACA,yC;AACA,oB;AACA,gD;;AAEA,mB;AACA,kC;AACA,uC;AACA,K;;AAEA,a;AACA,E;;AAEA,qB;AACA,sB;;AAEA,+B;;AAEA,wB;;AAEA,2B;AACA,qC;;AAEA,Q;AACA,O;AACA,sD;;AAEA,c;;AAEA,iE;;AAEA,2B;AACA,uD;AACA,mC;;AAEA,sC;;AAEA,8C;;AAEA,yC;;AAEA,uD;;AAEA,uB;AACA,2B;AACA,2B;;AAEA,+C;AACA,yB;AACA,uE;AACA,sB;AACA,sB;AACA,iB;AACA,yB;AACA,uB;AACA,G;;AAEA,6C;AACA,6B;AACA,mC;AACA,+B;AACA,oC;;AAEA,oD;AACA,gC;AACA,kC;;AAEA,gC;AACA,E;;AAEA,oC;AACA,sC;;AAEA,kB;AACA,Y;;AAEA,sD;AACA,8C;AACA,gB;AACA,qF;AACA,Q;AACA,wC;AACA,a;AACA,+B;AACA,M;AACA,K;AACA,sD;AACA,+B;AACA,K;;AAEA,6D;AACA,8C;AACA,yC;AACA,a;AACA,4C;AACA,2F;AACA,Q;AACA,qC;AACA,M;AACA,K;AACA,wD;AACA,gC;AACA,I;AACA,G;;AAEA,4C;AACA,yD;AACA,kC;AACA,gD;AACA,wB;AACA,a;AACA,gE;AACA,0G;AACA,M;AACA,M;;AAEA,8E;AACA,mC;AACA,yB;;AAEA,4B;AACA,uB;AACA,uD;AACA,4B;AACA,mC;AACA,gC;AACA,2B;AACA,wC;AACA,U;;AAEA,wD;AACA,e;AACA,8B;AACA,Q;AACA,a;AACA,yC;AACA,8C;AACA,4F;AACA,kC;AACA,Q;;AAEA,mC;AACA,M;AACA,M;;AAEA,gE;AACA,oB;AACA,uE;AACA,M;;AAEA,yB;AACA,mC;AACA,e;AACA,kB;AACA,0B;AACA,iC;;AAEA,uC;AACA,6F;AACA,M;;AAEA,+B;AACA,oC;AACA,M;;AAEA,wB;AACA,wC;AACA,M;;AAEA,iD;AACA,kB;AACA,0B;AACA,4B;AACA,kC;AACA,4B;;AAEA,2B;AACA,kD;AACA,U;AACA,Q;;AAEA,uC;AACA,oB;AACA,6F;AACA,U;AACA,M;;AAEA,kD;AACA,8B;AACA,mD;AACA,yD;AACA,U;AACA,e;AACA,kC;;AAEA,mC;AACA,6C;AACA,kF;AACA,mF;AACA,0C;AACA,4B;AACA,8C;AACA,c;AACA,4B;AACA,iB;AACA,Y;AACA,U;AACA,wB;AACA,gD;AACA,U;AACA,Q;AACA,M;;AAEA,mB;AACA,2B;AACA,M;;AAEA,gB;AACA,M;;AAEA,kE;AACA,mC;AACA,4C;AACA,M;;AAEA,6F;AACA,oG;AACA,0G;AACA,mF;AACA,oC;AACA,a;AACA,+B;AACA,M;AACA,M;;AAEA,sE;AACA,6H;AACA,M;;AAEA,gE;AACA,+B;AACA,oC;AACA,M;;AAEA,yB;;AAEA,mC;AACA,yC;AACA,8C;AACA,8F;AACA,kC;AACA,Q;;AAEA,mC;AACA,a;AACA,oC;AACA,M;AACA,M;;AAEA,+D;AACA,mG;AACA,kC;AACA,M;;AAEA,4D;AACA,8B;AACA,M;AACA,E;;AAEA,e;AACA,+D;;AAEA,gB;AACA,Y;AACA,W;AACA,W;AACA,Y;AACA,Y;;AAEA,+C;AACA,sC;AACA,mE;AACA,4C;AACA,iG;AACA,M;AACA,I;AACA,G;;AAEA,yB;AACA,sB;;AAEA,mB;;AAEA,+B;AACA,wC;AACA,0B;AACA,gB;AACA,E;;AAEA,sB;;AAEA,Q;AACA,O;AACA,sD;;AAEA,c;;AAEA,2B;AACA,uC;AACA,8B;AACA,wB;AACA,E;;AAEA,4E;AACA,2B;AACA,G;;AAEA,iC;AACA,qC;;AAEA,Q;AACA,O;AACA,sD;;AAEA,c;;AAEA,2B;;AAEA,kG;;AAEA,oC;AACA,8B;AACA,wB;AACA,0B;AACA,a;AACA,2B;AACA,+B;;AAEA,4C;AACA,I;;AAEA,6D;;AAEA,sG;AACA,sD;AACA,kD;AACA,I;;AAEA,iC;AACA,8C;AACA,I;;AAEA,a;AACA,4B;AACA,0B;AACA,I;AACA,E;;AAEA,mC;;AAEA,gC;AACA,qC;;AAEA,Q;AACA,O;AACA,sD;;AAEA,c;;AAEA,2B;AACA,yB;;AAEA,0F;AACA,2B;AACA,6C;AACA,2B;AACA,mC;AACA,+C;AACA,e;AACA,gB;AACA,e;AACA,e;AACA,iB;AACA,kB;AACA,gB;AACA,G;;AAEA,4B;AACA,2B;;AAEA,2B;AACA,sB;AACA,E;;AAEA,yC;AACA,+C;AACA,oC;AACA,qE;AACA,sC;AACA,Q;AACA,M;AACA,I;;AAEA,c;AACA,E;;AAEA,0C;;AAEA,6B;AACA,uB;AACA,8D;AACA,uC;AACA,8C;AACA,sC;AACA,G;AACA,oD;AACA,2B;AACA,uB;AACA,uD;AACA,wF;AACA,K;AACA,E;AACA,gB;AACA,iC;AACA,sC;;AAEA,2B;AACA,kD;AACA,iG;AACA,6B;;AAEA,iC;AACA,sD;AACA,8B;AACA,gB;AACA,M;AACA,I;AACA,a;AACA,E;;AAEA,oC;AACA,oC;AACA,4D;AACA,mC;AACA,8B;AACA,iC;AACA,iB;AACA,0B;AACA,0B;AACA,M;;AAEA,mF;AACA,sF;AACA,2D;AACA,0B;AACA,I;;AAEA,gC;AACA,mB;AACA,I;AACA,+C;AACA,E;;AAEA,0B;AACA,+B;AACA,iB;AACA,qD;AACA,iB;AACA,W;AACA,kB;AACA,I;AACA,E;;AAEA,oC;AACA,qB;AACA,iB;AACA,E;;AAEA,8C;AACA,sD;AACA,E;;AAEA,Q;AACA,O;AACA,sD;;AAEA,c;;AAEA,iE;;AAEA,2B;AACA,uC;;AAEA,sD;;AAEA,6B;AACA,mC;AACA,yC;AACA,uC;AACA,qB;;AAEA,sC;;AAEA,8C;;AAEA,yC;;AAEA,uD;;AAEA,8E;;AAEA,uC;AACA,+D;AACA,2F;;AAEA,8C;AACA,8C;AACA,+G;AACA,iH;AACA,6R;AACA,a;AACA,8F;AACA,+M;AACA,M;AACA,I;AACA,E;;AAEA,uC;AACA,6B;AACA,c;AACA,2E;AACA,I;AACA,6C;AACA,yF;AACA,I;;AAEA,qG;AACA,oE;AACA,+C;;AAEA,6D;AACA,wB;AACA,yD;AACA,M;;AAEA,2E;AACA,6E;;AAEA,yC;AACA,gG;AACA,iE;AACA,M;AACA,0B;AACA,4B;AACA,wC;AACA,wD;AACA,0C;AACA,mB;AACA,Y;;AAEA,gD;AACA,U;AACA,mC;AACA,Q;AACA,qB;AACA,a;AACA,oI;AACA,M;AACA,I;;AAEA,oB;AACA,oB;AACA,yC;AACA,4B;AACA,kF;AACA,Q;AACA,wB;AACA,O;AACA,4C;AACA,+B;AACA,sC;AACA,oD;AACA,kC;AACA,U;AACA,Q;AACA,O;AACA,gD;AACA,8E;AACA,O;;AAEA,8C;AACA,yC;;AAEA,yB;AACA,8B;AACA,O;;AAEA,kB;AACA,mF;AACA,6C;AACA,2B;AACA,kE;AACA,mG;AACA,oC;AACA,sE;AACA,Q;AACA,6B;AACA,O;;AAEA,wC;AACA,iC;AACA,+B;AACA,Q;AACA,oB;AACA,O;AACA,2C;AACA,iC;;AAEA,iD;AACA,+C;AACA,Q;;AAEA,kB;AACA,O;;AAEA,uB;AACA,wC;AACA,K;;AAEA,0B;AACA,kE;;AAEA,6B;;AAEA,yB;AACA,oD;AACA,sC;AACA,M;AACA,4B;AACA,oE;AACA,kC;AACA,8E;AACA,M;;AAEA,yH;AACA,I;AACA,oB;;AAEA,oC;AACA,4B;AACA,yE;;AAEA,qC;AACA,8E;AACA,Q;AACA,a;AACA,2C;AACA,6C;AACA,M;AACA,K;;AAEA,yD;AACA,uD;AACA,kE;AACA,M;AACA,6C;AACA,mE;AACA,M;;AAEA,qF;AACA,K;AACA,c;AACA,E;;AAEA,yF;AACA,2B;AACA,kE;;AAEA,mM;AACA,I;AACA,oB;AACA,2C;AACA,+C;AACA,e;AACA,E;;AAEA,qD;AACA,kB;AACA,8C;AACA,+C;AACA,wD;AACA,4B;AACA,yC;AACA,I;AACA,kB;AACA,E;;AAEA,oD;AACA,0B;;AAEA,+B;AACA,6F;AACA,4C;AACA,sC;AACA,I;AACA,E;;AAEA,kB;AACA,a;AACA,E;;AAEA,mC;AACA,oC;AACA,0F;AACA,yB;AACA,I;AACA,e;AACA,E;;AAEA,Q;AACA,O;AACA,sD;;AAEA,4D;;AAEA,2B;AACA,mB;;AAEA,6C;AACA,6B;AACA,8D;AACA,qC;AACA,6B;AACA,wC;AACA,0C;AACA,qC;AACA,M;AACA,K;AACA,G;;AAEA,qC;AACA,6E;;AAEA,Q;AACA,O;AACA,sD;;AAEA,c;;AAEA,sC;AACA,yC;AACA,mB;AACA,K;AACA,G;;AAEA,2B;;AAEA,O;AACA,W;AACA,G;AACA,C;;;;;;;;;;;;;;;;;;;ACh3BA,qE;AACA,4E;AACA,c;AACA,+B;;;;;;;;;;;;;;;;;;;ACHA,sD;AACA,8B;AACA,6C;AACA,sD;AACA,wC;AACA,wB;AACA,E;AACA,sE;AACA,+E;AACA,oE;AACA,mE;AACA,uE;AACA,yE;AACA,0E;AACA,2E;AACA,2E;AACA,E;AACA,mF;AACA,iF;AACA,0E;AACA,sE;AACA,8E;AACA,gF;AACA,+E;AACA,8E;AACA,iF;AACA,gE;AACA,gE;;AAEA,8C;AACA,iB;AACA,uB;AACA,wD;AACA,e;AACA,uD;AACA,e;AACA,iD;AACA,gC;AACA,gB;AACA,2D;AACA,iB;AACA,+D;AACA,kB;AACA,8B;AACA,mB;AACA,6D;AACA,yE;AACA,0E;AACA,wB;AACA,4E;AACA,M;AACA,6E;AACA,sB;AACA,yC;AACA,gC;AACA,yD;AACA,gB;AACA,wE;AACA,qF;AACA,a;AACA,0C;AACA,e;AACA,gE;AACA,iB;AACA,oC;AACA,uB;AACA,6D;AACA,yF;AACA,kC;AACA,gD;AACA,iB;AACA,M;AACA,yD;AACA,+F;AACA,0D;AACA,M;AACA,uD;AACA,8C;AACA,uD;AACA,yB;AACA,M;AACA,8C;AACA,uD;AACA,2B;AACA,0D;AACA,gF;AACA,6D;AACA,iB;AACA,+B;AACA,4B;AACA,Q;AACA,+B;AACA,oC;AACA,M;AACA,sD;AACA,wD;AACA,sD;AACA,uC;AACA,M;AACA,oF;AACA,0C;AACA,kD;AACA,8D;AACA,8B;AACA,mB;AACA,O;AACA,M;AACA,kE;AACA,oC;AACA,wD;AACA,6C;AACA,iF;AACA,2E;AACA,0B;AACA,sD;AACA,kF;AACA,iE;AACA,+C;;AAEA,2B;AACA,0B;AACA,6B;AACA,mC;AACA,O;;AAEA,iC;AACA,4B;;AAEA,mB;AACA,M;AACA,0E;AACA,mC;AACA,gB;AACA,0B;AACA,uB;AACA,mB;AACA,c;AACA,Y;AACA,W;AACA,c;AACA,W;AACA,I;AACA,gB;AACA,oD;AACA,oE;AACA,kD;AACA,6B;AACA,I;AACA,mC;;AAEA,I;AACA,0C;AACA,2B;AACA,K;AACA,mB;AACA,kD;AACA,6C;AACA,e;AACA,G;;AAEA,mE;AACA,yB;AACA,oD;AACA,8B;;AAEA,e;AACA,uD;AACA,2B;AACA,8B;AACA,qD;AACA,kD;AACA,uB;AACA,6B;AACA,+C;AACA,4B;AACA,8C;AACA,O;AACA,K;AACA,G;;AAEA,kD;AACA,iC;AACA,Y;AACA,uC;AACA,mC;AACA,K;AACA,G;;AAEA,iE;AACA,yC;AACA,oE;;AAEA,Y;AACA,0B;AACA,kB;;AAEA,e;AACA,yB;AACA,2E;AACA,K;AACA,gD;AACA,sD;AACA,M;;AAEA,gC;AACA,oB;AACA,G;;AAEA,oC;AACA,uD;AACA,wB;;AAEA,gC;AACA,mD;AACA,+C;AACA,+C;AACA,oD;;AAEA,gC;AACA,8C;AACA,K;AACA,G;;AAEA,4C;AACA,yC;AACA,qC;AACA,uC;;AAEA,kE;AACA,K;;AAEA,yC;AACA,G;;AAEA,8B;AACA,4C;AACA,2D;;AAEA,yB;AACA,gE;AACA,wC;;AAEA,8C;AACA,6E;AACA,c;AACA,O;;AAEA,wB;AACA,gC;;AAEA,4B;AACA,8B;AACA,M;AACA,yB;AACA,yB;AACA,kD;AACA,gB;;AAEA,6F;AACA,0C;AACA,4B;AACA,O;;AAEA,wB;AACA,oC;AACA,oC;AACA,sF;AACA,+C;AACA,4B;;AAEA,+C;AACA,2C;AACA,+B;AACA,gC;;AAEA,gG;AACA,qC;AACA,mC;AACA,M;AACA,yB;AACA,iC;;AAEA,+B;;AAEA,wB;AACA,4D;AACA,+C;AACA,qD;AACA,Y;AACA,yF;;AAEA,6F;;AAEA,kB;AACA,8B;AACA,gC;AACA,8D;AACA,6B;AACA,O;AACA,M;AACA,yD;AACA,mB;AACA,sD;AACA,kE;AACA,O;;AAEA,uE;AACA,iD;AACA,sD;AACA,0B;;AAEA,iB;AACA,oC;AACA,kC;;AAEA,sD;AACA,gD;AACA,kC;AACA,yC;AACA,gE;AACA,kE;AACA,0E;AACA,a;AACA,iE;AACA,yB;AACA,W;AACA,S;AACA,O;AACA,4B;AACA,sC;AACA,M;AACA,yE;AACA,kD;AACA,+E;AACA,e;;AAEA,oC;AACA,kC;AACA,wC;AACA,+D;AACA,M;AACA,0C;AACA,mC;AACA,uH;AACA,qC;AACA,M;AACA,uC;AACA,6E;AACA,M;AACA,oC;AACA,0C;AACA,2C;AACA,+D;;AAEA,oC;AACA,qB;AACA,+E;AACA,+D;AACA,iE;AACA,uC;AACA,uC;AACA,kC;AACA,oB;AACA,a;AACA,W;AACA,S;;AAEA,wC;AACA,O;AACA,8B;AACA,M;AACA,8B;AACA,sC;;AAEA,kC;AACA,mF;AACA,uD;AACA,8C;AACA,O;;AAEA,qC;AACA,4B;AACA,M;AACA,+B;AACA,6C;AACA,uB;AACA,0D;AACA,uD;AACA,iC;AACA,M;AACA,6B;AACA,c;AACA,+C;AACA,6C;AACA,O;AACA,M;AACA,kC;AACA,qB;AACA,yC;;AAEA,mC;AACA,2B;AACA,4C;AACA,uD;AACA,8B;AACA,8B;AACA,O;AACA,M;AACA,2B;AACA,4B;AACA,sD;AACA,M;AACA,wC;AACA,sB;AACA,uC;;AAEA,yC;AACA,wE;AACA,Q;AACA,M;AACA,oC;AACA,mC;AACA,M;AACA,sD;AACA,mC;AACA,qC;AACA,iC;AACA,Q;AACA,M;AACA,kC;AACA,oB;AACA,oC;AACA,iB;AACA,6C;AACA,O;AACA,M;AACA,iC;AACA,0C;AACA,M;AACA,2B;AACA,qD;AACA,K;AACA,G;;AAEA,wC;AACA,qB;AACA,4D;;AAEA,iD;AACA,yD;AACA,sF;;AAEA,kD;AACA,6D;;AAEA,+E;;AAEA,yB;AACA,sC;AACA,G;;AAEA,yB;AACA,6B;AACA,oC;;AAEA,2B;AACA,oC;AACA,8B;AACA,gC;AACA,mC;AACA,O;AACA,M;AACA,8B;AACA,4B;AACA,qE;AACA,M;AACA,yD;AACA,kE;AACA,iD;AACA,sD;AACA,2B;AACA,iC;AACA,uD;AACA,6D;;AAEA,4B;AACA,8D;AACA,mB;AACA,Y;AACA,mB;AACA,sC;AACA,oC;AACA,qD;AACA,6F;AACA,qB;AACA,yB;AACA,W;AACA,+B;AACA,gD;AACA,uB;AACA,W;AACA,S;AACA,M;AACA,iD;AACA,sC;AACA,uC;AACA,uB;AACA,gC;AACA,kC;AACA,6B;AACA,uB;AACA,0B;AACA,mC;AACA,wB;AACA,mC;AACA,O;AACA,gC;AACA,4C;AACA,4C;AACA,wB;AACA,2B;AACA,4C;AACA,c;AACA,yC;AACA,c;AACA,4C;AACA,4C;AACA,uB;AACA,2B;AACA,0C;AACA,c;AACA,yC;AACA,O;AACA,mC;AACA,gC;AACA,uE;AACA,M;AACA,qC;AACA,+B;AACA,oG;AACA,mF;AACA,O;AACA,gC;AACA,M;AACA,uC;AACA,uB;AACA,kB;AACA,+D;AACA,uE;AACA,mH;AACA,yB;AACA,U;AACA,wC;AACA,yB;AACA,M;AACA,qC;AACA,iE;AACA,M;AACA,0C;AACA,iE;AACA,oC;AACA,+E;AACA,0B;;AAEA,+B;AACA,oD;AACA,sC;AACA,kC;AACA,Y;AACA,kF;AACA,S;AACA,8D;AACA,O;AACA,uB;AACA,M;AACA,2C;AACA,2C;AACA,oC;AACA,2C;;AAEA,wB;AACA,c;AACA,kC;;AAEA,sC;AACA,M;AACA,gD;AACA,sB;AACA,qD;;AAEA,iG;AACA,qD;AACA,c;;AAEA,4E;AACA,M;AACA,kC;AACA,8C;AACA,iD;AACA,iB;AACA,kC;AACA,S;;AAEA,oB;AACA,M;AACA,oC;AACA,qC;AACA,M;AACA,0B;AACA,sB;;AAEA,qD;AACA,oC;;AAEA,2B;AACA,4E;AACA,4B;AACA,U;;AAEA,0C;AACA,2C;AACA,Q;AACA,K;AACA,G;;AAEA,a;AACA,wB;AACA,qC;AACA,+B;AACA,Q;AACA,M;AACA,yB;AACA,qC;AACA,8B;AACA,Q;AACA,M;AACA,4B;AACA,2C;AACA,M;AACA,yB;AACA,qC;AACA,iC;AACA,Q;AACA,M;AACA,0B;AACA,qC;AACA,0B;AACA,Q;AACA,K;AACA,G;;AAEA,oC;;AAEA,K;AACA,e;AACA,I;AACA,mB;AACA,6B;AACA,mE;AACA,K;AACA,gD;AACA,uD;;AAEA,+B;AACA,uB;AACA,kC;;AAEA,wC;AACA,+D;AACA,0D;AACA,+D;AACA,+D;;AAEA,iB;AACA,O;AACA,I;;AAEA,8B;;;;;;;;;;;;;;;;;;;ACrqBA,6C;AACA,qB;AACA,qB;AACA,0E;;AAEA,sB;AACA,oD;;AAEA,0C;AACA,iC;;AAEA,0C;AACA,mB;AACA,6B;;AAEA,S;;AAEA,oB;AACA,oB;AACA,E;AACA,iB;AACA,G;AACA,0B;AACA,sB;AACA,E;AACA,0D;AACA,kC;AACA,4B;AACA,E;AACA,yC;AACA,G;;;AAGA,oB;AACA,sC;;AAEA,iC;AACA,2B;AACA,sB;AACA,iD;AACA,Q;;AAEA,sD;AACA,uC;AACA,oC;AACA,0C;AACA,K;;AAEA,wC;AACA,kB;AACA,G;AACA,gB;AACA,G;AACA,kB;;AAEA,8C;AACA,+D;AACA,wE;AACA,mE;AACA,wB;AACA,qC;;AAEA,+B;AACA,mC;;AAEA,oB;AACA,mB;AACA,kB;AACA,E;;AAEA,8B;AACA,6D;AACA,oC;AACA,G;;AAEA,uC;AACA,8C;AACA,sE;AACA,8C;AACA,8B;AACA,8C;AACA,G;;AAEA,oE;AACA,+D;AACA,2B;AACA,0C;AACA,G;AACA,G;AACA,4E;AACA,8C;AACA,6B;AACA,oE;AACA,8B;AACA,oC;AACA,uE;AACA,8C;AACA,wB;AACA,I;;AAEA,4B;AACA,4E;AACA,uE;AACA,mB;AACA,sE;AACA,6C;AACA,iC;AACA,oC;AACA,U;AACA,G;AACA,0C;AACA,4B;AACA,4D;AACA,M;AACA,oC;AACA,uD;AACA,M;AACA,sB;AACA,8B;AACA,qC;AACA,iB;;AAEA,yB;AACA,mC;;AAEA,iD;;AAEA,0B;AACA,oC;;AAEA,uB;AACA,K;AACA,O;AACA,I;AACA,0D;AACA,+C;AACA,uE;AACA,mD;AACA,2F;AACA,uB;AACA,2B;AACA,uB;AACA,mB;AACA,0B;AACA,I;;AAEA,2E;AACA,6E;AACA,2E;AACA,iC;AACA,6B;AACA,wE;AACA,wC;;AAEA,iE;AACA,mE;AACA,qG;AACA,K;AACA,4E;AACA,2D;AACA,gD;AACA,S;AACA,8C;AACA,E;;AAEA,sC;;AAEA,oB;AACA,E;;AAEA,sC;AACA,+C;AACA,iB;AACA,6B;AACA,M;AACA,Q;AACA,mD;AACA,sC;AACA,sC;AACA,4E;AACA,oB;AACA,qC;AACA,uD;AACA,mD;AACA,wD;AACA,mC;AACA,wC;AACA,Y;AACA,2B;AACA,K;AACA,I;AACA,G;AACA,E;AACA,e;AACA,E;;AAEA,4C;AACA,wD;AACA,qC;AACA,iD;AACA,4C;AACA,sB;;AAEA,+C;AACA,0C;AACA,4D;AACA,W;;AAEA,uB;AACA,yB;AACA,oB;AACA,yC;AACA,mC;AACA,4B;AACA,kB;AACA,K;AACA,sB;AACA,sF;AACA,qD;AACA,K;AACA,8E;AACA,2F;AACA,K;AACA,8D;AACA,kE;AACA,sD;AACA,kD;AACA,kB;AACA,kB;AACA,K;AACA,M;AACA,U;AACA,yB;AACA,4C;AACA,qB;AACA,sC;AACA,4B;AACA,uB;AACA,M;AACA,Y;AACA,2D;AACA,K;AACA,M;AACA,G;;AAEA,qB;AACA,G;AACA,E;;AAEA,iD;AACA,iC;;AAEA,sB;AACA,sB;AACA,uB;AACA,yB;AACA,W;AACA,kB;;AAEA,c;AACA,c;AACA,G;AACA,8C;AACA,6D;AACA,8B;AACA,4B;AACA,0D;AACA,qC;AACA,gB;AACA,4B;AACA,a;;AAEA,sB;AACA,uB;AACA,uB;;AAEA,2B;AACA,gD;AACA,kC;AACA,+B;AACA,sC;AACA,qB;AACA,M;AACA,K;AACA,M;AACA,qC;AACA,kC;AACA,2B;AACA,oC;AACA,kC;AACA,oF;AACA,G;;AAEA,iB;AACA,8D;AACA,e;AACA,G;AACA,2B;AACA,6B;AACA,iB;AACA,e;;AAEA,sB;AACA,kB;AACA,mD;AACA,oD;AACA,c;AACA,iC;AACA,qC;AACA,4B;AACA,wC;AACA,qD;AACA,e;AACA,iC;AACA,iC;AACA,gB;AACA,wC;AACA,0B;;AAEA,+B;AACA,8C;AACA,iD;AACA,iD;AACA,G;AACA,kB;;AAEA,qB;AACA,sB;AACA,G;;AAEA,iC;AACA,oB;AACA,S;AACA,a;AACA,K;;AAEA,iC;AACA,mD;AACA,8C;AACA,G;;AAEA,kC;AACA,kE;AACA,gB;AACA,4B;AACA,uB;AACA,wB;AACA,4E;AACA,8C;AACA,6D;AACA,yC;AACA,K;AACA,sB;AACA,mC;AACA,qE;AACA,K;AACA,6B;AACA,W;AACA,mC;AACA,2E;AACA,K;AACA,2B;AACA,I;AACA,G;;AAEA,8B;;AAEA,c;AACA,G;AACA,mC;AACA,U;;AAEA,0B;AACA,0C;AACA,G;;AAEA,c;AACA,G;AACA,qC;AACA,8B;;AAEA,6B;AACA,gB;AACA,+D;;AAEA,qE;AACA,iB;AACA,mD;AACA,mD;AACA,I;AACA,G;;AAEA,c;AACA,G;;AAEA,qB;AACA,+C;AACA,G;AACA,sB;AACA,8C;AACA,G;;AAEA,4D;AACA,sB;AACA,mB;;AAEA,qD;AACA,qD;AACA,sB;AACA,mC;AACA,iC;AACA,G;;AAEA,sD;AACA,oB;AACA,sB;AACA,0B;AACA,mC;AACA,U;AACA,4C;AACA,gD;AACA,G;;AAEA,gD;AACA,4B;AACA,uD;AACA,gD;AACA,gE;AACA,kC;AACA,6C;AACA,sD;AACA,Y;AACA,K;AACA,0E;AACA,mC;AACA,I;;AAEA,6C;AACA,uC;AACA,sC;AACA,mD;AACA,I;;AAEA,mD;AACA,mD;AACA,wB;AACA,oB;AACA,kE;AACA,W;AACA,4C;AACA,I;AACA,K;AACA,G;;AAEA,uC;AACA,qG;AACA,sD;AACA,G;;AAEA,qC;AACA,2B;AACA,yE;AACA,kC;AACA,G;AACA,sB;AACA,gD;AACA,G;;AAEA,kC;AACA,iD;AACA,sB;AACA,kC;AACA,0D;AACA,K;AACA,kC;AACA,6D;AACA,I;AACA,K;AACA,G;;AAEA,kC;AACA,iD;AACA,sB;AACA,+B;AACA,0D;AACA,K;AACA,gC;AACA,6D;AACA,I;AACA,K;AACA,G;;AAEA,0C;AACA,iB;AACA,mC;;AAEA,oB;AACA,2B;AACA,kD;AACA,S;AACA,iD;AACA,iD;AACA,oD;AACA,mC;;AAEA,yD;AACA,6B;AACA,e;AACA,yB;AACA,+B;AACA,kC;AACA,K;AACA,I;AACA,G;;AAEA,sC;AACA,uC;AACA,2E;AACA,gC;AACA,E;AACA,E;;AAEA,gF;AACA,8E;AACA,sC;AACA,iC;AACA,G;AACA,iB;AACA,0B;AACA,Y;AACA,qD;AACA,oB;AACA,qC;AACA,0B;AACA,sC;AACA,mC;AACA,G;AACA,2C;AACA,8B;AACA,wB;AACA,kC;AACA,G;AACA,oE;AACA,gC;AACA,gE;AACA,uE;AACA,U;AACA,mC;AACA,0B;AACA,qB;AACA,mC;AACA,K;AACA,W;AACA,M;AACA,G;AACA,G;AACA,G;;AAEA,sB;;;;AAIA,I;;;;;;;;;;;;;;;;;;;ACljBA,E;AACA,uC;AACA,gD;AACA,E;AACA,mC;AACA,sB;AACA,E;AACA,kC;AACA,yC;AACA,G;;AAEA,8C;;AAEA,qB;AACA,iB;AACA,qD;AACA,+C;AACA,oC;AACA,6C;AACA,yB;AACA,mC;AACA,Y;AACA,2B;AACA,+B;AACA,K;AACA,gB;AACA,iB;;AAEA,wE;AACA,oB;;AAEA,4D;AACA,kE;AACA,oE;AACA,+D;AACA,+C;AACA,4E;AACA,iE;AACA,sD;AACA,mE;AACA,6C;AACA,kD;AACA,4B;AACA,qD;AACA,uD;AACA,uC;AACA,mF;AACA,wC;AACA,qB;AACA,uB;AACA,6B;AACA,oB;AACA,sD;AACA,oE;AACA,2E;AACA,sE;AACA,iE;AACA,oD;AACA,oF;AACA,8C;AACA,wD;AACA,iF;AACA,8C;AACA,0D;AACA,mF;AACA,8C;AACA,qB;AACA,4E;AACA,wE;AACA,4E;AACA,iC;AACA,+B;AACA,4D;AACA,iF;AACA,gD;AACA,4C;AACA,uE;AACA,4E;AACA,8B;AACA,2C;AACA,uD;AACA,6C;AACA,uF;AACA,sF;AACA,qC;AACA,iE;AACA,gF;AACA,kF;AACA,uF;AACA,sF;AACA,0D;AACA,qC;AACA,6C;AACA,yD;AACA,iC;AACA,oE;AACA,8E;AACA,iD;AACA,wC;AACA,8C;AACA,wD;AACA,kC;AACA,+E;AACA,+E;AACA,qF;AACA,oD;AACA,+D;AACA,6E;AACA,iF;AACA,0D;AACA,kD;AACA,sC;AACA,+B;AACA,4B;AACA,gE;AACA,wD;AACA,0D;AACA,+C;AACA,8E;AACA,2D;AACA,6D;AACA,qD;AACA,oD;AACA,+B;AACA,yB;AACA,4E;AACA,0D;AACA,wE;AACA,wE;AACA,sE;AACA,8D;AACA,+B;AACA,oD;AACA,yE;AACA,iD;AACA,+C;AACA,8E;AACA,sC;AACA,mC;AACA,6B;AACA,iF;AACA,yE;AACA,gC;AACA,0D;AACA,uE;AACA,0E;AACA,yE;AACA,iF;AACA,iE;AACA,yB;AACA,sC;AACA,kF;AACA,sE;AACA,wE;AACA,4E;AACA,sE;AACA,iF;AACA,wC;AACA,qE;AACA,sE;AACA,yD;AACA,+B;AACA,yB;AACA,uB;AACA,gE;AACA,kB;AACA,oC;AACA,iC;AACA,4E;AACA,uE;AACA,iF;AACA,8B;AACA,2C;AACA,2D;AACA,qB;AACA,+B;AACA,sC;AACA,qB;AACA,iB;AACA,c;AACA,S;AACA,O;;AAEA,4E;AACA,yE;AACA,kB;AACA,gF;AACA,2E;AACA,0D;AACA,4E;AACA,2E;AACA,e;AACA,wF;AACA,iB;AACA,qB;AACA,8C;AACA,0D;AACA,c;AACA,8C;AACA,uE;AACA,c;AACA,8C;AACA,0D;AACA,c;AACA,6C;AACA,iD;AACA,8D;AACA,oF;AACA,mD;AACA,c;AACA,gD;AACA,wE;AACA,a;AACA,S;AACA,O;;AAEA,I;;;;;;;;;;;;;;;;;;;ACxNA,E;AACA,mC;AACA,gD;AACA,E;AACA,mC;AACA,sB;AACA,E;AACA,kC;AACA,yC;AACA,G;;AAEA,wB;AACA,wE;;AAEA,qB;AACA,iB;AACA,qD;AACA,+C;AACA,gB;AACA,qB;AACA,8B;AACA,oB;AACA,6C;AACA,yB;AACA,gB;AACA,8B;AACA,gD;AACA,U;AACA,Y;AACA,2B;AACA,+B;AACA,K;AACA,gB;AACA,iB;;AAEA,0C;AACA,mE;AACA,uC;AACA,+E;AACA,2C;AACA,0E;AACA,0C;AACA,8C;AACA,yC;AACA,mD;AACA,mD;;AAEA,+E;AACA,kF;AACA,8C;AACA,4E;AACA,0E;AACA,4E;AACA,wD;;AAEA,sE;AACA,iE;AACA,+D;;AAEA,gF;AACA,mC;AACA,6C;AACA,6B;AACA,6E;AACA,8C;AACA,gF;AACA,kC;AACA,6B;AACA,0D;AACA,kC;AACA,mC;AACA,iC;AACA,qD;AACA,iB;AACA,a;AACA,U;AACA,K;;AAEA,mF;AACA,4E;AACA,8E;AACA,gF;AACA,0B;AACA,8E;AACA,4E;AACA,uD;AACA,oC;;AAEA,kB;AACA,gF;AACA,0D;AACA,kC;AACA,qE;AACA,yE;AACA,iC;AACA,+E;AACA,sE;AACA,8D;AACA,0D;AACA,iC;AACA,8E;AACA,mF;AACA,4E;AACA,uF;AACA,mC;AACA,qF;AACA,kF;AACA,gF;AACA,sD;AACA,iC;AACA,mF;AACA,wE;AACA,8C;AACA,oC;AACA,0E;AACA,qE;AACA,6C;AACA,gF;AACA,iF;AACA,8B;AACA,gD;AACA,kF;AACA,iF;AACA,6D;AACA,kD;AACA,iF;AACA,qC;AACA,qC;AACA,yD;AACA,qE;AACA,8C;AACA,kF;AACA,wC;AACA,gF;AACA,wE;AACA,gC;AACA,gF;AACA,kE;AACA,yC;AACA,gF;AACA,uD;AACA,mC;AACA,4E;AACA,wE;AACA,gE;AACA,4B;AACA,gF;AACA,iF;AACA,gF;AACA,sC;AACA,oC;AACA,iF;AACA,+E;AACA,gF;AACA,8E;AACA,gF;AACA,qC;AACA,oF;AACA,gF;AACA,8D;AACA,sC;AACA,iF;AACA,kC;AACA,sE;AACA,iC;AACA,+E;AACA,6B;;AAEA,uC;AACA,uB;AACA,gE;AACA,c;;AAEA,0E;AACA,qE;AACA,+C;AACA,uE;AACA,8B;AACA,2D;AACA,0E;AACA,uB;AACA,iB;AACA,+B;AACA,c;;AAEA,qF;AACA,iF;AACA,+E;AACA,iE;AACA,qF;AACA,uC;AACA,6C;AACA,c;;AAEA,uF;AACA,qF;AACA,gF;AACA,oF;AACA,4C;AACA,c;AACA,yF;AACA,gF;AACA,yF;AACA,c;AACA,+E;AACA,4C;AACA,c;AACA,qF;AACA,0D;AACA,gE;AACA,qC;AACA,6C;AACA,iC;AACA,iB;AACA,oE;AACA,sE;AACA,qD;AACA,sC;AACA,uB;AACA,iB;AACA,c;;AAEA,+B;;AAEA,iE;AACA,iF;;AAEA,kE;AACA,6E;;AAEA,+C;AACA,6E;;AAEA,4D;AACA,6E;;AAEA,yE;AACA,iF;;AAEA,mD;AACA,qF;;AAEA,0D;AACA,2F;;AAEA,oF;AACA,yE;;AAEA,kF;AACA,uE;;AAEA,8D;AACA,iF;;AAEA,6D;AACA,+E;;AAEA,2D;AACA,6E;;AAEA,+D;AACA,+E;;AAEA,mE;AACA,uF;;AAEA,qD;AACA,uF;;AAEA,kE;AACA,uF;;AAEA,sF;AACA,2F;;AAEA,iF;AACA,oF;AACA,+B;AACA,+B;AACA,wB;AACA,U;;AAEA,+E;AACA,uC;AACA,0B;AACA,wB;AACA,uB;AACA,wB;AACA,wB;AACA,kC;AACA,U;;AAEA,wD;AACA,wE;AACA,gD;AACA,U;;AAEA,oC;AACA,gF;AACA,4B;AACA,6B;AACA,gE;AACA,oD;AACA,wE;AACA,kF;AACA,yC;AACA,yC;AACA,iB;AACA,oC;AACA,c;AACA,U;;AAEA,0C;AACA,mD;AACA,mE;AACA,iD;AACA,U;;AAEA,0C;AACA,yB;AACA,0D;AACA,sD;AACA,a;AACA,8C;AACA,wC;AACA,a;AACA,wD;AACA,8B;AACA,iE;AACA,8D;AACA,mB;AACA,gC;AACA,a;AACA,sB;AACA,U;;AAEA,qC;AACA,0B;AACA,kD;AACA,wC;AACA,e;AACA,yB;AACA,U;;AAEA,6C;AACA,4B;AACA,0B;AACA,yB;AACA,0B;AACA,c;AACA,gC;AACA,kD;AACA,oB;AACA,yC;AACA,a;AACA,U;;AAEA,6C;AACA,qB;AACA,gC;AACA,6C;AACA,6D;AACA,mD;AACA,qB;AACA,iB;AACA,oB;AACA,mC;AACA,a;AACA,U;;AAEA,yC;AACA,qC;AACA,6E;AACA,2B;AACA,0D;AACA,qE;AACA,+C;AACA,2B;AACA,iB;AACA,iC;AACA,oC;AACA,iF;AACA,8C;AACA,sE;AACA,gD;AACA,0E;AACA,uE;AACA,wB;AACA,0C;AACA,wC;AACA,kB;AACA,6D;AACA,sF;AACA,wB;AACA,2B;AACA,wC;AACA,kB;AACA,iF;AACA,8E;AACA,mD;AACA,8B;AACA,+B;AACA,6D;AACA,wB;AACA,kB;AACA,gF;AACA,2E;AACA,8B;AACA,kC;AACA,gE;AACA,kC;AACA,kB;AACA,a;AACA,U;;AAEA,mD;AACA,4B;AACA,yE;AACA,kF;AACA,6C;AACA,6B;AACA,6D;AACA,6C;AACA,+E;AACA,6D;AACA,yC;AACA,uC;AACA,iD;AACA,mB;AACA,2C;AACA,+B;AACA,kB;AACA,a;AACA,U;;AAEA,6C;AACA,2C;AACA,mF;AACA,U;;AAEA,0C;AACA,4B;AACA,yB;AACA,wC;AACA,iE;AACA,0E;AACA,mE;AACA,6D;AACA,4D;AACA,uC;AACA,wE;AACA,a;AACA,kF;AACA,mF;AACA,+C;AACA,a;AACA,6B;AACA,8E;AACA,oD;AACA,yD;AACA,0C;AACA,yE;AACA,uE;AACA,wE;AACA,oE;AACA,0D;AACA,uC;AACA,uC;AACA,4C;AACA,+C;AACA,2B;AACA,4B;AACA,sE;AACA,2C;AACA,+E;AACA,2E;AACA,2C;AACA,+B;AACA,2B;AACA,qB;AACA,wB;AACA,2E;AACA,oD;AACA,4B;AACA,kD;AACA,oF;AACA,qE;AACA,2B;AACA,qB;AACA,uC;AACA,4E;AACA,4B;AACA,sE;AACA,sE;AACA,6C;AACA,mE;AACA,uE;AACA,gD;AACA,6E;AACA,+E;AACA,yC;AACA,gE;AACA,kC;AACA,6B;AACA,2B;AACA,qB;AACA,iB;AACA,wC;AACA,a;AACA,iE;AACA,gC;AACA,U;;AAEA,iD;AACA,iF;AACA,2E;AACA,oE;AACA,4E;AACA,0D;AACA,qE;AACA,iF;AACA,uC;AACA,kE;AACA,2C;AACA,mB;AACA,a;AACA,U;;AAEA,+C;AACA,6C;AACA,0D;AACA,wC;AACA,mD;AACA,qB;AACA,wD;AACA,iB;AACA,0C;AACA,sE;AACA,6C;AACA,iF;AACA,iB;AACA,oB;AACA,kD;AACA,a;AACA,U;;AAEA,2C;AACA,iD;AACA,8C;AACA,6B;AACA,+B;AACA,4C;AACA,wC;AACA,+D;AACA,gE;AACA,+B;AACA,6C;AACA,+B;AACA,qB;AACA,mB;AACA,wC;AACA,sE;AACA,iB;AACA,+C;AACA,wC;AACA,a;AACA,6B;AACA,U;;AAEA,+C;AACA,oE;AACA,6C;AACA,wD;AACA,iE;AACA,2E;AACA,4D;AACA,2C;AACA,0E;AACA,iB;AACA,a;AACA,4D;AACA,+B;AACA,2E;AACA,a;AACA,+D;AACA,2C;AACA,oE;AACA,sD;AACA,gC;AACA,oE;AACA,+C;AACA,sC;AACA,a;AACA,6C;AACA,gF;AACA,a;AACA,U;;AAEA,2C;AACA,2D;AACA,4C;AACA,4C;AACA,2B;AACA,U;;AAEA,+C;AACA,qE;AACA,gD;AACA,iC;AACA,wC;AACA,a;AACA,wC;AACA,kC;AACA,a;AACA,wC;AACA,kC;AACA,a;AACA,6B;AACA,U;;AAEA,iD;AACA,+C;AACA,6C;AACA,2C;AACA,yC;AACA,8C;AACA,2B;AACA,U;;AAEA,6D;AACA,gE;AACA,mE;AACA,mC;AACA,wC;AACA,iE;AACA,2C;AACA,+C;AACA,mD;AACA,8C;AACA,a;AACA,wC;AACA,iD;AACA,U;;AAEA,kE;AACA,oD;AACA,4B;AACA,8C;AACA,0E;AACA,kB;AACA,+D;AACA,gD;AACA,6D;AACA,wE;AACA,yC;AACA,uD;AACA,uD;AACA,4E;AACA,iC;AACA,6D;AACA,6B;AACA,wD;AACA,iB;AACA,gE;AACA,c;AACA,uC;AACA,iD;AACA,6C;AACA,uC;AACA,qC;AACA,mE;AACA,gC;AACA,8D;AACA,iB;AACA,2D;AACA,c;AACA,sC;AACA,iC;AACA,8C;AACA,iB;AACA,2C;AACA,kD;AACA,kD;AACA,c;AACA,sC;AACA,iC;AACA,8D;AACA,iB;AACA,yC;AACA,sE;AACA,iB;AACA,c;AACA,2C;AACA,gE;AACA,yE;AACA,c;AACA,yC;AACA,sC;AACA,c;AACA,yC;AACA,sC;AACA,c;AACA,U;;AAEA,2D;AACA,0C;AACA,6C;AACA,yD;AACA,kD;AACA,4D;AACA,2C;AACA,sD;AACA,U;;AAEA,0D;AACA,4D;AACA,kE;AACA,gE;AACA,2B;AACA,sD;AACA,+D;AACA,4B;AACA,wC;AACA,+B;AACA,2C;AACA,iD;AACA,wC;AACA,mC;AACA,wC;AACA,sB;AACA,uB;AACA,6E;AACA,mC;AACA,6B;AACA,a;AACA,2B;AACA,4B;AACA,a;AACA,2B;AACA,2D;AACA,2C;AACA,0B;AACA,oC;AACA,+C;AACA,kB;AACA,a;AACA,uC;AACA,kC;AACA,kE;AACA,8C;AACA,uD;AACA,oC;AACA,yB;AACA,uB;AACA,6B;AACA,6B;AACA,kB;AACA,mE;AACA,8D;AACA,0C;AACA,yD;AACA,sD;AACA,sD;AACA,8E;AACA,qC;AACA,gE;AACA,8C;AACA,wF;AACA,8D;AACA,gE;AACA,6D;AACA,+C;AACA,6E;AACA,wE;AACA,0C;AACA,+E;AACA,kE;AACA,uD;AACA,6D;AACA,2D;AACA,mC;AACA,yB;AACA,qE;AACA,0C;AACA,kD;AACA,wC;AACA,4D;AACA,8D;AACA,sC;AACA,4D;AACA,4D;AACA,qC;AACA,gC;AACA,4C;AACA,0C;AACA,2D;AACA,8B;AACA,yB;AACA,sB;AACA,qE;AACA,wC;AACA,kD;AACA,oD;AACA,4D;AACA,8D;AACA,uC;AACA,sC;AACA,4D;AACA,0B;AACA,uB;AACA,c;AACA,0C;AACA,yC;AACA,qC;AACA,c;AACA,qB;AACA,2B;AACA,U;;AAEA,yC;AACA,qC;AACA,wE;AACA,8D;AACA,4D;AACA,uC;AACA,qE;AACA,8D;AACA,oD;AACA,iE;AACA,2C;AACA,a;AACA,sE;AACA,mE;AACA,gD;AACA,2C;AACA,2C;AACA,0E;AACA,gF;AACA,sD;AACA,8B;AACA,qD;AACA,iD;AACA,+C;AACA,U;;AAEA,gE;AACA,gD;AACA,6C;AACA,mD;AACA,qE;AACA,iE;AACA,sD;AACA,2C;AACA,kC;AACA,gC;AACA,6B;AACA,a;AACA,sD;AACA,kE;AACA,mD;AACA,iD;AACA,U;;AAEA,qE;AACA,6C;AACA,8C;AACA,sE;AACA,mD;AACA,kE;AACA,gE;AACA,a;AACA,mD;AACA,kE;AACA,qE;AACA,iD;AACA,U;;AAEA,gF;AACA,0E;AACA,yD;AACA,mD;AACA,U;;AAEA,qC;AACA,+B;AACA,qD;AACA,a;AACA,4B;AACA,sB;AACA,wB;AACA,qB;AACA,qB;AACA,sD;AACA,oC;AACA,uC;AACA,kE;AACA,qE;AACA,sC;AACA,mD;AACA,mC;AACA,iE;AACA,mC;AACA,uC;AACA,gF;AACA,uE;AACA,iE;AACA,yE;AACA,uE;AACA,8E;AACA,kF;AACA,uC;AACA,0C;AACA,uC;AACA,yC;AACA,mC;AACA,0B;AACA,2C;AACA,0C;AACA,6D;AACA,iF;AACA,4D;AACA,yD;AACA,+D;AACA,8C;AACA,qF;AACA,uD;AACA,0C;AACA,iC;AACA,+D;AACA,6B;AACA,yB;AACA,iD;AACA,mF;AACA,uF;AACA,kD;AACA,yB;AACA,uB;AACA,iC;AACA,kB;AACA,yC;AACA,iD;AACA,2D;AACA,4E;AACA,8D;AACA,wC;AACA,2C;AACA,2C;AACA,wB;AACA,qE;AACA,0C;AACA,iB;AACA,kF;AACA,gF;AACA,gF;AACA,0C;AACA,4D;AACA,iC;AACA,mC;AACA,sE;AACA,yB;AACA,sC;AACA,qB;AACA,yC;AACA,kB;AACA,kD;AACA,a;AACA,0B;AACA,U;;AAEA,oC;AACA,4B;AACA,8B;AACA,2D;AACA,mC;AACA,2C;AACA,sD;AACA,6D;AACA,oE;AACA,8B;AACA,wD;AACA,6B;AACA,+B;AACA,wB;AACA,kB;AACA,sB;AACA,6E;AACA,sC;AACA,a;AACA,qE;AACA,kD;AACA,kC;AACA,2C;AACA,4E;AACA,6B;AACA,kC;AACA,0D;AACA,4D;AACA,mE;AACA,iD;AACA,mD;AACA,qB;AACA,sD;AACA,iB;AACA,iE;AACA,6B;AACA,kC;AACA,yD;AACA,0D;AACA,gD;AACA,uF;AACA,4D;AACA,4D;AACA,mE;AACA,qD;AACA,uD;AACA,yB;AACA,0D;AACA,kC;AACA,sC;AACA,qB;AACA,iB;AACA,oB;AACA,yC;AACA,a;AACA,uC;AACA,gE;AACA,iD;AACA,8D;AACA,wD;AACA,kD;AACA,kD;AACA,wD;AACA,uC;AACA,0B;AACA,wD;AACA,2B;AACA,kB;AACA,8B;AACA,e;AACA,0B;AACA,U;;AAEA,4C;AACA,uC;AACA,+C;AACA,kF;AACA,6C;AACA,6D;AACA,uE;AACA,oD;AACA,6C;AACA,+D;AACA,gD;AACA,uE;AACA,2E;AACA,8B;AACA,kF;AACA,sC;AACA,yC;AACA,iB;AACA,0B;AACA,e;AACA,2E;AACA,+D;AACA,+C;AACA,0C;AACA,a;AACA,U;;AAEA,sD;AACA,4B;AACA,mC;AACA,6C;AACA,wC;AACA,wC;AACA,qB;AACA,8D;AACA,oE;AACA,gE;AACA,0D;AACA,qC;AACA,kB;AACA,qD;AACA,gD;AACA,gC;AACA,+C;AACA,6C;AACA,2C;AACA,0C;AACA,kB;AACA,2C;AACA,8D;AACA,8C;AACA,oD;AACA,gC;AACA,8D;AACA,0C;AACA,yB;AACA,qC;AACA,kB;AACA,wC;AACA,8B;AACA,+B;AACA,kC;AACA,wD;AACA,oD;AACA,6C;AACA,wB;AACA,gD;AACA,iD;AACA,0C;AACA,qC;AACA,iB;AACA,2C;AACA,iD;AACA,8B;AACA,oB;AACA,4D;AACA,mD;AACA,gC;AACA,a;AACA,iC;AACA,U;;AAEA,0D;AACA,4B;AACA,gC;AACA,kB;AACA,iD;AACA,kE;AACA,kB;AACA,gC;AACA,oD;AACA,uB;AACA,6B;AACA,kB;AACA,e;AACA,U;;AAEA,mD;AACA,8C;AACA,2C;AACA,sE;AACA,2C;AACA,mD;AACA,kD;AACA,kC;AACA,oD;AACA,4D;AACA,wC;AACA,qE;AACA,+D;AACA,6B;AACA,yC;AACA,yB;AACA,iD;AACA,sB;AACA,kB;AACA,a;AACA,wC;AACA,+C;AACA,wB;AACA,U;;AAEA,wD;AACA,qC;AACA,4D;AACA,8C;AACA,sB;AACA,sB;AACA,4C;AACA,4D;AACA,a;AACA,yD;AACA,gC;AACA,gD;AACA,6B;AACA,8D;AACA,iB;AACA,+E;AACA,4E;AACA,yE;AACA,6D;AACA,0E;AACA,iE;AACA,sD;AACA,8C;AACA,8C;AACA,mB;AACA,a;AACA,yD;AACA,U;;AAEA,kD;AACA,sE;AACA,gE;AACA,a;AACA,gC;AACA,kB;AACA,+D;AACA,gC;AACA,oD;AACA,uB;AACA,6B;AACA,kB;AACA,e;AACA,U;;AAEA,iC;AACA,4B;AACA,wB;AACA,2C;AACA,0C;AACA,kB;AACA,6E;AACA,mC;AACA,oD;AACA,iD;AACA,iB;AACA,kC;AACA,iC;AACA,+D;AACA,4B;AACA,kC;AACA,yC;AACA,iB;AACA,e;AACA,U;;AAEA,gC;AACA,2E;AACA,wD;AACA,mC;AACA,wC;AACA,sD;AACA,kE;AACA,+B;AACA,8C;AACA,qB;AACA,mB;AACA,kC;AACA,gC;AACA,8D;AACA,4B;AACA,kC;AACA,yC;AACA,iB;AACA,a;AACA,U;;AAEA,+B;AACA,6E;AACA,4B;AACA,8C;AACA,0B;AACA,kF;AACA,mC;AACA,6E;AACA,uC;AACA,sC;AACA,mC;AACA,iE;AACA,gC;AACA,sC;AACA,6C;AACA,qB;AACA,mB;AACA,a;AACA,U;;AAEA,gD;;AAEA,kD;;AAEA,kD;;AAEA,yC;AACA,kD;AACA,iD;AACA,+C;AACA,uC;AACA,iF;AACA,iD;AACA,6E;AACA,gD;AACA,mB;AACA,kD;AACA,wC;AACA,mB;AACA,a;AACA,sC;AACA,kD;AACA,0C;AACA,mB;AACA,a;AACA,U;;AAEA,4C;AACA,kF;AACA,uD;AACA,wD;AACA,U;;AAEA,2C;AACA,qE;AACA,yB;AACA,6C;AACA,a;AACA,oC;AACA,yB;AACA,2C;AACA,0C;AACA,a;AACA,U;;AAEA,0C;AACA,uC;AACA,kD;AACA,2E;AACA,+E;AACA,2D;AACA,yD;AACA,a;AACA,mD;AACA,uD;AACA,a;AACA,oD;AACA,yD;AACA,a;AACA,U;;AAEA,oC;AACA,uC;AACA,wC;AACA,0B;AACA,0D;AACA,U;;AAEA,gD;AACA,iE;AACA,iD;AACA,U;;AAEA,0C;AACA,4B;AACA,uC;AACA,2C;AACA,gE;AACA,mB;AACA,2C;AACA,wC;AACA,sD;AACA,8B;AACA,6C;AACA,gE;AACA,8E;AACA,+D;AACA,2B;AACA,0C;AACA,+D;AACA,2D;AACA,yB;AACA,6C;AACA,qB;AACA,iB;AACA,c;AACA,U;;AAEA,8B;AACA,uC;AACA,uC;AACA,6B;AACA,uD;AACA,6C;AACA,2C;AACA,sC;AACA,U;;AAEA,uE;AACA,wC;AACA,6B;AACA,gC;AACA,U;;AAEA,uE;AACA,sC;AACA,yE;AACA,mC;AACA,+B;AACA,kC;AACA,U;;AAEA,2E;AACA,+E;AACA,yE;AACA,kD;AACA,8B;AACA,4B;AACA,iD;AACA,uB;AACA,a;AACA,gD;AACA,iF;AACA,uC;AACA,4C;AACA,mB;AACA,oB;AACA,qD;AACA,wC;AACA,a;AACA,U;;AAEA,4E;AACA,+E;AACA,sF;AACA,mD;AACA,wE;AACA,+B;AACA,iD;AACA,oD;AACA,oC;AACA,2C;AACA,gD;AACA,8B;AACA,gC;AACA,iD;AACA,uC;AACA,oC;AACA,iD;AACA,yB;AACA,2D;AACA,uC;AACA,sB;AACA,mE;AACA,0C;AACA,0C;AACA,uC;AACA,6B;AACA,gD;AACA,6C;AACA,uC;AACA,6B;AACA,+C;AACA,6D;AACA,uC;AACA,sE;AACA,2E;AACA,kC;AACA,2E;AACA,+E;AACA,iC;AACA,8B;AACA,yB;AACA,sB;AACA,yD;AACA,iB;AACA,qD;AACA,wC;AACA,oD;AACA,iB;AACA,a;AACA,oE;AACA,S;;AAEA,O;;AAEA,I;;;;;;;;;;;;;;;;;;;AC17CA,I;AACA,6E;AACA,E;AACA,wD;AACA,G;AACA,yD;AACA,iC;AACA,G;;AAEA,kD;AACA,4E;;AAEA,0I;AACA,2L;AACA,0D;AACA,+D;AACA,sO;AACA,2C;AACA,gC;AACA,kF;AACA,+O;AACA,sK;AACA,2C;AACA,wC;AACA,mB;;AAEA,8K;AACA,mH;AACA,+G;AACA,oQ;AACA,yB;AACA,mB;;AAEA,iL;AACA,yB;AACA,qB;;AAEA,4I;AACA,yN;AACA,sK;AACA,2C;AACA,gD;AACA,8C;AACA,0B;AACA,oK;AACA,2C;AACA,gB;AACA,8C;AACA,kQ;AACA,0D;AACA,Y;AACA,sO;AACA,2C;AACA,2D;AACA,8C;AACA,+L;AACA,uK;AACA,2C;AACA,gD;AACA,kF;AACA,0B;AACA,qK;AACA,2C;AACA,iB;AACA,sK;AACA,2C;AACA,gB;AACA,mB;;AAEA,gL;AACA,qN;AACA,mO;AACA,2C;AACA,wG;AACA,mB;;AAEA,mL;AACA,0C;AACA,qB;;AAEA,0I;AACA,yE;AACA,oF;AACA,0L;AACA,4O;AACA,uB;AACA,uK;AACA,2C;AACA,8B;AACA,mB;;AAEA,oL;AACA,oE;AACA,qB;;AAEA,4I;AACA,0B;AACA,oK;AACA,2C;AACA,gB;AACA,8C;AACA,0P;AACA,0D;AACA,Y;AACA,sO;AACA,2C;AACA,uD;AACA,8C;AACA,sL;AACA,uK;AACA,2C;AACA,6C;AACA,8C;AACA,0B;AACA,oK;AACA,2C;AACA,gB;AACA,8C;AACA,4P;AACA,0D;AACA,Y;AACA,sO;AACA,2C;AACA,wD;AACA,kF;AACA,iN;AACA,sK;AACA,2C;AACA,oC;AACA,sK;AACA,2C;AACA,gB;AACA,mB;AACA,6C;;AAEA,iB;;AAEA,yB;AACA,oC;AACA,oB;AACA,yB;AACA,0B;AACA,qB;AACA,2E;AACA,4B;AACA,a;AACA,U;;AAEA,O;AACA,iC;AACA,M;AACA,0B;AACA,uB;AACA,O;;AAEA,4B;AACA,0D;AACA,K;;AAEA,O;AACA,2B;AACA,M;AACA,wD;AACA,M;AACA,mB;AACA,0D;AACA,6D;AACA,qB;AACA,O;;AAEA,iC;AACA,mB;;AAEA,qB;AACA,yB;AACA,uD;;AAEA,sB;AACA,uB;AACA,yI;AACA,kE;AACA,oC;AACA,kC;AACA,S;AACA,6D;AACA,qC;;AAEA,kC;AACA,gC;;AAEA,oC;AACA,kD;AACA,mC;AACA,6E;AACA,yE;AACA,mE;AACA,+D;;AAEA,2E;AACA,uE;AACA,mE;AACA,sE;AACA,iE;AACA,6D;AACA,yD;AACA,8F;AACA,S;AACA,K;;AAEA,O;AACA,qB;AACA,M;AACA,qB;AACA,O;;AAEA,uC;AACA,yD;;AAEA,uG;AACA,2B;AACA,S;;AAEA,0B;AACA,qB;AACA,sB;AACA,M;;AAEA,O;AACA,sB;AACA,M;AACA,qB;AACA,O;;AAEA,yC;AACA,wB;;AAEA,gB;AACA,+C;AACA,mC;AACA,c;AACA,8D;AACA,qH;AACA,sF;AACA,+E;AACA,6E;AACA,uE;AACA,e;;AAEA,uE;AACA,M;;AAEA,O;AACA,6B;AACA,M;AACA,oC;AACA,O;;AAEA,4C;AACA,mC;AACA,M;;AAEA,O;AACA,yC;AACA,M;AACA,uC;AACA,O;;AAEA,kD;AACA,qC;;AAEA,qC;AACA,2D;;AAEA,0D;;AAEA,2C;AACA,W;;AAEA,oB;AACA,M;;AAEA,O;AACA,wE;AACA,M;AACA,kB;AACA,qB;AACA,O;;AAEA,mD;AACA,kD;AACA,yD;AACA,W;;AAEA,2B;AACA,M;;AAEA,O;AACA,oE;AACA,M;AACA,kB;AACA,qB;AACA,O;;AAEA,iD;AACA,yB;;AAEA,kD;AACA,wD;AACA,W;AACA,M;;AAEA,O;AACA,qE;AACA,M;AACA,qB;AACA,O;;AAEA,gD;AACA,kD;AACA,yD;AACA,W;;AAEA,wB;AACA,M;;AAEA,O;AACA,iE;AACA,M;AACA,qB;AACA,O;;AAEA,8C;AACA,sB;;AAEA,kD;AACA,wD;AACA,W;AACA,M;;AAEA,O;AACA,+G;AACA,M;AACA,qB;AACA,O;;AAEA,4D;AACA,mC;AACA,sB;;AAEA,uD;AACA,0H;;AAEA,yC;AACA,gD;AACA,+B;;AAEA,qC;AACA,gD;AACA,gB;AACA,qC;AACA,S;AACA,M;;AAEA,O;AACA,8B;AACA,M;AACA,qB;AACA,O;;AAEA,2C;AACA,kD;AACA,M;;AAEA,O;AACA,0B;AACA,M;AACA,qB;AACA,O;;AAEA,0C;AACA,qC;;AAEA,iE;AACA,M;;AAEA,O;AACA,yB;AACA,M;AACA,qB;AACA,O;;AAEA,yC;AACA,oC;;AAEA,oE;AACA,M;;AAEA,O;AACA,6E;AACA,M;AACA,qB;AACA,O;;AAEA,oD;AACA,8B;;AAEA,oF;AACA,+B;AACA,S;AACA,M;;AAEA,O;AACA,wB;AACA,M;AACA,qB;AACA,O;;AAEA,6C;AACA,wB;;AAEA,uE;AACA,mB;AACA,S;;AAEA,+D;AACA,wD;;AAEA,oC;AACA,kD;AACA,uB;AACA,a;;AAEA,yC;AACA,qF;AACA,W;AACA,M;;AAEA,O;AACA,qC;AACA,M;AACA,qB;AACA,O;;AAEA,wC;AACA,wB;AACA,qC;;AAEA,6C;AACA,mB;AACA,S;;AAEA,kB;AACA,kH;AACA,gF;;AAEA,iF;AACA,2F;AACA,S;;AAEA,kB;AACA,iE;AACA,wB;AACA,uB;AACA,iC;AACA,kF;AACA,e;;AAEA,gC;AACA,kC;;AAEA,uB;AACA,wE;AACA,oE;AACA,W;;AAEA,0B;;AAEA,2D;AACA,kC;AACA,iG;AACA,6F;AACA,S;AACA,M;;AAEA,O;AACA,uC;AACA,M;AACA,gD;AACA,O;;AAEA,6C;AACA,6C;AACA,mB;AACA,S;;AAEA,oE;AACA,uC;AACA,kB;AACA,M;;AAEA,O;AACA,4C;AACA,M;AACA,qB;AACA,O;;AAEA,6C;AACA,mE;AACA,+C;AACA,S;AACA,M;;AAEA,O;AACA,oE;AACA,M;AACA,qB;AACA,O;;AAEA,iD;AACA,8B;AACA,8C;AACA,wB;AACA,6C;;AAEA,6C;AACA,mB;AACA,S;;AAEA,uD;AACA,2B;AACA,gB;AACA,4C;AACA,wD;AACA,S;;AAEA,8H;AACA,+D;AACA,gD;AACA,S;;AAEA,iE;;AAEA,qB;;AAEA,mL;;AAEA,uF;;AAEA,0D;AACA,mE;AACA,mC;AACA,iB;;AAEA,wE;AACA,oE;AACA,wC;AACA,2B;AACA,iB;AACA,e;;AAEA,uG;AACA,oD;;AAEA,2G;AACA,wC;AACA,sD;AACA,kD;AACA,0C;AACA,oB;AACA,mC;AACA,a;AACA,S;AACA,M;;AAEA,O;AACA,mB;AACA,M;AACA,yD;AACA,sB;AACA,O;;AAEA,yD;AACA,+D;;AAEA,wB;AACA,mC;;AAEA,0B;AACA,uC;AACA,+E;AACA,S;AACA,M;;AAEA,O;AACA,oB;AACA,M;AACA,2C;AACA,sB;AACA,O;;AAEA,iD;AACA,8B;;AAEA,kD;AACA,yD;AACA,4F;AACA,M;;AAEA,O;AACA,uB;AACA,M;AACA,yD;AACA,qB;AACA,O;;AAEA,6D;AACA,+D;AACA,wD;AACA,mF;AACA,sB;;AAEA,wB;;AAEA,2M;AACA,wD;AACA,yE;;AAEA,8B;AACA,oE;AACA,kD;AACA,iB;;AAEA,uD;AACA,a;;AAEA,0B;AACA,2B;AACA,wB;AACA,e;AACA,S;AACA,M;;AAEA,O;AACA,6B;AACA,M;AACA,qB;AACA,O;;AAEA,+C;AACA,oE;AACA,iG;AACA,M;;AAEA,O;AACA,0B;AACA,M;AACA,qB;AACA,O;;AAEA,6C;AACA,8D;AACA,iG;AACA,M;;AAEA,O;AACA,0B;AACA,M;AACA,uB;AACA,qB;AACA,O;;AAEA,+C;AACA,8E;AACA,qC;AACA,uC;;AAEA,wE;AACA,M;;AAEA,O;AACA,yD;AACA,M;AACA,2D;AACA,yE;AACA,M;AACA,qB;AACA,O;;AAEA,yD;AACA,2B;;AAEA,iC;AACA,uC;AACA,oC;AACA,wB;;AAEA,oC;AACA,sD;AACA,mC;AACA,S;;AAEA,mD;AACA,6B;AACA,8B;AACA,4B;AACA,M;;AAEA,O;AACA,kB;AACA,M;AACA,kC;AACA,kC;AACA,qB;AACA,O;;AAEA,6D;AACA,8C;;AAEA,oC;AACA,4E;AACA,wC;AACA,gB;AACA,S;AACA,M;;AAEA,O;AACA,sB;AACA,M;AACA,sC;AACA,qB;AACA,O;;AAEA,wD;AACA,oD;;AAEA,sB;AACA,+C;AACA,S;;AAEA,oC;AACA,wG;AACA,iC;AACA,a;AACA,W;AACA,M;;AAEA,O;AACA,iC;AACA,M;AACA,kC;AACA,qB;AACA,O;;AAEA,8D;AACA,2E;;AAEA,8B;AACA,oB;AACA,iE;AACA,gD;AACA,S;AACA,M;;AAEA,O;AACA,oD;AACA,M;AACA,8B;AACA,8B;AACA,8B;AACA,qB;AACA,O;;AAEA,sE;AACA,6E;AACA,sB;AACA,iD;AACA,S;;AAEA,yC;AACA,mC;AACA,S;AACA,M;;AAEA,gC;;AAEA,2C;AACA,sC;AACA,wD;AACA,wC;AACA,8E;AACA,4D;AACA,sG;AACA,8B;AACA,gE;AACA,a;AACA,W;AACA,M;;AAEA,6B;;AAEA,6C;;AAEA,iB;;AAEA,yB;AACA,oC;AACA,wD;AACA,oB;AACA,8D;AACA,uG;AACA,uE;AACA,2B;AACA,0D;AACA,qB;AACA,uB;AACA,uE;AACA,gD;AACA,iD;AACA,kB;AACA,uB;AACA,oE;AACA,gD;AACA,iD;AACA,kB;AACA,wB;AACA,qE;AACA,gD;AACA,iD;AACA,iB;AACA,c;AACA,sB;AACA,yB;AACA,+D;AACA,0C;AACA,wD;;AAEA,yC;AACA,oD;AACA,qB;AACA,iB;AACA,a;AACA,U;;AAEA,O;AACA,oB;AACA,M;AACA,wD;AACA,M;AACA,mB;AACA,0D;AACA,6D;AACA,qB;AACA,O;;AAEA,mC;AACA,qB;AACA,yB;AACA,uD;AACA,yD;;AAEA,6D;;AAEA,kC;AACA,gC;;AAEA,oC;AACA,oC;AACA,wF;AACA,mE;AACA,S;;AAEA,oB;AACA,K;;AAEA,O;AACA,qB;AACA,M;AACA,qB;AACA,O;;AAEA,yC;AACA,6D;;AAEA,+C;AACA,kC;AACA,6E;AACA,sF;AACA,a;AACA,W;;AAEA,sB;AACA,sC;AACA,M;;AAEA,O;AACA,sB;AACA,M;AACA,qB;AACA,O;;AAEA,2C;AACA,mB;AACA,wD;AACA,wD;AACA,+G;AACA,kH;;AAEA,gB;AACA,wE;AACA,wD;AACA,uF;AACA,iH;AACA,M;;AAEA,O;AACA,qF;AACA,M;AACA,qB;AACA,O;;AAEA,2D;AACA,wB;;AAEA,6C;AACA,+C;AACA,8C;;AAEA,iE;AACA,oE;AACA,qF;AACA,wC;AACA,oB;AACA,iC;AACA,a;AACA,W;AACA,M;;AAEA,O;AACA,0B;AACA,M;AACA,mC;AACA,O;;AAEA,4C;AACA,yB;AACA,M;;AAEA,O;AACA,yC;AACA,M;AACA,uC;AACA,O;;AAEA,oD;AACA,8C;;AAEA,qC;AACA,2D;;AAEA,8E;AACA,iE;;AAEA,2C;AACA,W;;AAEA,oB;AACA,M;;AAEA,O;AACA,2B;AACA,M;AACA,qB;AACA,O;;AAEA,wC;AACA,4D;;AAEA,mB;AACA,wH;AACA,qF;;AAEA,mF;AACA,qG;AACA,6B;AACA,8F;AACA,4D;AACA,6C;AACA,S;;AAEA,uG;;AAEA,0D;;AAEA,uB;AACA,qC;AACA,M;;AAEA,O;AACA,0B;AACA,M;AACA,uB;AACA,qB;AACA,O;;AAEA,uD;AACA,iC;AACA,8C;AACA,kC;;AAEA,uD;AACA,mB;AACA,S;;AAEA,wC;AACA,oD;;AAEA,+D;AACA,8B;AACA,6E;AACA,sE;AACA,S;;AAEA,6D;;AAEA,wC;;AAEA,+F;AACA,sB;AACA,iE;AACA,wE;AACA,4F;AACA,sB;AACA,oE;AACA,oD;AACA,a;;AAEA,gB;AACA,mE;AACA,S;AACA,M;;AAEA,O;AACA,4G;AACA,M;AACA,uB;AACA,qB;AACA,O;;AAEA,gE;AACA,8C;AACA,M;;AAEA,O;AACA,mB;AACA,M;AACA,uB;AACA,qB;AACA,O;;AAEA,iD;AACA,mE;AACA,gB;;AAEA,6B;AACA,mB;AACA,S;;AAEA,mC;;AAEA,iE;AACA,gE;AACA,4B;AACA,mB;AACA,S;;AAEA,6B;AACA,+B;AACA,gC;;AAEA,2C;AACA,iC;AACA,oB;AACA,mC;AACA,a;AACA,S;AACA,M;;AAEA,O;AACA,gC;AACA,M;AACA,0B;AACA,qB;AACA,O;;AAEA,8C;AACA,wB;;AAEA,8B;;AAEA,gB;AACA,8B;AACA,yB;AACA,0C;AACA,6B;AACA,mB;AACA,wB;AACA,c;AACA,qC;AACA,6C;;AAEA,8E;AACA,iE;AACA,iB;;AAEA,+C;AACA,c;AACA,6D;AACA,gD;AACA,yB;AACA,8D;AACA,iC;AACA,qB;;AAEA,4D;AACA,oH;AACA,wB;AACA,wK;AACA,iB;;AAEA,wD;AACA,a;AACA,W;AACA,M;;AAEA,O;AACA,4B;AACA,M;AACA,0B;AACA,qB;AACA,O;;AAEA,gD;AACA,iB;;AAEA,+F;AACA,oD;AACA,yB;AACA,S;;AAEA,sC;AACA,4P;AACA,yN;AACA,uR;AACA,gR;AACA,uO;;;AAGA,8E;AACA,M;;AAEA,O;AACA,uB;AACA,M;AACA,2B;AACA,qB;AACA,O;;AAEA,8C;AACA,mE;;AAEA,oB;AACA,oD;AACA,yB;AACA,gB;AACA,gF;AACA,0B;AACA,gB;AACA,4B;;AAEA,sC;;AAEA,kD;AACA,iD;AACA,4C;AACA,yC;AACA,6B;AACA,iB;AACA,a;AACA,S;AACA,M;;AAEA,O;AACA,oD;AACA,uE;AACA,M;AACA,0C;AACA,M;AACA,qB;AACA,O;AACA,2D;AACA,qC;AACA,4F;;AAEA,+D;;AAEA,8E;AACA,oC;AACA,gC;AACA,wB;AACA,+B;;AAEA,oE;AACA,kC;AACA,+B;;AAEA,kC;;AAEA,yC;AACA,M;;AAEA,O;AACA,2B;AACA,M;AACA,uB;AACA,sB;AACA,O;;AAEA,iD;AACA,4C;AACA,mI;AACA,4B;;AAEA,6D;;AAEA,oC;AACA,kC;;AAEA,4C;AACA,sG;AACA,iB;AACA,mB;AACA,S;AACA,M;;AAEA,O;AACA,8B;AACA,M;AACA,uB;AACA,sB;AACA,O;;AAEA,mD;AACA,4H;AACA,qE;;AAEA,4D;AACA,yE;AACA,wF;AACA,kE;;AAEA,uG;AACA,iE;AACA,4E;AACA,a;AACA,mB;AACA,S;;AAEA,4D;AACA,oF;;AAEA,mE;AACA,wE;AACA,4D;AACA,4C;AACA,S;AACA,M;;AAEA,O;AACA,mB;AACA,M;AACA,uB;AACA,sB;AACA,O;;AAEA,iD;AACA,2B;;AAEA,8C;AACA,qE;;AAEA,gC;AACA,mC;;AAEA,4F;;AAEA,4F;AACA,sC;AACA,gC;;AAEA,8B;AACA,4C;;AAEA,iD;AACA,0C;AACA,a;AACA,S;AACA,M;;AAEA,O;AACA,mC;AACA,M;AACA,sB;AACA,O;;AAEA,+C;AACA,qE;AACA,2B;AACA,qC;;AAEA,kC;AACA,mB;AACA,S;;AAEA,gF;AACA,wC;AACA,yC;AACA,mB;;AAEA,sD;AACA,wD;;AAEA,0K;AACA,sB;AACA,oB;AACA,S;;AAEA,gB;AACA,kB;AACA,yB;AACA,sF;AACA,c;AACA,oB;;AAEA,iB;AACA,kB;AACA,6E;AACA,mH;AACA,c;AACA,oB;;AAEA,kD;AACA,mF;AACA,gE;AACA,8B;AACA,a;AACA,W;;AAEA,+B;AACA,oF;AACA,S;AACA,M;;AAEA,O;AACA,2B;AACA,M;AACA,uB;AACA,sB;AACA,O;;AAEA,mD;AACA,6F;AACA,wC;AACA,oC;AACA,kC;AACA,qE;AACA,wB;;AAEA,wD;AACA,uG;;AAEA,8C;AACA,4E;;AAEA,kE;AACA,2C;;AAEA,wE;AACA,8E;AACA,iB;AACA,oB;AACA,8C;;AAEA,0E;AACA,gF;AACA,iB;AACA,a;AACA,W;;AAEA,kC;AACA,M;;AAEA,O;AACA,4B;AACA,M;AACA,uB;AACA,sB;AACA,O;;AAEA,oD;AACA,6F;AACA,4E;;AAEA,uB;AACA,sE;AACA,S;;AAEA,kC;AACA,M;;AAEA,gC;;AAEA,uD;AACA,sC;AACA,oE;AACA,4F;AACA,a;AACA,W;AACA,M;;AAEA,6B;;AAEA,6C;;AAEA,iB;;AAEA,yB;AACA,oC;AACA,wD;AACA,oB;AACA,wD;AACA,4E;AACA,uC;AACA,0B;AACA,2B;AACA,oE;AACA,wB;AACA,wE;AACA,kG;AACA,kC;AACA,2D;AACA,c;AACA,qB;AACA,uB;AACA,uE;AACA,gD;AACA,iD;AACA,kB;AACA,uB;AACA,oE;AACA,gD;AACA,iD;AACA,kB;AACA,wB;AACA,qE;AACA,gD;AACA,iD;AACA,kB;AACA,uB;AACA,4D;AACA,gD;AACA,iD;AACA,iB;AACA,c;AACA,sB;AACA,yB;AACA,+D;AACA,0C;AACA,wD;;AAEA,yC;AACA,oD;AACA,qB;AACA,iB;AACA,c;AACA,kC;AACA,gC;;AAEA,qD;AACA,kD;AACA,+D;AACA,2C;AACA,gE;AACA,kC;AACA,kC;AACA,oC;AACA,4C;AACA,kD;AACA,qB;AACA,mB;AACA,c;AACA,uB;AACA,iF;AACA,0D;AACA,a;AACA,uD;AACA,U;;AAEA,O;AACA,oB;AACA,M;AACA,wD;AACA,M;AACA,mB;AACA,0D;AACA,6D;AACA,qB;AACA,O;;AAEA,mC;AACA,qB;AACA,yB;AACA,uD;AACA,yD;;AAEA,6D;;AAEA,kC;AACA,gC;;AAEA,oE;AACA,yD;AACA,yC;AACA,S;;AAEA,oC;AACA,oC;AACA,wF;AACA,mE;AACA,S;;AAEA,oB;AACA,K;;AAEA,O;AACA,qB;AACA,M;AACA,qB;AACA,O;;AAEA,yC;AACA,6D;;AAEA,iE;AACA,8D;;AAEA,sB;AACA,sC;AACA,uB;AACA,M;;AAEA,O;AACA,sB;AACA,M;AACA,qB;AACA,O;;AAEA,2C;AACA,mB;AACA,wD;AACA,wD;AACA,+G;AACA,kH;;AAEA,gB;AACA,oF;AACA,M;;AAEA,O;AACA,6C;AACA,M;AACA,qB;AACA,O;;AAEA,2D;AACA,sC;AACA,wC;AACA,8C;;AAEA,oD;AACA,iC;AACA,mD;AACA,M;;AAEA,O;AACA,0B;AACA,M;AACA,mC;AACA,O;AACA,4C;AACA,yB;AACA,M;;AAEA,O;AACA,yC;AACA,M;AACA,uC;AACA,O;;AAEA,oD;AACA,8C;;AAEA,qC;AACA,2D;;AAEA,yG;;AAEA,2C;AACA,W;;AAEA,oB;AACA,M;;AAEA,O;AACA,gB;AACA,M;AACA,qB;AACA,O;;AAEA,wC;AACA,wB;AACA,kF;AACA,iC;AACA,iC;AACA,yC;AACA,0D;AACA,kB;AACA,0C;AACA,2D;AACA,iB;AACA,c;;AAEA,kC;AACA,wC;AACA,8D;AACA,kF;AACA,S;AACA,oC;AACA,+D;AACA,8E;AACA,S;;AAEA,sE;AACA,iC;AACA,sD;AACA,qE;AACA,0C;AACA,6D;AACA,2D;AACA,c;;AAEA,gE;AACA,8D;AACA,c;AACA,S;;AAEA,gG;;AAEA,sB;AACA,M;;AAEA,O;AACA,oI;AACA,qE;AACA,M;AACA,uB;AACA,2B;AACA,qB;AACA,O;;AAEA,qD;AACA,4D;AACA,wB;AACA,8B;AACA,iC;AACA,6E;AACA,qE;AACA,mB;;AAEA,qE;AACA,yF;AACA,+D;AACA,qF;AACA,S;AACA,sC;AACA,2C;AACA,mB;AACA,S;;AAEA,qC;;AAEA,wF;AACA,6B;AACA,8F;AACA,4D;AACA,6C;AACA,S;;AAEA,gD;;AAEA,sH;AACA,uF;AACA,S;;AAEA,+G;AACA,6C;AACA,uF;AACA,2C;AACA,8C;;AAEA,kD;AACA,4E;AACA,sB;;AAEA,wD;AACA,wB;AACA,kC;AACA,iB;AACA,e;AACA,S;AACA,M;;AAEA,O;AACA,iD;AACA,6E;AACA,M;AACA,uB;AACA,2B;AACA,qB;AACA,O;;AAEA,6D;AACA,mC;;AAEA,6C;AACA,oE;AACA,mF;;AAEA,wB;AACA,wC;AACA,gC;;AAEA,mC;AACA,sC;AACA,a;AACA,S;AACA,M;;AAEA,O;AACA,2C;AACA,0E;AACA,M;AACA,uB;AACA,2B;AACA,qB;AACA,O;;AAEA,0D;AACA,mC;;AAEA,mC;AACA,0E;AACA,+E;;AAEA,qD;;AAEA,iC;AACA,sC;AACA,a;AACA,S;AACA,M;;AAEA,O;AACA,+C;AACA,sE;AACA,M;AACA,uB;AACA,2B;AACA,qB;AACA,O;;AAEA,sD;AACA,+E;;AAEA,+B;AACA,uB;;AAEA,2C;AACA,oD;AACA,S;AACA,M;;AAEA,O;AACA,0C;AACA,M;AACA,0B;AACA,sB;AACA,O;;AAEA,uD;AACA,4D;AACA,qB;AACA,iB;;AAEA,oC;AACA,uB;;AAEA,kE;AACA,yC;AACA,oB;AACA,mD;AACA,0C;AACA,2C;AACA,mE;AACA,0C;AACA,c;AACA,+B;AACA,gB;AACA,kF;AACA,yB;AACA,8C;AACA,iC;;AAEA,uC;;AAEA,iG;AACA,uE;AACA,mE;;AAEA,kD;;AAEA,0C;AACA,gD;AACA,qB;AACA,mB;;AAEA,6D;;AAEA,qD;AACA,2D;AACA,iB;AACA,a;;AAEA,uC;AACA,8B;AACA,a;AACA,S;;AAEA,kC;;AAEA,4B;AACA,M;;AAEA,gD;AACA,kC;AACA,M;;AAEA,O;AACA,2B;AACA,M;AACA,uB;AACA,sB;AACA,O;;AAEA,iD;AACA,4C;AACA,qC;AACA,4B;;AAEA,8C;AACA,4B;;AAEA,0D;AACA,qF;;AAEA,oC;AACA,kC;;AAEA,4C;AACA,yG;AACA,iB;AACA,mB;AACA,S;AACA,M;;AAEA,O;AACA,8B;AACA,M;AACA,uB;AACA,sB;AACA,O;;AAEA,mD;AACA,8B;AACA,kE;;AAEA,0E;AACA,sE;AACA,wF;AACA,+C;AACA,mB;AACA,S;;AAEA,yD;AACA,oF;;AAEA,2D;AACA,8E;AACA,oD;AACA,4C;AACA,S;AACA,M;;AAEA,O;AACA,mB;AACA,M;AACA,uB;AACA,sB;AACA,O;;AAEA,iD;AACA,oC;;AAEA,8C;AACA,kE;;AAEA,gC;AACA,mC;;AAEA,oD;;AAEA,kE;AACA,kD;;AAEA,4F;;AAEA,0D;AACA,4C;AACA,2E;AACA,oG;AACA,+C;AACA,qB;AACA,qC;;AAEA,kC;AACA,gD;;AAEA,qD;AACA,iB;;AAEA,0C;AACA,a;AACA,S;AACA,M;;AAEA,O;AACA,sC;AACA,M;AACA,qC;AACA,sB;AACA,O;;AAEA,mD;AACA,wC;AACA,8D;AACA,S;AACA,M;;AAEA,O;AACA,mC;AACA,M;AACA,sB;AACA,O;;AAEA,+C;AACA,kE;AACA,yD;AACA,2B;AACA,qC;;AAEA,gF;AACA,wC;AACA,yC;AACA,mB;;AAEA,sD;AACA,wD;;AAEA,0K;AACA,sB;AACA,oB;AACA,S;;AAEA,gB;AACA,kB;AACA,yB;AACA,sF;AACA,c;AACA,oB;;AAEA,iB;AACA,kB;AACA,6E;AACA,mH;AACA,c;AACA,oB;;AAEA,kD;AACA,+E;AACA,gE;AACA,8B;AACA,a;AACA,W;;AAEA,+B;AACA,oF;AACA,S;AACA,M;;AAEA,O;AACA,2B;AACA,M;AACA,uB;AACA,sB;AACA,O;;AAEA,mD;AACA,6F;AACA,wC;AACA,oC;AACA,kC;AACA,wD;AACA,wB;;AAEA,wD;AACA,uG;;AAEA,8C;AACA,4E;;AAEA,kE;AACA,uC;;AAEA,wE;AACA,0E;AACA,iB;AACA,oB;AACA,0C;;AAEA,0E;AACA,4E;AACA,iB;AACA,a;AACA,W;;AAEA,qC;;AAEA,kC;AACA,M;;AAEA,O;AACA,4B;AACA,M;AACA,uB;AACA,sB;AACA,O;;AAEA,oD;AACA,6F;AACA,4E;;AAEA,uB;AACA,mE;AACA,S;;AAEA,qC;;AAEA,kC;AACA,M;;AAEA,O;AACA,yB;AACA,M;AACA,sB;AACA,O;;AAEA,4C;AACA,+B;AACA,M;;AAEA,gC;;AAEA,uD;AACA,sC;AACA,oE;AACA,4F;AACA,a;AACA,W;AACA,M;;AAEA,6B;;;;;;;;;;;;;;;;;;;AC7jEA,e;AACA,e;;AAEA,wB;AACA,8B;AACA,gC;AACA,M;AACA,+B;AACA,2C;AACA,M;AACA,8B;AACA,kC;AACA,M;AACA,oB;AACA,uB;AACA,sB;AACA,uC;AACA,2B;AACA,K;AACA,I;;AAEA,K;AACA,wB;AACA,I;AACA,wC;AACA,yB;;AAEA,+B;AACA,yB;;AAEA,mD;AACA,wE;AACA,oD;AACA,wG;AACA,8D;;AAEA,mE;AACA,+I;;AAEA,yC;;AAEA,wB;AACA,G;;AAEA,yB;AACA,2B;;AAEA,O;AACA,2E;AACA,iC;AACA,M;AACA,sC;AACA,sB;;AAEA,iF;AACA,e;;AAEA,6C;AACA,oC;AACA,iB;;AAEA,+F;AACA,4D;AACA,wE;;AAEA,sD;AACA,+C;AACA,qB;;AAEA,+D;AACA,gF;AACA,gD;;AAEA,uF;AACA,8C;AACA,yC;AACA,4D;AACA,+C;AACA,qB;;AAEA,qC;AACA,qC;AACA,6B;AACA,qB;AACA,mB;;AAEA,+D;AACA,yD;AACA,yD;;AAEA,gD;AACA,oI;AACA,iC;AACA,yC;AACA,mD;AACA,qI;AACA,mE;AACA,qB;AACA,2B;AACA,mB;;AAEA,4D;AACA,6C;;AAEA,sC;AACA,qJ;AACA,0C;AACA,uD;AACA,kC;;AAEA,6G;AACA,0G;AACA,8F;AACA,+C;AACA,qD;AACA,kD;AACA,mB;;AAEA,mC;AACA,mC;;AAEA,qD;AACA,wE;AACA,0E;;AAEA,kF;AACA,sB;;AAEA,uB;AACA,8F;AACA,oC;AACA,sB;AACA,yD;AACA,sC;;AAEA,6C;AACA,qD;AACA,yJ;AACA,4B;AACA,iI;AACA,yB;;AAEA,mC;AACA,2H;AACA,2H;AACA,sF;AACA,yB;;AAEA,yC;AACA,yC;;AAEA,8D;AACA,4E;AACA,mF;;AAEA,2F;AACA,4B;;AAEA,6B;AACA,6C;AACA,4B;AACA,iD;AACA,4C;;AAEA,gE;AACA,gE;;AAEA,6D;AACA,oD;;AAEA,6C;;AAEA,4E;AACA,8C;AACA,gC;;AAEA,iC;AACA,sG;AACA,qC;AACA,gC;AACA,mD;AACA,gD;AACA,4E;AACA,qD;AACA,2D;AACA,2E;AACA,yE;AACA,yE;;AAEA,sE;AACA,2D;AACA,+E;AACA,qE;AACA,8D;AACA,yE;;AAEA,sD;AACA,yI;AACA,oE;AACA,mC;AACA,mC;AACA,gC;;AAEA,iC;AACA,+D;AACA,gC;AACA,iD;AACA,uD;AACA,gC;;AAEA,iC;AACA,sG;AACA,wC;AACA,gC;AACA,mD;AACA,gD;AACA,0E;AACA,iF;AACA,mC;;AAEA,+E;AACA,gC;;AAEA,iC;AACA,mF;AACA,gC;AACA,wD;AACA,gD;;AAEA,qF;AACA,6E;;AAEA,0F;AACA,qD;AACA,iE;;AAEA,oF;AACA,mF;AACA,mF;;AAEA,mG;AACA,0D;AACA,2E;;AAEA,6E;AACA,8E;;AAEA,6D;AACA,2E;AACA,wE;AACA,2D;;AAEA,oF;AACA,yF;AACA,mE;AACA,+D;AACA,6C;AACA,2D;AACA,2C;;AAEA,wD;AACA,6D;AACA,yE;;AAEA,2E;AACA,2E;AACA,uE;AACA,kD;AACA,wF;AACA,wD;AACA,gE;AACA,2C;AACA,0C;AACA,kE;AACA,mE;AACA,0C;AACA,kE;AACA,sH;AACA,0C;AACA,kE;AACA,8D;AACA,0C;AACA,sE;AACA,iG;AACA,8F;AACA,yC;AACA,yC;AACA,qC;;AAEA,yF;AACA,0D;AACA,8C;;AAEA,oG;AACA,mE;AACA,8E;;AAEA,4D;AACA,oD;AACA,6C;AACA,kF;AACA,0E;AACA,qD;AACA,2E;AACA,2C;AACA,yC;AACA,8C;;AAEA,iD;AACA,8C;AACA,kF;AACA,0E;AACA,qD;AACA,2E;AACA,2C;AACA,yC;AACA,8C;;AAEA,qD;AACA,8C;AACA,wF;AACA,4E;AACA,uF;AACA,yE;AACA,yD;AACA,yC;AACA,8C;AACA,sD;AACA,8C;AACA,mF;AACA,4E;AACA,uF;AACA,wE;AACA,yD;AACA,yC;AACA,8C;AACA,8C;AACA,yG;AACA,uD;AACA,8H;AACA,iE;AACA,yD;AACA,iE;AACA,yC;AACA,uC;;AAEA,oE;AACA,yG;AACA,8C;;AAEA,0D;AACA,+G;AACA,gG;AACA,8C;;AAEA,iG;AACA,8F;AACA,iF;AACA,sE;AACA,8C;AACA,oF;AACA,gF;AACA,2C;AACA,uC;AACA,qC;AACA,oC;;AAEA,qC;AACA,qG;AACA,oC;AACA,uD;AACA,oD;;AAEA,oD;AACA,6E;AACA,kF;;AAEA,6D;AACA,0E;AACA,yD;AACA,oC;;AAEA,qC;AACA,+D;AACA,oC;AACA,qD;AACA,wD;AACA,oC;;AAEA,qC;AACA,sE;AACA,oC;AACA,qD;AACA,uD;AACA,oC;;AAEA,qC;AACA,wG;AACA,0G;AACA,oC;AACA,gE;AACA,6D;AACA,mE;AACA,8E;AACA,2D;;AAEA,oD;AACA,qC;AACA,oC;;AAEA,qC;AACA,0D;AACA,oC;AACA,yE;AACA,qD;;AAEA,0D;AACA,gF;;AAEA,oE;AACA,uD;AACA,8E;AACA,6E;AACA,gE;;AAEA,wE;AACA,4F;AACA,yC;;AAEA,uE;AACA,mE;AACA,8C;AACA,iF;AACA,2E;AACA,iE;AACA,+D;AACA,yC;AACA,yC;;AAEA,qE;AACA,6F;AACA,yF;AACA,8C;AACA,uD;AACA,uC;AACA,sC;;AAEA,2E;;AAEA,uC;AACA,2G;AACA,2G;AACA,uF;AACA,sC;AACA,mF;AACA,+E;AACA,wE;AACA,qG;AACA,uC;AACA,qC;AACA,+E;AACA,+E;AACA,iE;AACA,oF;AACA,uC;AACA,qC;AACA,uC;AACA,iE;AACA,sC;AACA,2E;AACA,gE;AACA,kD;AACA,sF;AACA,8C;AACA,kD;AACA,uC;AACA,qC;;AAEA,uC;AACA,gG;AACA,iG;AACA,sC;AACA,yE;AACA,wD;AACA,+D;AACA,wD;AACA,oF;AACA,2F;AACA,qE;AACA,yG;AACA,0E;AACA,uC;AACA,yD;AACA,qC;;AAEA,uC;AACA,qG;AACA,yD;AACA,sC;AACA,kD;AACA,yH;AACA,uC;AACA,oD;;;;;;;;;;;;;;;;;;;ACtfA,G;AACA,sB;AACA,0C;AACA,yE;AACA,G;;AAEA,c;AACA,a;AACA,4B;AACA,kI;AACA,U;AACA,sC;AACA,6C;AACA,U;AACA,yC;AACA,8E;AACA,U;AACA,iC;AACA,2C;AACA,U;AACA,iC;AACA,2C;AACA,U;AACA,2B;AACA,iC;AACA,kC;AACA,oC;AACA,8C;AACA,U;AACA,sB;AACA,wC;AACA,4C;AACA,gD;AACA,wC;AACA,a;AACA,U;AACA,mB;AACA,uB;AACA,oC;AACA,8B;AACA,uB;AACA,8B;AACA,a;AACA,4C;AACA,iE;AACA,iC;AACA,iB;AACA,e;AACA,4B;AACA,U;AACA,mC;AACA,+B;AACA,uB;AACA,8B;AACA,a;AACA,4C;AACA,8D;AACA,iC;AACA,iB;AACA,e;AACA,4B;AACA,U;AACA,wB;AACA,iC;AACA,4B;AACA,+B;AACA,iC;AACA,c;AACA,Y;AACA,8C;AACA,sD;AACA,iC;AACA,mC;AACA,a;AACA,U;AACA,6B;AACA,8B;AACA,U;AACA,mD;AACA,gC;AACA,+B;AACA,qE;AACA,oC;AACA,mC;AACA,qC;AACA,2D;AACA,qB;AACA,kB;AACA,gD;AACA,sC;AACA,kD;AACA,8B;AACA,uD;AACA,iB;AACA,8B;AACA,c;AACA,U;AACA,wC;AACA,gE;AACA,yB;AACA,gC;AACA,sC;AACA,+B;AACA,mD;AACA,c;AACA,+B;AACA,0E;AACA,+B;AACA,iC;AACA,qC;AACA,0C;AACA,mC;AACA,mC;AACA,uD;AACA,sC;AACA,2D;AACA,iB;AACA,8B;AACA,c;AACA,U;AACA,2B;AACA,M;AACA,gB;AACA,2D;AACA,2D;AACA,0D;AACA,4D;AACA,uD;AACA,M;AACA,e;AACA,kB;AACA,iC;AACA,mC;AACA,U;AACA,e;AACA,iC;AACA,qB;AACA,sB;AACA,uC;AACA,6B;AACA,U;AACA,gB;AACA,iC;AACA,iC;AACA,0C;AACA,U;AACA,0B;AACA,iC;AACA,gC;AACA,U;AACA,mB;AACA,iC;AACA,wB;AACA,sB;AACA,0B;AACA,2B;AACA,U;AACA,sB;AACA,4B;AACA,U;AACA,qB;AACA,iC;AACA,6B;AACA,U;AACA,0B;AACA,gC;AACA,U;AACA,c;AACA,sB;AACA,yB;AACA,U;AACA,c;AACA,yB;AACA,uB;AACA,S;AACA,M;AACA,qB;AACA,4B;AACA,kH;AACA,W;AACA,K;AACA,wC;AACA,4B;AACA,6B;AACA,W;AACA,K;AACA,+B;AACA,qC;AACA,8B;AACA,8B;AACA,2D;AACA,a;AACA,+B;AACA,S;AACA,qC;AACA,qC;AACA,uD;AACA,yD;AACA,a;AACA,W;AACA,wB;AACA,Q;AACA,mC;AACA,uD;AACA,gB;AACA,2B;AACA,6B;AACA,qB;AACA,4B;AACA,U;AACA,iD;AACA,qB;AACA,sB;AACA,4B;AACA,a;AACA,0C;AACA,yD;AACA,oD;AACA,0C;AACA,kE;AACA,6B;AACA,6B;AACA,kB;AACA,uD;AACA,a;AACA,wB;AACA,S;AACA,8C;AACA,8D;AACA,S;AACA,6C;AACA,6D;AACA,S;AACA,6B;AACA,qB;AACA,mC;AACA,4B;AACA,a;AACA,0C;AACA,0C;AACA,6C;AACA,a;AACA,wB;AACA,S;AACA,iC;AACA,6D;AACA,mC;AACA,4B;AACA,a;AACA,0C;AACA,+C;AACA,mF;AACA,kF;AACA,oF;AACA,oD;AACA,a;AACA,wB;AACA,S;AACA,qD;AACA,yB;AACA,8B;AACA,8B;AACA,6E;AACA,4E;AACA,iB;AACA,kC;AACA,a;AACA,S;AACA,gC;AACA,2B;AACA,sC;AACA,gE;AACA,6C;AACA,6B;AACA,uB;AACA,kB;AACA,oB;AACA,8D;AACA,2C;AACA,6B;AACA,0B;AACA,kB;AACA,a;AACA,8B;AACA,S;AACA,2C;AACA,4D;AACA,+D;AACA,c;AACA,S;AACA,Q;AACA,mC;AACA,wB;AACA,uB;AACA,0B;AACA,8B;AACA,4B;AACA,6B;AACA,gC;AACA,U;AACA,uC;AACA,sB;AACA,yC;AACA,wC;AACA,uB;AACA,a;AACA,yE;AACA,sE;AACA,iD;AACA,mD;AACA,uC;AACA,wD;AACA,+D;AACA,yE;AACA,kE;AACA,2D;AACA,yE;AACA,+E;AACA,iB;AACA,+B;AACA,a;AACA,uD;AACA,kD;AACA,gE;AACA,iD;AACA,gE;AACA,mE;AACA,4B;AACA,gE;AACA,qB;AACA,iB;AACA,a;AACA,U;AACA,+D;AACA,+C;AACA,uD;AACA,sE;AACA,a;AACA,uH;AACA,oF;AACA,S;AACA,uB;AACA,4B;AACA,8B;AACA,6B;AACA,qB;AACA,sB;AACA,uB;AACA,wB;AACA,wB;AACA,qB;AACA,sB;AACA,U;AACA,2B;AACA,iE;AACA,wB;AACA,2B;AACA,4C;AACA,a;AACA,gD;AACA,kD;AACA,sD;AACA,kD;AACA,mC;AACA,+G;AACA,0C;AACA,gG;AACA,a;AACA,8B;AACA,oD;AACA,oB;AACA,uF;AACA,oE;AACA,+B;AACA,qB;AACA,6D;AACA,mB;AACA,a;AACA,2C;AACA,oE;AACA,S;AACA,8C;AACA,4E;AACA,U;AACA,gD;AACA,wC;AACA,uC;AACA,wC;AACA,c;AACA,0C;AACA,wC;AACA,c;AACA,gD;AACA,wE;AACA,wD;AACA,kE;AACA,wD;AACA,iB;AACA,c;AACA,0C;AACA,wC;AACA,c;AACA,+E;AACA,0D;AACA,kC;AACA,6B;AACA,+C;AACA,sD;AACA,gG;AACA,0B;;AAEA,4B;AACA,8B;AACA,uD;AACA,0B;;AAEA,0B;AACA,2C;AACA,iB;AACA,sD;AACA,c;AACA,iE;AACA,4B;AACA,kC;AACA,6B;AACA,gD;AACA,0B;;AAEA,0B;AACA,mC;AACA,iB;AACA,+B;AACA,c;AACA,0D;AACA,sE;AACA,kD;AACA,6E;AACA,yG;AACA,qC;AACA,0E;AACA,oD;AACA,kE;AACA,iB;AACA,c;AACA,qC;AACA,oC;AACA,c;AACA,mC;AACA,mC;AACA,c;AACA,2C;AACA,kC;AACA,c;AACA,gD;AACA,mC;AACA,c;AACA,qD;AACA,yC;AACA,c;AACA,kE;AACA,uC;AACA,oE;AACA,c;AACA,yD;AACA,qD;AACA,c;AACA,yC;AACA,wC;AACA,c;AACA,8C;AACA,sC;AACA,c;AACA,6C;AACA,iC;AACA,c;AACA,+D;AACA,0D;AACA,2C;AACA,sC;AACA,4E;AACA,iF;AACA,6C;AACA,c;AACA,mE;AACA,6E;AACA,c;AACA,iD;AACA,yD;AACA,gE;AACA,kE;AACA,c;AACA,uC;AACA,uD;AACA,uD;AACA,+D;AACA,iD;AACA,0D;AACA,gD;AACA,6D;AACA,+D;AACA,6D;AACA,iB;AACA,4B;AACA,c;AACA,yC;AACA,sC;AACA,uC;AACA,uE;AACA,a;AACA,W;AACA,qB;AACA,8C;AACA,4D;AACA,qC;AACA,qC;AACA,kC;AACA,sD;AACA,kD;AACA,oD;AACA,wD;AACA,sD;AACA,wD;AACA,4D;AACA,sD;AACA,4D;AACA,2D;AACA,mC;AACA,S;AACA,6C;AACA,uE;AACA,S;AACA,mC;AACA,wE;AACA,S;AACA,Q;AACA,8B;AACA,iF;AACA,6B;AACA,wB;AACA,4C;AACA,4B;AACA,0C;AACA,a;AACA,iD;AACA,2D;AACA,a;AACA,8B;AACA,2C;AACA,kD;AACA,mC;AACA,qE;AACA,uE;AACA,qE;AACA,S;AACA,sE;AACA,0C;AACA,U;AACA,0D;AACA,wC;AACA,U;AACA,0D;AACA,wC;AACA,U;AACA,kD;AACA,0D;AACA,gC;AACA,2B;AACA,iB;AACA,gD;AACA,iC;AACA,mE;AACA,8D;AACA,iK;AACA,4C;AACA,uK;AACA,iB;AACA,yC;AACA,yC;AACA,iD;AACA,qC;AACA,qC;AACA,uB;AACA,iB;AACA,+C;AACA,4C;AACA,4E;AACA,kE;AACA,mE;AACA,iD;AACA,8C;AACA,sC;AACA,uB;AACA,wC;AACA,4D;AACA,gC;AACA,iM;AACA,wD;AACA,6D;AACA,2B;AACA,mC;AACA,qB;AACA,iB;AACA,0C;AACA,kD;AACA,qC;AACA,gD;AACA,uB;AACA,iB;AACA,0C;AACA,kD;AACA,qC;AACA,gD;AACA,uB;AACA,iB;AACA,c;AACA,yC;AACA,gC;AACA,c;AACA,4C;AACA,gC;AACA,mC;AACA,sC;AACA,2C;AACA,8C;AACA,iE;AACA,yD;AACA,qB;AACA,iB;AACA,c;AACA,uC;AACA,qC;AACA,c;AACA,qC;AACA,8B;AACA,iC;AACA,yC;AACA,c;AACA,yC;AACA,6C;AACA,c;AACA,yC;AACA,gC;AACA,a;AACA,W;AACA,uB;AACA,wC;AACA,yC;AACA,+D;AACA,qC;AACA,oC;AACA,a;AACA,S;AACA,qD;AACA,oB;AACA,wE;AACA,2E;AACA,2E;AACA,sE;AACA,c;AACA,kD;AACA,2D;AACA,a;AACA,S;AACA,mC;AACA,gD;AACA,S;AACA,Q;AACA,+B;AACA,8B;AACA,+F;AACA,wB;AACA,0B;AACA,4C;AACA,a;AACA,gC;AACA,gC;AACA,iE;AACA,sE;AACA,gF;AACA,gF;AACA,mN;AACA,qD;AACA,qD;AACA,mE;AACA,e;AACA,S;AACA,mD;AACA,gE;AACA,uE;AACA,c;AACA,0E;AACA,qC;AACA,2D;AACA,c;AACA,wE;AACA,qC;AACA,c;AACA,gD;AACA,sE;AACA,0E;AACA,gD;AACA,kD;AACA,6C;AACA,iB;AACA,c;AACA,+B;AACA,kC;AACA,c;AACA,+B;AACA,mD;AACA,c;AACA,wD;AACA,yD;AACA,c;AACA,8C;AACA,6D;AACA,c;AACA,yD;AACA,kD;AACA,uD;AACA,c;AACA,oD;AACA,2D;AACA,c;AACA,yD;AACA,yE;AACA,mC;AACA,2B;AACA,iB;AACA,+C;AACA,sD;AACA,qC;AACA,4E;AACA,sF;AACA,4C;AACA,kD;AACA,2B;AACA,iD;AACA,6D;AACA,iB;AACA,8E;AACA,gD;AACA,c;AACA,yD;AACA,+D;AACA,2C;AACA,yD;AACA,uD;AACA,8I;AACA,gC;AACA,gE;AACA,mD;AACA,kF;AACA,iB;AACA,c;AACA,qC;AACA,kC;AACA,wC;AACA,yC;AACA,iC;AACA,2C;AACA,iB;AACA,c;AACA,mC;AACA,mC;AACA,uC;AACA,kD;AACA,2C;AACA,iB;AACA,c;AACA,sE;AACA,kE;AACA,c;AACA,mD;AACA,qC;AACA,c;AACA,uD;AACA,qC;AACA,c;AACA,wE;AACA,iC;AACA,iC;AACA,6B;AACA,uD;AACA,yD;AACA,oE;AACA,sB;AACA,iB;AACA,6B;AACA,c;AACA,6D;AACA,6E;AACA,c;AACA,2E;AACA,kF;AACA,c;AACA,4C;AACA,qD;AACA,iD;AACA,0C;AACA,iB;AACA,c;AACA,qC;AACA,oD;AACA,oC;AACA,gD;AACA,oC;AACA,iB;AACA,c;AACA,6C;AACA,oD;AACA,c;AACA,yC;AACA,sC;AACA,kC;AACA,sD;AACA,kD;AACA,sC;AACA,iB;AACA,a;AACA,W;AACA,wB;AACA,8C;AACA,yC;AACA,S;AACA,Q;AACA,gC;AACA,iC;AACA,+B;AACA,qC;AACA,wB;AACA,2B;AACA,yC;AACA,a;AACA,qC;AACA,6C;AACA,uE;AACA,gE;AACA,yD;AACA,kD;AACA,gD;AACA,+C;AACA,gD;AACA,gD;AACA,4C;AACA,yD;AACA,4D;AACA,wC;AACA,kD;AACA,wC;AACA,uC;AACA,uB;AACA,iB;AACA,e;AACA,mD;AACA,oC;AACA,e;AACA,wD;AACA,0B;AACA,e;AACA,0C;AACA,4B;AACA,oC;AACA,0T;AACA,oC;AACA,8B;AACA,2B;AACA,wgB;AACA,yC;AACA,S;AACA,sC;AACA,2E;AACA,0B;AACA,uE;AACA,wC;AACA,iB;AACA,c;AACA,sD;AACA,8D;AACA,4D;AACA,qF;AACA,c;AACA,0D;AACA,6C;AACA,mC;AACA,c;AACA,8D;AACA,mC;AACA,c;AACA,4C;AACA,mC;AACA,gD;AACA,c;AACA,4C;AACA,uC;AACA,gD;AACA,c;AACA,8C;AACA,wC;AACA,qC;AACA,c;AACA,8C;AACA,yC;AACA,sC;AACA,sC;AACA,c;AACA,4D;AACA,oD;AACA,gE;AACA,8E;AACA,kC;AACA,8C;AACA,wC;AACA,mE;AACA,qD;AACA,wC;AACA,iB;AACA,c;AACA,wD;AACA,0B;AACA,gE;AACA,wC;AACA,wC;AACA,wB;AACA,6C;AACA,iB;AACA,c;AACA,gD;AACA,sC;AACA,6C;AACA,c;AACA,8C;AACA,kD;AACA,qI;AACA,qC;AACA,c;AACA,kD;AACA,kD;AACA,uI;AACA,qC;AACA,c;AACA,kD;AACA,2D;AACA,c;AACA,oD;AACA,2D;AACA,c;AACA,gE;AACA,gD;AACA,qG;AACA,qC;AACA,6C;AACA,c;AACA,kE;AACA,mC;AACA,qC;AACA,c;AACA,oE;AACA,wB;AACA,6E;AACA,mC;AACA,qD;AACA,4D;AACA,iB;AACA,c;AACA,gD;AACA,4E;AACA,iE;AACA,sF;AACA,qD;AACA,sD;AACA,6D;AACA,wF;AACA,8D;AACA,wF;AACA,wB;AACA,2C;AACA,iB;AACA,c;AACA,6D;AACA,sD;AACA,4C;AACA,8C;AACA,wE;AACA,8D;AACA,qE;AACA,mE;AACA,yF;AACA,iB;AACA,c;AACA,6C;AACA,iD;AACA,4D;AACA,6C;AACA,gF;AACA,sC;AACA,oE;AACA,c;AACA,mC;AACA,qC;AACA,c;AACA,qC;AACA,sC;AACA,c;AACA,0C;AACA,uC;AACA,kD;AACA,wB;AACA,6C;AACA,wD;AACA,iB;AACA,6C;AACA,c;AACA,uC;AACA,6C;AACA,c;AACA,yC;AACA,qC;AACA,wC;AACA,gD;AACA,kC;AACA,a;AACA,W;AACA,yB;AACA,qD;AACA,mD;AACA,8B;AACA,wD;AACA,2D;AACA,kF;AACA,0H;AACA,oC;AACA,mC;AACA,e;AACA,mC;AACA,wC;AACA,0D;AACA,sD;AACA,2C;AACA,e;AACA,8C;AACA,oC;AACA,iC;AACA,+D;AACA,iB;AACA,kE;AACA,0B;AACA,qG;AACA,S;AACA,2C;AACA,oB;AACA,uE;AACA,2D;AACA,6D;AACA,6D;AACA,+D;AACA,mE;AACA,+D;AACA,0D;AACA,c;AACA,S;AACA,6C;AACA,iD;AACA,8D;AACA,oF;AACA,e;AACA,4F;AACA,2B;AACA,S;AACA,Q;AACA,iB;AACA,uC;AACA,6B;AACA,qC;AACA,mB;AACA,0D;AACA,wF;AACA,4B;AACA,yC;AACA,mC;AACA,8D;AACA,kD;AACA,oD;AACA,uB;AACA,+C;AACA,sC;AACA,2D;AACA,sC;AACA,2B;AACA,0E;AACA,+C;AACA,iD;AACA,0C;AACA,uB;AACA,yD;AACA,iB;AACA,c;AACA,mC;AACA,gD;AACA,0C;AACA,oD;AACA,gE;AACA,yC;AACA,qB;AACA,iB;AACA,c;AACA,qC;AACA,iD;AACA,2C;AACA,oD;AACA,gE;AACA,0C;AACA,qB;AACA,iB;AACA,c;AACA,uC;AACA,oF;AACA,mC;AACA,oD;AACA,gE;AACA,iD;AACA,qB;AACA,iB;AACA,yC;AACA,yC;AACA,gE;AACA,mD;AACA,qB;AACA,iC;AACA,iB;AACA,c;AACA,yC;AACA,2C;AACA,qC;AACA,oD;AACA,gE;AACA,4C;AACA,wD;AACA,qB;AACA,iB;AACA,a;AACA,U;AACA,2C;AACA,kC;AACA,gF;AACA,oB;AACA,iE;AACA,a;AACA,U;AACA,2D;AACA,iC;AACA,wB;AACA,U;AACA,S;AACA,kB;;;;;;;;;;;;;;;;;;ACloCA,iE;AACA,E;;AAEA,uB;;AAEA,2D;;AAEA,6D;AACA,sE;AACA,gE;AACA,sE;AACA,sE;AACA,mE;AACA,sC;;AAEA,gE;AACA,iE;;AAEA,iE;AACA,oE;AACA,uD;AACA,qE;AACA,oE;AACA,mE;AACA,kE;AACA,W;;;AAGA,W;AACA,e;;AAEA,qD;;AAEA,iF;AACA,4B;;AAEA,Q;AACA,4B;;AAEA,qC;;AAEA,kB;AACA,2E;AACA,wD;AACA,gE;AACA,oG;AACA,2E;AACA,6J;AACA,uF;AACA,iE;AACA,uG;AACA,gG;AACA,0G;AACA,+E;;AAEA,Q;;AAEA,6B;AACA,iC;AACA,uB;AACA,yB;AACA,6B;AACA,8B;AACA,wD;AACA,gC;AACA,iC;AACA,gC;AACA,O;AACA,E;;AAEA,a;;AAEA,sB;AACA,2C;AACA,K;;AAEA,uB;AACA,sC;AACA,K;;AAEA,0E;AACA,6F;;AAEA,yB;AACA,8B;AACA,wB;AACA,6B;AACA,6B;AACA,wB;AACA,wB;AACA,8B;AACA,kC;AACA,8B;;AAEA,gC;;AAEA,2C;AACA,uG;AACA,2F;AACA,wD;AACA,S;;AAEA,0G;AACA,kG;AACA,2F;AACA,6F;AACA,iI;AACA,2S;AACA,yG;AACA,mD;AACA,sH;AACA,gB;AACA,0G;;AAEA,2B;;AAEA,2C;AACA,4B;AACA,0F;AACA,wH;AACA,kC;AACA,+B;AACA,2B;AACA,c;AACA,+B;AACA,sF;AACA,8B;AACA,oD;;AAEA,6E;AACA,gD;AACA,uK;AACA,iH;AACA,+C;AACA,0D;AACA,8C;AACA,wC;AACA,yB;AACA,qB;AACA,iC;AACA,iB;AACA,c;;AAEA,mD;AACA,oC;;AAEA,yD;AACA,6E;AACA,sC;AACA,oF;AACA,iH;AACA,+C;AACA,yB;;AAEA,mC;AACA,iE;AACA,qB;AACA,gC;AACA,iB;AACA,6B;AACA,c;;AAEA,8F;;AAEA,oC;AACA,iC;AACA,yD;;AAEA,6D;AACA,wD;AACA,kF;AACA,qB;;AAEA,qD;AACA,6C;AACA,yC;AACA,yB;AACA,0E;AACA,qB;;AAEA,4C;AACA,6D;AACA,oE;AACA,+E;AACA,iF;AACA,mE;AACA,iE;AACA,8D;AACA,kC;AACA,6E;AACA,oE;AACA,sC;AACA,6B;AACA,yB;AACA,qB;;AAEA,6D;AACA,+B;;AAEA,gC;AACA,iI;AACA,+D;AACA,4D;AACA,gC;AACA,mD;AACA,8C;AACA,yB;AACA,sC;AACA,qB;AACA,2C;AACA,iG;AACA,iB;AACA,8D;AACA,c;;AAEA,sH;AACA,qD;AACA,0C;AACA,iB;AACA,oC;AACA,iC;AACA,yE;AACA,+C;AACA,2D;AACA,0G;AACA,wF;AACA,yE;AACA,0C;AACA,iB;AACA,+B;AACA,c;;AAEA,2G;AACA,0F;AACA,+C;AACA,wH;AACA,6D;AACA,iD;AACA,wH;AACA,iB;AACA,0J;AACA,wI;AACA,c;;AAEA,kH;AACA,mG;AACA,8F;AACA,iF;AACA,oG;AACA,kC;AACA,yB;AACA,qH;AACA,qB;AACA,+D;AACA,yH;AACA,0G;AACA,qB;AACA,6H;AACA,6F;AACA,yD;AACA,wD;AACA,4B;AACA,mD;AACA,qB;AACA,iB;AACA,c;;AAEA,gD;AACA,gG;AACA,gD;AACA,2B;AACA,iB;AACA,mD;AACA,qC;AACA,yE;AACA,8B;AACA,qB;AACA,oE;AACA,iB;AACA,kC;AACA,kF;AACA,iB;AACA,c;;AAEA,2F;AACA,oC;AACA,iC;AACA,iC;AACA,kC;AACA,uC;AACA,mC;AACA,wC;AACA,gE;;AAEA,yD;;AAEA,oB;AACA,wD;AACA,mC;AACA,gD;AACA,wE;AACA,yB;AACA,kF;AACA,qB;;AAEA,6D;AACA,+B;;AAEA,0H;AACA,qC;AACA,iC;AACA,qB;;AAEA,mE;AACA,uE;AACA,qC;;AAEA,qB;;AAEA,iE;AACA,sC;AACA,qB;;AAEA,+G;AACA,sD;AACA,4E;AACA,+D;AACA,4D;AACA,gC;AACA,8C;AACA,mD;AACA,yB;AACA,sC;AACA,qB;;AAEA,sE;AACA,8E;AACA,4D;AACA,kF;AACA,qE;AACA,+H;AACA,8D;AACA,6B;AACA,yC;AACA,yB;AACA,qB;;AAEA,gE;AACA,iD;AACA,6C;AACA,qB;;AAEA,+D;AACA,+H;AACA,2E;AACA,yD;AACA,oC;AACA,yD;AACA,6B;AACA,iD;AACA,yB;AACA,qB;;AAEA,2C;AACA,uF;;AAEA,yG;AACA,8F;AACA,qE;AACA,gE;AACA,8B;AACA,qB;;AAEA,0K;AACA,8B;AACA,qB;AACA,6C;;AAEA,oD;AACA,8B;AACA,+B;;AAEA,8G;AACA,0D;AACA,qD;AACA,0D;AACA,2D;AACA,0D;AACA,iB;AACA,oE;AACA,mC;AACA,wB;AACA,iE;AACA,iB;AACA,4F;AACA,2E;AACA,8J;AACA,gC;AACA,iD;AACA,qB;AACA,kG;AACA,gC;AACA,iD;AACA,0D;AACA,mD;AACA,mD;AACA,qB;AACA,oD;AACA,0D;AACA,wD;AACA,0H;AACA,gC;AACA,mD;AACA,iD;AACA,qB;AACA,mD;AACA,0D;AACA,kG;AACA,gC;AACA,mD;AACA,gD;AACA,qB;AACA,mH;AACA,mI;AACA,0C;AACA,qF;AACA,wH;AACA,+E;AACA,qB;AACA,2C;AACA,qG;AACA,qE;AACA,qB;AACA,6C;AACA,+E;AACA,+D;AACA,gC;AACA,iD;AACA,mD;AACA,qB;AACA,mC;AACA,yG;AACA,gG;AACA,8C;AACA,mD;AACA,yD;AACA,8E;AACA,iE;AACA,uD;AACA,yB;AACA,gD;;AAEA,yE;AACA,mD;AACA,qB;AACA,6H;AACA,+D;AACA,iG;AACA,kE;AACA,yB;AACA,qB;AACA,iB;;AAEA,2B;AACA,wC;AACA,gE;AACA,iB;;AAEA,sE;AACA,c;;AAEA,yG;AACA,2E;AACA,iC;AACA,oC;AACA,oC;;AAEA,qC;AACA,yD;AACA,2B;;AAEA,uD;AACA,0C;;AAEA,mF;AACA,0F;AACA,4D;AACA,8B;AACA,qB;;AAEA,4F;AACA,0D;AACA,kG;AACA,qD;AACA,2C;AACA,wG;AACA,8C;AACA,2C;AACA,gG;AACA,6C;AACA,2C;AACA,uF;AACA,8C;AACA,2C;AACA,yB;AACA,qB;;AAEA,6D;AACA,+B;AACA,iB;;AAEA,+B;AACA,c;;AAEA,2H;;AAEA,mF;AACA,8B;AACA,iB;AACA,oC;AACA,iC;AACA,kC;AACA,iC;AACA,oB;;AAEA,wD;AACA,uC;AACA,qB;;AAEA,6D;AACA,+B;;AAEA,iF;AACA,qC;AACA,mD;AACA,qC;AACA,yB;AACA,yE;AACA,4C;AACA,wM;AACA,yD;AACA,gD;AACA,iB;AACA,6E;AACA,kB;AACA,qD;AACA,qC;AACA,yB;AACA,qB;AACA,0C;AACA,2C;AACA,iC;;AAEA,2H;AACA,wF;AACA,8D;AACA,0F;AACA,mD;AACA,qB;AACA,qF;AACA,+B;AACA,c;;AAEA,+E;AACA,0B;;AAEA,wI;AACA,yD;AACA,uD;AACA,oD;AACA,qC;AACA,qB;AACA,iD;AACA,iB;AACA,sD;AACA,+C;AACA,oD;AACA,qC;AACA,4B;AACA,qD;AACA,qB;AACA,iB;;AAEA,kD;AACA,2C;AACA,oD;AACA,qC;AACA,4B;AACA,sE;AACA,sD;AACA,qB;AACA,iB;AACA,c;;AAEA,oD;AACA,uD;AACA,gC;AACA,8B;AACA,iB;;AAEA,iE;AACA,c;;AAEA,oE;AACA,oD;AACA,mE;AACA,iC;AACA,iB;;AAEA,gG;AACA,gC;AACA,iB;;AAEA,+F;AACA,8B;AACA,+D;;AAEA,oF;AACA,qF;;AAEA,0E;AACA,4D;AACA,qD;AACA,oE;AACA,gC;AACA,wB;AACA,iC;AACA,iB;AACA,c;;AAEA,uK;;AAEA,6E;AACA,iC;AACA,yD;AACA,wC;AACA,+C;AACA,+C;AACA,sC;AACA,yD;AACA,yF;;AAEA,4D;AACA,gE;AACA,iB;;AAEA,2D;AACA,6C;AACA,8C;AACA,+B;AACA,qB;AACA,iG;AACA,uC;AACA,qB;AACA,kB;;AAEA,wD;AACA,iE;AACA,qD;AACA,0E;AACA,qB;AACA,kB;;AAEA,mD;AACA,8C;AACA,iG;AACA,gE;AACA,+C;AACA,yB;AACA,qB;AACA,+C;AACA,kB;;AAEA,uD;AACA,8C;AACA,gF;AACA,yF;AACA,gE;AACA,mE;AACA,gC;AACA,mD;AACA,yB;AACA,qB;;AAEA,6D;AACA,+D;AACA,qB;AACA,sC;AACA,kB;;AAEA,0C;AACA,wC;AACA,kB;;AAEA,4C;AACA,gD;AACA,4C;AACA,qB;AACA,kB;AACA,c;AACA,wB;AACA,S;;AAEA,0E;;AAEA,gE;AACA,qI;;AAEA,sB;AACA,6C;AACA,2C;AACA,2C;;AAEA,uD;AACA,sB;AACA,a;;AAEA,8C;AACA,oC;AACA,2E;AACA,sE;AACA,sD;AACA,8C;AACA,4D;AACA,qB;AACA,0D;AACA,0B;AACA,oC;AACA,qC;AACA,2E;AACA,sE;AACA,0D;AACA,0B;AACA,kC;AACA,iF;AACA,oG;AACA,+E;AACA,kE;AACA,yD;AACA,4I;AACA,yB;AACA,sE;AACA,6E;AACA,mF;AACA,yB;AACA,qB;AACA,sE;AACA,0D;AACA,0B;AACA,qC;AACA,0F;AACA,oF;AACA,gG;AACA,+E;AACA,qB;AACA,sE;AACA,0D;AACA,0B;AACA,8C;AACA,sE;AACA,sD;AACA,8C;AACA,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pB,EAAwB,GAAG,CAAC,OAA5B,CAAP,CADF;OAAA;aAEA,MAAM,CAAC,EAAP,CAAU,WAAV,EAHQ;IAAA,CAAV,EAFa;EAAA,CA7Gf;CAFF,CAjJA;;;;;;;;;;;;;;;;;;;ACJA,kC;AACA,wE;AACA,kB;AACA,mB;AACA,sB;AACA,wB;AACA,yB;AACA,wB;AACA,2B;AACA,kB;AACA,6B;AACA,uC;AACA,yI;AACA,wD;AACA,qD;AACA,I;;AAEA,sC;AACA,gF;AACA,kB;AACA,gC;AACA,gD;AACA,iB;AACA,qC;AACA,qB;AACA,6B;AACA,oB;AACA,0C;AACA,0D;AACA,mB;AACA,yC;AACA,2B;AACA,mC;AACA,0B;AACA,wE;AACA,U;AACA,4B;AACA,uC;AACA,yB;AACA,kE;AACA,U;AACA,gB;AACA,iC;AACA,6D;AACA,gC;AACA,2B;AACA,oC;AACA,8D;AACA,uB;AACA,4B;AACA,uB;AACA,6B;AACA,W;AACA,O;AACA,yD;AACA,wB;AACA,sE;AACA,O;AACA,8C;AACA,sD;AACA,oD;AACA,0B;AACA,wE;AACA,2D;AACA,gE;AACA,2F;AACA,yH;AACA,4B;AACA,6E;AACA,2E;AACA,4E;AACA,iB;AACA,4D;AACA,K;AACA,I;;AAEA,iC;AACA,sE;AACA,kB;AACA,8B;AACA,+C;AACA,iB;AACA,iC;AACA,0B;AACA,6C;AACA,sB;AACA,c;AACA,mE;AACA,oF;AACA,6B;AACA,K;AACA,I;;;;;;;;;;;;;;;;;;;;AC3FA,iC;AACA,sE;AACA,kB;AACA,mB;AACA,sB;AACA,0B;AACA,oC;AACA,kF;AACA,iB;AACA,qG;AACA,0B;AACA,wB;AACA,2B;AACA,kB;AACA,6B;AACA,2D;AACA,4H;AACA,I;;AAEA,qC;AACA,8E;AACA,kB;AACA,yB;AACA,mB;AACA,wC;AACA,0D;AACA,iB;AACA,kC;AACA,qC;AACA,4D;AACA,sD;AACA,2C;AACA,sC;AACA,0C;AACA,oD;AACA,mB;AACA,mD;AACA,kB;AACA,uB;AACA,iD;AACA,qE;AACA,2D;AACA,gE;AAC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","file":"/packages/ryw_blog.js","sourcesContent":["################################################################################\n# Client-side Config\n#\n\n\nBlog =\n  settings:\n    title: ''\n    blogIndexTemplate: null\n    blogShowTemplate: null\n    blogNotFoundTemplate: null\n    blogAdminTemplate: null\n    blogAdminEditTemplate: null\n    pageSize: 20\n    publicDrafts: true\n    excerptFunction: null\n    syntaxHighlighting: false\n    syntaxHighlightingTheme: 'github'\n    cdnFontAwesome: true\n    comments:\n      allowAnonymous: false\n      useSideComments: false\n      defaultImg: '/packages/blog/public/default-user.png'\n      userImg: 'avatar'\n      disqusShortname: null\n\n  config: (appConfig) ->\n    # No deep extend in underscore :-(\n    if appConfig.comments\n      @settings.comments = _.extend(@settings.comments, appConfig.comments)\n      delete appConfig.comments\n    @settings = _.extend(@settings, appConfig)\n\n    if @settings.syntaxHighlightingTheme\n      $('<link>',\n        href: '//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/styles/' + @settings.syntaxHighlightingTheme + '.min.css'\n        rel: 'stylesheet'\n      ).appendTo 'head'\n\n\n@Blog = Blog\n\n\n################################################################################\n# Bootstrap Code\n#\n\n\nMeteor.startup ->\n  if Blog.settings.cdnFontAwesome\n    # Load Font Awesome\n    $('<link>',\n      href: '//netdna.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.css'\n      rel: 'stylesheet'\n    ).appendTo 'head'\n\n  # Listen for any 'Load More' clicks\n  $('body').on 'click', '.blog-load-more', (e) ->\n    e.preventDefault()\n    if Session.get 'postLimit'\n      Session.set 'postLimit', Session.get('postLimit') + Blog.settings.pageSize\n\n  # Notifications package\n  _.extend Notifications.defaultOptions,\n    timeout: 5000\n\n################################################################################\n# Register Global Helpers\n#\n\nUI.registerHelper \"blogFormatDate\", (date) ->\n  moment(new Date(date)).format \"MMM Do, YYYY\"\n\nUI.registerHelper \"blogFormatTags\", (tags) ->\n  return if !tags?\n\n  for tag in tags\n    path = Router.path 'blogTagged', tag: tag\n    if str?\n      str += \", <a href=\\\"#{path}\\\">#{tag}</a>\"\n    else\n      str = \"<a href=\\\"#{path}\\\">#{tag}</a>\"\n  return new Spacebars.SafeString str\n\nUI.registerHelper \"joinTags\", (list) ->\n  if list\n    list.join ', '\n\nUI.registerHelper \"blogPager\", ->\n  if Post.count() is Session.get 'postLimit'\n    return new Spacebars.SafeString '<a class=\"blog-load-more btn\" href=\"#\">Load More</a>'\n\nUI.registerHelper \"session\", (key) ->\n  return Session.get key\n","/**\n * Require the given path.\n *\n * @param {String} path\n * @return {Object} exports\n * @api public\n */\n\n/*\n * Wrapped to work with Meteor\n*/\n\nfunction requireClass(path, parent, orig) {\n  var resolved = require.resolve(path);\n\n  // lookup failed\n  if (null == resolved) {\n    orig = orig || path;\n    parent = parent || 'root';\n    var err = new Error('Failed to require \"' + orig + '\" from \"' + parent + '\"');\n    err.path = orig;\n    err.parent = parent;\n    err.require = true;\n    throw err;\n  }\n\n  var module = require.modules[resolved];\n\n  // perform real require()\n  // by invoking the module's\n  // registered function\n  if (!module._resolving && !module.exports) {\n    var mod = {};\n    mod.exports = {};\n    mod.client = mod.component = true;\n    module._resolving = true;\n    module.call(this, mod.exports, require.relative(resolved), mod);\n    delete module._resolving;\n    module.exports = mod.exports;\n  }\n\n  return module.exports;\n}\n\nwindow.require = requireClass\n\n/**\n * Registered modules.\n */\n\nrequire.modules = {};\n\n/**\n * Registered aliases.\n */\n\nrequire.aliases = {};\n\n/**\n * Resolve `path`.\n *\n * Lookup:\n *\n *   - PATH/index.js\n *   - PATH.js\n *   - PATH\n *\n * @param {String} path\n * @return {String} path or null\n * @api private\n */\n\nrequire.resolve = function(path) {\n  if (path.charAt(0) === '/') path = path.slice(1);\n\n  var paths = [\n    path,\n    path + '.js',\n    path + '.json',\n    path + '/index.js',\n    path + '/index.json'\n  ];\n\n  for (var i = 0; i < paths.length; i++) {\n    var path = paths[i];\n    if (require.modules.hasOwnProperty(path)) return path;\n    if (require.aliases.hasOwnProperty(path)) return require.aliases[path];\n  }\n};\n\n/**\n * Normalize `path` relative to the current path.\n *\n * @param {String} curr\n * @param {String} path\n * @return {String}\n * @api private\n */\n\nrequire.normalize = function(curr, path) {\n  var segs = [];\n\n  if ('.' != path.charAt(0)) return path;\n\n  curr = curr.split('/');\n  path = path.split('/');\n\n  for (var i = 0; i < path.length; ++i) {\n    if ('..' == path[i]) {\n      curr.pop();\n    } else if ('.' != path[i] && '' != path[i]) {\n      segs.push(path[i]);\n    }\n  }\n\n  return curr.concat(segs).join('/');\n};\n\n/**\n * Register module at `path` with callback `definition`.\n *\n * @param {String} path\n * @param {Function} definition\n * @api private\n */\n\nrequire.register = function(path, definition) {\n  require.modules[path] = definition;\n};\n\n/**\n * Alias a module definition.\n *\n * @param {String} from\n * @param {String} to\n * @api private\n */\n\nrequire.alias = function(from, to) {\n  if (!require.modules.hasOwnProperty(from)) {\n    throw new Error('Failed to alias \"' + from + '\", it does not exist');\n  }\n  require.aliases[to] = from;\n};\n\n/**\n * Return a require function relative to the `parent` path.\n *\n * @param {String} parent\n * @return {Function}\n * @api private\n */\n\nrequire.relative = function(parent) {\n  var p = require.normalize(parent, '..');\n\n  /**\n   * lastIndexOf helper.\n   */\n\n  function lastIndexOf(arr, obj) {\n    var i = arr.length;\n    while (i--) {\n      if (arr[i] === obj) return i;\n    }\n    return -1;\n  }\n\n  /**\n   * The relative require() itself.\n   */\n\n  function localRequire(path) {\n    var resolved = localRequire.resolve(path);\n    return require(resolved, parent, path);\n  }\n\n  /**\n   * Resolve relative to the parent.\n   */\n\n  localRequire.resolve = function(path) {\n    var c = path.charAt(0);\n    if ('/' == c) return path.slice(1);\n    if ('.' == c) return require.normalize(p, path);\n\n    // resolve deps by returning\n    // the dep in the nearest \"deps\"\n    // directory\n    var segs = parent.split('/');\n    var i = lastIndexOf(segs, 'deps') + 1;\n    if (!i) i = 0;\n    path = segs.slice(0, i + 1).join('/') + '/deps/' + path;\n    return path;\n  };\n\n  /**\n   * Check if module is defined at `path`.\n   */\n\n  localRequire.exists = function(path) {\n    return require.modules.hasOwnProperty(localRequire.resolve(path));\n  };\n\n  return localRequire;\n};\nrequire.register(\"component-emitter/index.js\", function(exports, require, module){\n\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks[event] = this._callbacks[event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  var self = this;\n  this._callbacks = this._callbacks || {};\n\n  function on() {\n    self.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks[event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks[event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks[event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks[event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n\n});\nrequire.register(\"side-comments/js/main.js\", function(exports, require, module){\nvar _ = require('./vendor/lodash-custom.js');\nvar Section = require('./section.js');\nvar Emitter = require('emitter');\nvar eventPipe = new Emitter;\n\n/**\n * Creates a new SideComments instance.\n * @param {Object} el               The selector for the element for\n *                                  which side comments need to be initialized\n * @param {Object} currentUser      An object defining the current user. Used\n *                                  for posting new comments and deciding\n *                                  whether existing ones can be deleted\n *                                  or not.\n * @param {Array} existingComments An array of existing comments, in\n *                                 the proper structure.\n *\n * TODO: **GIVE EXAMPLE OF STRUCTURE HERE***\n */\nfunction SideComments( el, currentUser, existingComments ) {\n  this.$el = $(el);\n  this.$body = $('body');\n  this.eventPipe = eventPipe;\n\n  this.currentUser = _.clone(currentUser) || null;\n  this.existingComments = _.cloneDeep(existingComments) || [];\n  this.sections = [];\n  this.activeSection = null;\n\n  // Event bindings\n  this.eventPipe.on('showComments', _.bind(this.showComments, this));\n  this.eventPipe.on('hideComments', _.bind(this.hideComments, this));\n  this.eventPipe.on('sectionSelected', _.bind(this.sectionSelected, this));\n  this.eventPipe.on('sectionDeselected', _.bind(this.sectionDeselected, this));\n  this.eventPipe.on('commentPosted', _.bind(this.commentPosted, this));\n  this.eventPipe.on('commentDeleted', _.bind(this.commentDeleted, this));\n  this.eventPipe.on('addCommentAttempted', _.bind(this.addCommentAttempted, this));\n  this.$body.on('click', _.bind(this.bodyClick, this));\n\n  this.initialize(this.existingComments);\n}\n\n// Mix in Emitter\nEmitter(SideComments.prototype);\n\n/**\n * Adds the comments beside each commentable section.\n */\nSideComments.prototype.initialize = function( existingComments ) {\n  _.each(this.$el.find('.commentable-section'), function( section ){\n    var $section = $(section);\n    var sectionId = $section.data('section-id').toString();\n    var sectionComments = _.find(this.existingComments, { sectionId: sectionId });\n\n    this.sections.push(new Section(this.eventPipe, $section, this.currentUser, sectionComments));\n  }, this);\n};\n\n/**\n * Shows the side comments.\n */\nSideComments.prototype.showComments = function() {\n  this.$el.addClass('side-comments-open');\n};\n\n/**\n * Hide the comments.\n */\nSideComments.prototype.hideComments = function() {\n  if (this.activeSection) {\n    this.activeSection.deselect();\n    this.activeSection = null;\n  }\n\n  this.$el.removeClass('side-comments-open');\n};\n\n/**\n * Callback after a section has been selected.\n * @param  {Object} section The Section object to be selected.\n */\nSideComments.prototype.sectionSelected = function( section ) {\n  this.showComments();\n\n  if (this.activeSection) {\n    this.activeSection.deselect();\n  }\n\n  this.activeSection = section;\n};\n\n/**\n * Callback after a section has been deselected.\n * @param  {Object} section The Section object to be selected.\n */\nSideComments.prototype.sectionDeselected = function( section ) {\n  this.hideComments();\n  this.activeSection = null;\n};\n\n/**\n * Fired when the commentPosted event is triggered.\n * @param  {Object} comment  The comment object to be posted.\n */\nSideComments.prototype.commentPosted = function( comment ) {\n  this.emit('commentPosted', comment);\n};\n\n/**\n * Fired when the commentDeleted event is triggered.\n * @param  {Object} comment  The commentId of the deleted comment.\n */\nSideComments.prototype.commentDeleted = function( comment ) {\n  this.emit('commentDeleted', comment);\n};\n\n/**\n * Fire an event to to signal that a comment as attempted to be added without\n * a currentUser.\n */\nSideComments.prototype.addCommentAttempted = function() {\n  this.emit('addCommentAttempted');\n};\n\n/**\n * Inserts the given comment into the right section.\n * @param  {Object} comment A comment to be inserted.\n */\nSideComments.prototype.insertComment = function( comment ) {\n  var section = _.find(this.sections, { id: comment.sectionId });\n  section.insertComment(comment);\n};\n\n/**\n * Removes the given comment from the right section.\n * @param sectionId The ID of the section where the comment exists.\n * @param commentId The ID of the comment to be removed.\n */\nSideComments.prototype.removeComment = function( sectionId, commentId ) {\n  var section = _.find(this.sections, { id: sectionId });\n  section.removeComment(commentId);\n};\n\n/**\n * Delete the comment specified by the given sectionID and commentID.\n * @param sectionId The section the comment belongs to.\n * @param commentId The comment's ID\n */\nSideComments.prototype.deleteComment = function( sectionId, commentId ) {\n  var section = _.find(this.sections, { id: sectionId });\n  section.deleteComment(commentId);\n};\n\n/**\n * Checks if comments are visible or not.\n * @return {Boolean} Whether or not the comments are visible.\n */\nSideComments.prototype.commentsAreVisible = function() {\n  return this.$el.hasClass('side-comments-open');\n};\n\n/**\n * Callback for body clicks. We hide the comments if someone clicks outside of the comments section.\n * @param  {Object} event The event object.\n */\nSideComments.prototype.bodyClick = function( event ) {\n  var $target = $(event.target);\n\n  // We do a check on $('body') existing here because if the $target has\n  // no parent body then it's because it belongs to a deleted comment and\n  // we should NOT hide the SideComments.\n  if ($target.closest('.side-comment').length < 1 && $target.closest('body').length > 0) {\n    if (this.activeSection) {\n      this.activeSection.deselect();\n    }\n    this.hideComments();\n  }\n};\n\n/**\n * Set the currentUser and update the UI as necessary.\n * @param {Object} currentUser The currentUser to be used.\n */\nSideComments.prototype.setCurrentUser = function( currentUser ) {\n  this.hideComments();\n  this.currentUser = currentUser;\n  _.each(this.sections, function( section ) {\n    section.currentUser = this.currentUser;\n    section.render();\n  });\n};\n\n/**\n * Remove the currentUser and update the UI as necessary.\n */\nSideComments.prototype.removeCurrentUser = function() {\n  this.hideComments();\n  this.currentUser = null;\n  _.each(this.sections, function( section ) {\n    section.currentUser = null;\n    section.render();\n  });\n};\n\n/**\n * Destroys the instance of SideComments, including unbinding from DOM events.\n */\nSideComments.prototype.destroy = function() {\n  this.hideComments();\n  this.$el.off();\n};\n\nmodule.exports = SideComments;\n});\nrequire.register(\"side-comments/js/section.js\", function(exports, require, module){\nvar _ = require('./vendor/lodash-custom.js');\nvar Template = require('../templates/section.html');\nvar CommentTemplate = require('../templates/comment.html');\n\n/**\n * Creates a new Section object, which is responsible for managing a\n * single comment section.\n * @param {Object} eventPipe The Emitter object used for passing around events.\n * @param {Array} comments   The array of comments for this section. Optional.\n */\nfunction Section( eventPipe, $el, currentUser, comments ) {\n\tthis.eventPipe = eventPipe;\n\tthis.$el = $el;\n\tthis.comments = comments ? comments.comments : [];\n\tthis.currentUser = currentUser || null;\n\n\tthis.id = $el.data('section-id');\n\n\tthis.$el.on('click', '.side-comment .marker', _.bind(this.markerClick, this));\n\tthis.$el.on('click', '.side-comment .add-comment', _.bind(this.addCommentClick, this));\n\tthis.$el.on('click', '.side-comment .post', _.bind(this.postCommentClick, this));\n\tthis.$el.on('click', '.side-comment .cancel', _.bind(this.cancelCommentClick, this));\n\tthis.$el.on('click', '.side-comment .delete', _.bind(this.deleteCommentClick, this));\n\n\tthis.render();\n}\n\n/**\n * Click callback event on markers.\n * @param  {Object} event The event object.\n */\nSection.prototype.markerClick = function( event ) {\n\tevent.preventDefault();\n\n\tif (this.isSelected()) {\n\t\tthis.deselect();\n\t\tthis.eventPipe.emit('sectionDeselected', this);\n\t} else {\n\t\tthis.select();\n\t\tthis.eventPipe.emit('sectionSelected', this);\n\t}\n}\n\n/**\n * Callback for the comment button click event.\n * @param {Object} event The event object.\n */\nSection.prototype.addCommentClick = function( event ) {\n  event.preventDefault();\n  if (this.currentUser) {\n  \tthis.showCommentForm();\n  } else {\n  \tthis.eventPipe.emit('addCommentAttempted');\n  }\n};\n\n/**\n * Show the comment form for this section.\n */\nSection.prototype.showCommentForm = function() {\n  if (this.comments.length > 0) {\n    this.$el.find('.add-comment').addClass('hide');\n    this.$el.find('.comment-form').addClass('active');\n  }\n\n  this.focusCommentBox();\n};\n\n/**\n * Hides the comment form for this section.\n */\nSection.prototype.hideCommentForm = function() {\n  if (this.comments.length > 0) {\n    this.$el.find('.add-comment').removeClass('hide');\n    this.$el.find('.comment-form').removeClass('active');\n  }\n\n  this.$el.find('.comment-box').empty();\n};\n\n/**\n * Focus on the comment box in the comment form.\n */\nSection.prototype.focusCommentBox = function() {\n\tthis.$el.find('.comment-box').get(0).focus();\n};\n\n/**\n * Cancel comment callback.\n * @param  {Object} event The event object.\n */\nSection.prototype.cancelCommentClick = function( event ) {\n  event.preventDefault();\n  this.cancelComment();\n};\n\n/**\n * Cancel adding of a comment.\n */\nSection.prototype.cancelComment = function() {\n  if (this.comments.length > 0) {\n    this.hideCommentForm();\n  } else {\n  \tthis.deselect();\n    this.eventPipe.emit('hideComments');\n  }\n};\n\n/**\n * Post comment callback.\n * @param  {Object} event The event object.\n */\nSection.prototype.postCommentClick = function( event ) {\n  event.preventDefault();\n  this.postComment();\n};\n\n/**\n * Post a comment to this section.\n */\nSection.prototype.postComment = function() {\n\tthis.$el.find(\".comment-box\").children().not(\"br\").each(function() {\n\t\t$(this).replaceWith(this.innerHTML);\n\t});\n  var commentBody = this.$el.find('.comment-box').html();\n  var comment = {\n  \tsectionId: this.id,\n  \tcomment: commentBody,\n  \tauthorAvatarUrl: this.currentUser.avatarUrl,\n  \tauthorName: this.currentUser.name,\n  \tauthorId: this.currentUser.id\n  };\n  this.eventPipe.emit('commentPosted', comment);\n};\n\n/**\n * Insert a comment into this sections comment list.\n * @param  {Object} comment A comment object.\n */\nSection.prototype.insertComment = function( comment ) {\n\tthis.comments.push(comment);\n\tvar newCommentHtml = _.template(CommentTemplate, {\n\t\tcomment: comment,\n\t\tcurrentUser: this.currentUser\n\t});\n\tthis.$el.find('.comments').append(newCommentHtml);\n\tthis.$el.find('.side-comment').addClass('has-comments');\n\tthis.updateCommentCount();\n\tthis.hideCommentForm();\n};\n\n/**\n * Increments the comment count for a given section.\n */\nSection.prototype.updateCommentCount = function() {\n\tthis.$el.find('.marker span').text(this.comments.length);\n};\n\n/**\n * Event handler for delete comment clicks.\n * @param  {Object} event The event object.\n */\nSection.prototype.deleteCommentClick = function( event ) {\n\tevent.preventDefault();\n\tvar commentId = $(event.target).closest('li').data('comment-id');\n\n\tif (window.confirm(\"Are you sure you want to delete this comment?\")) {\n\t\tthis.deleteComment(commentId);\n\t}\n};\n\n/**\n * Finds the comment and emits an event with the comment to be deleted.\n */\nSection.prototype.deleteComment = function( commentId ) {\n\tvar comment = _.find(this.comments, { id: commentId });\n\tcomment.sectionId = this.id;\n\tthis.eventPipe.emit('commentDeleted', comment);\n};\n\n/**\n * Removes the comment from the list of comments and the comment array.\n * @param commentId The ID of the comment to be removed from this section.\n */\nSection.prototype.removeComment = function( commentId ) {\n\tthis.comments = _.reject(this.comments, { id: commentId });\n\tthis.$el.find('.side-comment .comments li[data-comment-id=\"'+commentId+'\"]').remove();\n\tthis.updateCommentCount();\n\tif (this.comments.length < 1) {\n\t\tthis.$el.find('.side-comment').removeClass('has-comments');\n\t}\n};\n\n/**\n * Mark this section as selected.\n */\nSection.prototype.select = function() {\n\tthis.$el.find('.side-comment').addClass('active');\n\n\tif (this.comments.length === 0 && this.currentUser) {\n\t  this.focusCommentBox();\n\t}\n};\n\n/**\n * Deselect this section.\n */\nSection.prototype.deselect = function() {\n\tthis.$el.find('.side-comment').removeClass('active');\n\tthis.hideCommentForm();\n};\n\nSection.prototype.isSelected = function() {\n\treturn this.$el.find('.side-comment').hasClass('active');\n};\n\n/**\n * Get the class to be used on the side comment section wrapper.\n * @return {String} The class names to use.\n */\nSection.prototype.sectionClasses = function() {\n\tvar classes = '';\n\n\tif (this.comments.length > 0) {\n\t\tclasses = classes + ' has-comments';\n\t}\n\tif (!this.currentUser) {\n\t\tclasses = classes + ' no-current-user'\n\t}\n\n\treturn classes;\n};\n\n/**\n * Render this section into the DOM.\n */\nSection.prototype.render = function() {\n\tthis.$el.find('.side-comment').remove();\n\t$(_.template(Template, {\n\t  commentTemplate: CommentTemplate,\n\t  comments: this.comments,\n\t  sectionClasses: this.sectionClasses(),\n\t  currentUser: this.currentUser\n\t})).appendTo(this.$el);\n};\n\n/**\n * Desttroy this Section object. Generally meaning unbind events.\n */\nSection.prototype.destroy = function() {\n\tthis.$el.off();\n}\n\nmodule.exports = Section;\n});\nrequire.register(\"side-comments/js/vendor/lodash-custom.js\", function(exports, require, module){\n/**\n * @license\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash exports=\"node,commonjs\" include=\"each,bind,find,template,reject,clone,cloneDeep\"`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre ES5 environments */\n  var undefined;\n\n  /** Used to pool arrays and objects used internally */\n  var arrayPool = [];\n\n  /** Used internally to indicate various things */\n  var indicatorObject = {};\n\n  /** Used as the max size of the `arrayPool` and `objectPool` */\n  var maxPoolSize = 40;\n\n  /** Used to match empty string literals in compiled template source */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /**\n   * Used to match ES6 template delimiters\n   * http://people.mozilla.org/~jorendorff/es6-draft.html#sec-literals-string-literals\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match regexp flags from their coerced string values */\n  var reFlags = /\\w*$/;\n\n  /** Used to detected named functions */\n  var reFuncName = /^\\s*function[ \\n\\r\\t]+\\w/;\n\n  /** Used to match \"interpolate\" template delimiters */\n  var reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to ensure capturing order of template delimiters */\n  var reNoMatch = /($^)/;\n\n  /** Used to detect functions containing a `this` reference */\n  var reThis = /\\bthis\\b/;\n\n  /** Used to match unescaped characters in compiled string literals */\n  var reUnescapedString = /['\\n\\r\\t\\u2028\\u2029\\\\]/g;\n\n  /** Used to fix the JScript [[DontEnum]] bug */\n  var shadowedProps = [\n    'constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable',\n    'toLocaleString', 'toString', 'valueOf'\n  ];\n\n  /** Used to make template sourceURLs easier to identify */\n  var templateCounter = 0;\n\n  /** `Object#toString` result shortcuts */\n  var argsClass = '[object Arguments]',\n      arrayClass = '[object Array]',\n      boolClass = '[object Boolean]',\n      dateClass = '[object Date]',\n      errorClass = '[object Error]',\n      funcClass = '[object Function]',\n      numberClass = '[object Number]',\n      objectClass = '[object Object]',\n      regexpClass = '[object RegExp]',\n      stringClass = '[object String]';\n\n  /** Used to identify object classifications that `_.clone` supports */\n  var cloneableClasses = {};\n  cloneableClasses[funcClass] = false;\n  cloneableClasses[argsClass] = cloneableClasses[arrayClass] =\n  cloneableClasses[boolClass] = cloneableClasses[dateClass] =\n  cloneableClasses[numberClass] = cloneableClasses[objectClass] =\n  cloneableClasses[regexpClass] = cloneableClasses[stringClass] = true;\n\n  /** Used as the property descriptor for `__bindData__` */\n  var descriptor = {\n    'configurable': false,\n    'enumerable': false,\n    'value': null,\n    'writable': false\n  };\n\n  /** Used as the data object for `iteratorTemplate` */\n  var iteratorData = {\n    'args': '',\n    'array': null,\n    'bottom': '',\n    'firstArg': '',\n    'init': '',\n    'keys': null,\n    'loop': '',\n    'shadowedProps': null,\n    'support': null,\n    'top': '',\n    'useHas': false\n  };\n\n  /** Used to determine if values are of the language type Object */\n  var objectTypes = {\n    'boolean': false,\n    'function': true,\n    'object': true,\n    'number': false,\n    'string': false,\n    'undefined': false\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\t': 't',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Used as a reference to the global object */\n  var root = (objectTypes[typeof window] && window) || this;\n\n  /** Detect free variable `exports` */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module` */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports` */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root` */\n  var freeGlobal = objectTypes[typeof global] && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Used by `template` to escape characters for inclusion in compiled\n   * string literals.\n   *\n   * @private\n   * @param {string} match The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(match) {\n    return '\\\\' + stringEscapes[match];\n  }\n\n  /**\n   * Gets an array from the array pool or creates a new one if the pool is empty.\n   *\n   * @private\n   * @returns {Array} The array from the pool.\n   */\n  function getArray() {\n    return arrayPool.pop() || [];\n  }\n\n  /**\n   * Checks if `value` is a DOM node in IE < 9.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a DOM node, else `false`.\n   */\n  function isNode(value) {\n    // IE < 9 presents DOM nodes as `Object` objects except they have `toString`\n    // methods that are `typeof` \"string\" and still can coerce nodes to strings\n    return typeof value.toString != 'function' && typeof (value + '') == 'string';\n  }\n\n  /**\n   * Releases the given array back to the array pool.\n   *\n   * @private\n   * @param {Array} [array] The array to release.\n   */\n  function releaseArray(array) {\n    array.length = 0;\n    if (arrayPool.length < maxPoolSize) {\n      arrayPool.push(array);\n    }\n  }\n\n  /**\n   * Slices the `collection` from the `start` index up to, but not including,\n   * the `end` index.\n   *\n   * Note: This function is used instead of `Array#slice` to support node lists\n   * in IE < 9 and to ensure dense arrays are returned.\n   *\n   * @private\n   * @param {Array|Object|string} collection The collection to slice.\n   * @param {number} start The start index.\n   * @param {number} end The end index.\n   * @returns {Array} Returns the new array.\n   */\n  function slice(array, start, end) {\n    start || (start = 0);\n    if (typeof end == 'undefined') {\n      end = array ? array.length : 0;\n    }\n    var index = -1,\n        length = end - start || 0,\n        result = Array(length < 0 ? 0 : length);\n\n    while (++index < length) {\n      result[index] = array[start + index];\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Used for `Array` method references.\n   *\n   * Normally `Array.prototype` would suffice, however, using an array literal\n   * avoids issues in Narwhal.\n   */\n  var arrayRef = [];\n\n  /** Used for native method references */\n  var errorProto = Error.prototype,\n      objectProto = Object.prototype,\n      stringProto = String.prototype;\n\n  /** Used to resolve the internal [[Class]] of values */\n  var toString = objectProto.toString;\n\n  /** Used to detect if a method is native */\n  var reNative = RegExp('^' +\n    String(toString)\n      .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n      .replace(/toString| for [^\\]]+/g, '.*?') + '$'\n  );\n\n  /** Native method shortcuts */\n  var fnToString = Function.prototype.toString,\n      hasOwnProperty = objectProto.hasOwnProperty,\n      push = arrayRef.push,\n      propertyIsEnumerable = objectProto.propertyIsEnumerable,\n      unshift = arrayRef.unshift;\n\n  /** Used to set meta data on functions */\n  var defineProperty = (function() {\n    // IE 8 only accepts DOM elements\n    try {\n      var o = {},\n          func = isNative(func = Object.defineProperty) && func,\n          result = func(o, o, o) && func;\n    } catch(e) { }\n    return result;\n  }());\n\n  /* Native method shortcuts for methods with the same name as other `lodash` methods */\n  var nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate,\n      nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray,\n      nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys;\n\n  /** Used to lookup a built-in constructor by [[Class]] */\n  var ctorByClass = {};\n  ctorByClass[arrayClass] = Array;\n  ctorByClass[boolClass] = Boolean;\n  ctorByClass[dateClass] = Date;\n  ctorByClass[funcClass] = Function;\n  ctorByClass[objectClass] = Object;\n  ctorByClass[numberClass] = Number;\n  ctorByClass[regexpClass] = RegExp;\n  ctorByClass[stringClass] = String;\n\n  /** Used to avoid iterating non-enumerable properties in IE < 9 */\n  var nonEnumProps = {};\n  nonEnumProps[arrayClass] = nonEnumProps[dateClass] = nonEnumProps[numberClass] = { 'constructor': true, 'toLocaleString': true, 'toString': true, 'valueOf': true };\n  nonEnumProps[boolClass] = nonEnumProps[stringClass] = { 'constructor': true, 'toString': true, 'valueOf': true };\n  nonEnumProps[errorClass] = nonEnumProps[funcClass] = nonEnumProps[regexpClass] = { 'constructor': true, 'toString': true };\n  nonEnumProps[objectClass] = { 'constructor': true };\n\n  (function() {\n    var length = shadowedProps.length;\n    while (length--) {\n      var key = shadowedProps[length];\n      for (var className in nonEnumProps) {\n        if (hasOwnProperty.call(nonEnumProps, className) && !hasOwnProperty.call(nonEnumProps[className], key)) {\n          nonEnumProps[className][key] = false;\n        }\n      }\n    }\n  }());\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a `lodash` object which wraps the given value to enable intuitive\n   * method chaining.\n   *\n   * In addition to Lo-Dash methods, wrappers also have the following `Array` methods:\n   * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`, `splice`,\n   * and `unshift`\n   *\n   * Chaining is supported in custom builds as long as the `value` method is\n   * implicitly or explicitly included in the build.\n   *\n   * The chainable wrapper functions are:\n   * `after`, `assign`, `bind`, `bindAll`, `bindKey`, `chain`, `compact`,\n   * `compose`, `concat`, `countBy`, `create`, `createCallback`, `curry`,\n   * `debounce`, `defaults`, `defer`, `delay`, `difference`, `filter`, `flatten`,\n   * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,\n   * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,\n   * `invoke`, `keys`, `map`, `max`, `memoize`, `merge`, `min`, `object`, `omit`,\n   * `once`, `pairs`, `partial`, `partialRight`, `pick`, `pluck`, `pull`, `push`,\n   * `range`, `reject`, `remove`, `rest`, `reverse`, `shuffle`, `slice`, `sort`,\n   * `sortBy`, `splice`, `tap`, `throttle`, `times`, `toArray`, `transform`,\n   * `union`, `uniq`, `unshift`, `unzip`, `values`, `where`, `without`, `wrap`,\n   * and `zip`\n   *\n   * The non-chainable wrapper functions are:\n   * `clone`, `cloneDeep`, `contains`, `escape`, `every`, `find`, `findIndex`,\n   * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `has`, `identity`,\n   * `indexOf`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,\n   * `isEmpty`, `isEqual`, `isFinite`, `isFunction`, `isNaN`, `isNull`, `isNumber`,\n   * `isObject`, `isPlainObject`, `isRegExp`, `isString`, `isUndefined`, `join`,\n   * `lastIndexOf`, `mixin`, `noConflict`, `parseInt`, `pop`, `random`, `reduce`,\n   * `reduceRight`, `result`, `shift`, `size`, `some`, `sortedIndex`, `runInContext`,\n   * `template`, `unescape`, `uniqueId`, and `value`\n   *\n   * The wrapper functions `first` and `last` return wrapped values when `n` is\n   * provided, otherwise they return unwrapped values.\n   *\n   * Explicit chaining can be enabled by using the `_.chain` method.\n   *\n   * @name _\n   * @constructor\n   * @category Chaining\n   * @param {*} value The value to wrap in a `lodash` instance.\n   * @returns {Object} Returns a `lodash` instance.\n   * @example\n   *\n   * var wrapped = _([1, 2, 3]);\n   *\n   * // returns an unwrapped value\n   * wrapped.reduce(function(sum, num) {\n   *   return sum + num;\n   * });\n   * // => 6\n   *\n   * // returns a wrapped value\n   * var squares = wrapped.map(function(num) {\n   *   return num * num;\n   * });\n   *\n   * _.isArray(squares);\n   * // => false\n   *\n   * _.isArray(squares.value());\n   * // => true\n   */\n  function lodash() {\n    // no operation performed\n  }\n\n  /**\n   * An object used to flag environments features.\n   *\n   * @static\n   * @memberOf _\n   * @type Object\n   */\n  var support = lodash.support = {};\n\n  (function() {\n    var ctor = function() { this.x = 1; },\n        object = { '0': 1, 'length': 1 },\n        props = [];\n\n    ctor.prototype = { 'valueOf': 1, 'y': 1 };\n    for (var key in new ctor) { props.push(key); }\n    for (key in arguments) { }\n\n    /**\n     * Detect if an `arguments` object's [[Class]] is resolvable (all but Firefox < 4, IE < 9).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.argsClass = toString.call(arguments) == argsClass;\n\n    /**\n     * Detect if `arguments` objects are `Object` objects (all but Narwhal and Opera < 10.5).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.argsObject = arguments.constructor == Object && !(arguments instanceof Array);\n\n    /**\n     * Detect if `name` or `message` properties of `Error.prototype` are\n     * enumerable by default. (IE < 9, Safari < 5.1)\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.enumErrorProps = propertyIsEnumerable.call(errorProto, 'message') || propertyIsEnumerable.call(errorProto, 'name');\n\n    /**\n     * Detect if `prototype` properties are enumerable by default.\n     *\n     * Firefox < 3.6, Opera > 9.50 - Opera < 11.60, and Safari < 5.1\n     * (if the prototype or a property on the prototype has been set)\n     * incorrectly sets a function's `prototype` property [[Enumerable]]\n     * value to `true`.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.enumPrototypes = propertyIsEnumerable.call(ctor, 'prototype');\n\n    /**\n     * Detect if functions can be decompiled by `Function#toString`\n     * (all but PS3 and older Opera mobile browsers & avoided in Windows 8 apps).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.funcDecomp = !isNative(root.WinRTError) && reThis.test(function() { return this; });\n\n    /**\n     * Detect if `Function#name` is supported (all but IE).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.funcNames = typeof Function.name == 'string';\n\n    /**\n     * Detect if `arguments` object indexes are non-enumerable\n     * (Firefox < 4, IE < 9, PhantomJS, Safari < 5.1).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.nonEnumArgs = key != 0;\n\n    /**\n     * Detect if properties shadowing those on `Object.prototype` are non-enumerable.\n     *\n     * In IE < 9 an objects own properties, shadowing non-enumerable ones, are\n     * made non-enumerable as well (a.k.a the JScript [[DontEnum]] bug).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.nonEnumShadows = !/valueOf/.test(props);\n\n    /**\n     * Detect if `Array#shift` and `Array#splice` augment array-like objects correctly.\n     *\n     * Firefox < 10, IE compatibility mode, and IE < 9 have buggy Array `shift()`\n     * and `splice()` functions that fail to remove the last element, `value[0]`,\n     * of array-like objects even though the `length` property is set to `0`.\n     * The `shift()` method is buggy in IE 8 compatibility mode, while `splice()`\n     * is buggy regardless of mode in IE < 9 and buggy in compatibility mode in IE 9.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.spliceObjects = (arrayRef.splice.call(object, 0, 1), !object[0]);\n\n    /**\n     * Detect lack of support for accessing string characters by index.\n     *\n     * IE < 8 can't access characters by index and IE 8 can only access\n     * characters by index on string literals.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.unindexedChars = ('x'[0] + Object('x')[0]) != 'xx';\n\n    /**\n     * Detect if a DOM node's [[Class]] is resolvable (all but IE < 9)\n     * and that the JS engine errors when attempting to coerce an object to\n     * a string without a `toString` function.\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    try {\n      support.nodeClass = !(toString.call(document) == objectClass && !({ 'toString': 0 } + ''));\n    } catch(e) {\n      support.nodeClass = true;\n    }\n  }(1));\n\n  /**\n   * By default, the template delimiters used by Lo-Dash are similar to those in\n   * embedded Ruby (ERB). Change the following template settings to use alternative\n   * delimiters.\n   *\n   * @static\n   * @memberOf _\n   * @type Object\n   */\n  lodash.templateSettings = {\n\n    /**\n     * Used to detect `data` property values to be HTML-escaped.\n     *\n     * @memberOf _.templateSettings\n     * @type RegExp\n     */\n    'escape': /<%-([\\s\\S]+?)%>/g,\n\n    /**\n     * Used to detect code to be evaluated.\n     *\n     * @memberOf _.templateSettings\n     * @type RegExp\n     */\n    'evaluate': /<%([\\s\\S]+?)%>/g,\n\n    /**\n     * Used to detect `data` property values to inject.\n     *\n     * @memberOf _.templateSettings\n     * @type RegExp\n     */\n    'interpolate': reInterpolate,\n\n    /**\n     * Used to reference the data object in the template text.\n     *\n     * @memberOf _.templateSettings\n     * @type string\n     */\n    'variable': '',\n\n    /**\n     * Used to import variables into the compiled template.\n     *\n     * @memberOf _.templateSettings\n     * @type Object\n     */\n    'imports': {\n\n      /**\n       * A reference to the `lodash` function.\n       *\n       * @memberOf _.templateSettings.imports\n       * @type Function\n       */\n      '_': lodash\n    }\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The template used to create iterator functions.\n   *\n   * @private\n   * @param {Object} data The data object used to populate the text.\n   * @returns {string} Returns the interpolated text.\n   */\n  var iteratorTemplate = function(obj) {\n\n    var __p = 'var index, iterable = ' +\n    (obj.firstArg) +\n    ', result = ' +\n    (obj.init) +\n    ';\\nif (!iterable) return result;\\n' +\n    (obj.top) +\n    ';';\n     if (obj.array) {\n    __p += '\\nvar length = iterable.length; index = -1;\\nif (' +\n    (obj.array) +\n    ') {  ';\n     if (support.unindexedChars) {\n    __p += '\\n  if (isString(iterable)) {\\n    iterable = iterable.split(\\'\\')\\n  }  ';\n     }\n    __p += '\\n  while (++index < length) {\\n    ' +\n    (obj.loop) +\n    ';\\n  }\\n}\\nelse {  ';\n     } else if (support.nonEnumArgs) {\n    __p += '\\n  var length = iterable.length; index = -1;\\n  if (length && isArguments(iterable)) {\\n    while (++index < length) {\\n      index += \\'\\';\\n      ' +\n    (obj.loop) +\n    ';\\n    }\\n  } else {  ';\n     }\n\n     if (support.enumPrototypes) {\n    __p += '\\n  var skipProto = typeof iterable == \\'function\\';\\n  ';\n     }\n\n     if (support.enumErrorProps) {\n    __p += '\\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\\n  ';\n     }\n\n        var conditions = [];    if (support.enumPrototypes) { conditions.push('!(skipProto && index == \"prototype\")'); }    if (support.enumErrorProps)  { conditions.push('!(skipErrorProps && (index == \"message\" || index == \"name\"))'); }\n\n     if (obj.useHas && obj.keys) {\n    __p += '\\n  var ownIndex = -1,\\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\\n      length = ownProps ? ownProps.length : 0;\\n\\n  while (++ownIndex < length) {\\n    index = ownProps[ownIndex];\\n';\n        if (conditions.length) {\n    __p += '    if (' +\n    (conditions.join(' && ')) +\n    ') {\\n  ';\n     }\n    __p +=\n    (obj.loop) +\n    ';    ';\n     if (conditions.length) {\n    __p += '\\n    }';\n     }\n    __p += '\\n  }  ';\n     } else {\n    __p += '\\n  for (index in iterable) {\\n';\n        if (obj.useHas) { conditions.push(\"hasOwnProperty.call(iterable, index)\"); }    if (conditions.length) {\n    __p += '    if (' +\n    (conditions.join(' && ')) +\n    ') {\\n  ';\n     }\n    __p +=\n    (obj.loop) +\n    ';    ';\n     if (conditions.length) {\n    __p += '\\n    }';\n     }\n    __p += '\\n  }    ';\n     if (support.nonEnumShadows) {\n    __p += '\\n\\n  if (iterable !== objectProto) {\\n    var ctor = iterable.constructor,\\n        isProto = iterable === (ctor && ctor.prototype),\\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\\n        nonEnum = nonEnumProps[className];\\n      ';\n     for (k = 0; k < 7; k++) {\n    __p += '\\n    index = \\'' +\n    (obj.shadowedProps[k]) +\n    '\\';\\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))';\n            if (!obj.useHas) {\n    __p += ' || (!nonEnum[index] && iterable[index] !== objectProto[index])';\n     }\n    __p += ') {\\n      ' +\n    (obj.loop) +\n    ';\\n    }      ';\n     }\n    __p += '\\n  }    ';\n     }\n\n     }\n\n     if (obj.array || support.nonEnumArgs) {\n    __p += '\\n}';\n     }\n    __p +=\n    (obj.bottom) +\n    ';\\nreturn result';\n\n    return __p\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `_.bind` that creates the bound function and\n   * sets its meta data.\n   *\n   * @private\n   * @param {Array} bindData The bind data array.\n   * @returns {Function} Returns the new bound function.\n   */\n  function baseBind(bindData) {\n    var func = bindData[0],\n        partialArgs = bindData[2],\n        thisArg = bindData[4];\n\n    function bound() {\n      // `Function#bind` spec\n      // http://es5.github.io/#x15.3.4.5\n      if (partialArgs) {\n        // avoid `arguments` object deoptimizations by using `slice` instead\n        // of `Array.prototype.slice.call` and not assigning `arguments` to a\n        // variable as a ternary expression\n        var args = slice(partialArgs);\n        push.apply(args, arguments);\n      }\n      // mimic the constructor's `return` behavior\n      // http://es5.github.io/#x13.2.2\n      if (this instanceof bound) {\n        // ensure `new bound` is an instance of `func`\n        var thisBinding = baseCreate(func.prototype),\n            result = func.apply(thisBinding, args || arguments);\n        return isObject(result) ? result : thisBinding;\n      }\n      return func.apply(thisArg, args || arguments);\n    }\n    setBindData(bound, bindData);\n    return bound;\n  }\n\n  /**\n   * The base implementation of `_.clone` without argument juggling or support\n   * for `thisArg` binding.\n   *\n   * @private\n   * @param {*} value The value to clone.\n   * @param {boolean} [isDeep=false] Specify a deep clone.\n   * @param {Function} [callback] The function to customize cloning values.\n   * @param {Array} [stackA=[]] Tracks traversed source objects.\n   * @param {Array} [stackB=[]] Associates clones with source counterparts.\n   * @returns {*} Returns the cloned value.\n   */\n  function baseClone(value, isDeep, callback, stackA, stackB) {\n    if (callback) {\n      var result = callback(value);\n      if (typeof result != 'undefined') {\n        return result;\n      }\n    }\n    // inspect [[Class]]\n    var isObj = isObject(value);\n    if (isObj) {\n      var className = toString.call(value);\n      if (!cloneableClasses[className] || (!support.nodeClass && isNode(value))) {\n        return value;\n      }\n      var ctor = ctorByClass[className];\n      switch (className) {\n        case boolClass:\n        case dateClass:\n          return new ctor(+value);\n\n        case numberClass:\n        case stringClass:\n          return new ctor(value);\n\n        case regexpClass:\n          result = ctor(value.source, reFlags.exec(value));\n          result.lastIndex = value.lastIndex;\n          return result;\n      }\n    } else {\n      return value;\n    }\n    var isArr = isArray(value);\n    if (isDeep) {\n      // check for circular references and return corresponding clone\n      var initedStack = !stackA;\n      stackA || (stackA = getArray());\n      stackB || (stackB = getArray());\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == value) {\n          return stackB[length];\n        }\n      }\n      result = isArr ? ctor(value.length) : {};\n    }\n    else {\n      result = isArr ? slice(value) : assign({}, value);\n    }\n    // add array properties assigned by `RegExp#exec`\n    if (isArr) {\n      if (hasOwnProperty.call(value, 'index')) {\n        result.index = value.index;\n      }\n      if (hasOwnProperty.call(value, 'input')) {\n        result.input = value.input;\n      }\n    }\n    // exit for shallow clone\n    if (!isDeep) {\n      return result;\n    }\n    // add the source value to the stack of traversed objects\n    // and associate it with its clone\n    stackA.push(value);\n    stackB.push(result);\n\n    // recursively populate clone (susceptible to call stack limits)\n    (isArr ? baseEach : forOwn)(value, function(objValue, key) {\n      result[key] = baseClone(objValue, isDeep, callback, stackA, stackB);\n    });\n\n    if (initedStack) {\n      releaseArray(stackA);\n      releaseArray(stackB);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.create` without support for assigning\n   * properties to the created object.\n   *\n   * @private\n   * @param {Object} prototype The object to inherit from.\n   * @returns {Object} Returns the new object.\n   */\n  function baseCreate(prototype, properties) {\n    return isObject(prototype) ? nativeCreate(prototype) : {};\n  }\n  // fallback for browsers without `Object.create`\n  if (!nativeCreate) {\n    baseCreate = (function() {\n      function Object() {}\n      return function(prototype) {\n        if (isObject(prototype)) {\n          Object.prototype = prototype;\n          var result = new Object;\n          Object.prototype = null;\n        }\n        return result || root.Object();\n      };\n    }());\n  }\n\n  /**\n   * The base implementation of `_.createCallback` without support for creating\n   * \"_.pluck\" or \"_.where\" style callbacks.\n   *\n   * @private\n   * @param {*} [func=identity] The value to convert to a callback.\n   * @param {*} [thisArg] The `this` binding of the created callback.\n   * @param {number} [argCount] The number of arguments the callback accepts.\n   * @returns {Function} Returns a callback function.\n   */\n  function baseCreateCallback(func, thisArg, argCount) {\n    if (typeof func != 'function') {\n      return identity;\n    }\n    // exit early for no `thisArg` or already bound by `Function#bind`\n    if (typeof thisArg == 'undefined' || !('prototype' in func)) {\n      return func;\n    }\n    var bindData = func.__bindData__;\n    if (typeof bindData == 'undefined') {\n      if (support.funcNames) {\n        bindData = !func.name;\n      }\n      bindData = bindData || !support.funcDecomp;\n      if (!bindData) {\n        var source = fnToString.call(func);\n        if (!support.funcNames) {\n          bindData = !reFuncName.test(source);\n        }\n        if (!bindData) {\n          // checks if `func` references the `this` keyword and stores the result\n          bindData = reThis.test(source);\n          setBindData(func, bindData);\n        }\n      }\n    }\n    // exit early if there are no `this` references or `func` is bound\n    if (bindData === false || (bindData !== true && bindData[1] & 1)) {\n      return func;\n    }\n    switch (argCount) {\n      case 1: return function(value) {\n        return func.call(thisArg, value);\n      };\n      case 2: return function(a, b) {\n        return func.call(thisArg, a, b);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(thisArg, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(thisArg, accumulator, value, index, collection);\n      };\n    }\n    return bind(func, thisArg);\n  }\n\n  /**\n   * The base implementation of `createWrapper` that creates the wrapper and\n   * sets its meta data.\n   *\n   * @private\n   * @param {Array} bindData The bind data array.\n   * @returns {Function} Returns the new function.\n   */\n  function baseCreateWrapper(bindData) {\n    var func = bindData[0],\n        bitmask = bindData[1],\n        partialArgs = bindData[2],\n        partialRightArgs = bindData[3],\n        thisArg = bindData[4],\n        arity = bindData[5];\n\n    var isBind = bitmask & 1,\n        isBindKey = bitmask & 2,\n        isCurry = bitmask & 4,\n        isCurryBound = bitmask & 8,\n        key = func;\n\n    function bound() {\n      var thisBinding = isBind ? thisArg : this;\n      if (partialArgs) {\n        var args = slice(partialArgs);\n        push.apply(args, arguments);\n      }\n      if (partialRightArgs || isCurry) {\n        args || (args = slice(arguments));\n        if (partialRightArgs) {\n          push.apply(args, partialRightArgs);\n        }\n        if (isCurry && args.length < arity) {\n          bitmask |= 16 & ~32;\n          return baseCreateWrapper([func, (isCurryBound ? bitmask : bitmask & ~3), args, null, thisArg, arity]);\n        }\n      }\n      args || (args = arguments);\n      if (isBindKey) {\n        func = thisBinding[key];\n      }\n      if (this instanceof bound) {\n        thisBinding = baseCreate(func.prototype);\n        var result = func.apply(thisBinding, args);\n        return isObject(result) ? result : thisBinding;\n      }\n      return func.apply(thisBinding, args);\n    }\n    setBindData(bound, bindData);\n    return bound;\n  }\n\n  /**\n   * The base implementation of `_.isEqual`, without support for `thisArg` binding,\n   * that allows partial \"_.where\" style comparisons.\n   *\n   * @private\n   * @param {*} a The value to compare.\n   * @param {*} b The other value to compare.\n   * @param {Function} [callback] The function to customize comparing values.\n   * @param {Function} [isWhere=false] A flag to indicate performing partial comparisons.\n   * @param {Array} [stackA=[]] Tracks traversed `a` objects.\n   * @param {Array} [stackB=[]] Tracks traversed `b` objects.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   */\n  function baseIsEqual(a, b, callback, isWhere, stackA, stackB) {\n    // used to indicate that when comparing objects, `a` has at least the properties of `b`\n    if (callback) {\n      var result = callback(a, b);\n      if (typeof result != 'undefined') {\n        return !!result;\n      }\n    }\n    // exit early for identical values\n    if (a === b) {\n      // treat `+0` vs. `-0` as not equal\n      return a !== 0 || (1 / a == 1 / b);\n    }\n    var type = typeof a,\n        otherType = typeof b;\n\n    // exit early for unlike primitive values\n    if (a === a &&\n        !(a && objectTypes[type]) &&\n        !(b && objectTypes[otherType])) {\n      return false;\n    }\n    // exit early for `null` and `undefined` avoiding ES3's Function#call behavior\n    // http://es5.github.io/#x15.3.4.4\n    if (a == null || b == null) {\n      return a === b;\n    }\n    // compare [[Class]] names\n    var className = toString.call(a),\n        otherClass = toString.call(b);\n\n    if (className == argsClass) {\n      className = objectClass;\n    }\n    if (otherClass == argsClass) {\n      otherClass = objectClass;\n    }\n    if (className != otherClass) {\n      return false;\n    }\n    switch (className) {\n      case boolClass:\n      case dateClass:\n        // coerce dates and booleans to numbers, dates to milliseconds and booleans\n        // to `1` or `0` treating invalid dates coerced to `NaN` as not equal\n        return +a == +b;\n\n      case numberClass:\n        // treat `NaN` vs. `NaN` as equal\n        return (a != +a)\n          ? b != +b\n          // but treat `+0` vs. `-0` as not equal\n          : (a == 0 ? (1 / a == 1 / b) : a == +b);\n\n      case regexpClass:\n      case stringClass:\n        // coerce regexes to strings (http://es5.github.io/#x15.10.6.4)\n        // treat string primitives and their corresponding object instances as equal\n        return a == String(b);\n    }\n    var isArr = className == arrayClass;\n    if (!isArr) {\n      // unwrap any `lodash` wrapped values\n      var aWrapped = hasOwnProperty.call(a, '__wrapped__'),\n          bWrapped = hasOwnProperty.call(b, '__wrapped__');\n\n      if (aWrapped || bWrapped) {\n        return baseIsEqual(aWrapped ? a.__wrapped__ : a, bWrapped ? b.__wrapped__ : b, callback, isWhere, stackA, stackB);\n      }\n      // exit for functions and DOM nodes\n      if (className != objectClass || (!support.nodeClass && (isNode(a) || isNode(b)))) {\n        return false;\n      }\n      // in older versions of Opera, `arguments` objects have `Array` constructors\n      var ctorA = !support.argsObject && isArguments(a) ? Object : a.constructor,\n          ctorB = !support.argsObject && isArguments(b) ? Object : b.constructor;\n\n      // non `Object` object instances with different constructors are not equal\n      if (ctorA != ctorB &&\n            !(isFunction(ctorA) && ctorA instanceof ctorA && isFunction(ctorB) && ctorB instanceof ctorB) &&\n            ('constructor' in a && 'constructor' in b)\n          ) {\n        return false;\n      }\n    }\n    // assume cyclic structures are equal\n    // the algorithm for detecting cyclic structures is adapted from ES 5.1\n    // section 15.12.3, abstract operation `JO` (http://es5.github.io/#x15.12.3)\n    var initedStack = !stackA;\n    stackA || (stackA = getArray());\n    stackB || (stackB = getArray());\n\n    var length = stackA.length;\n    while (length--) {\n      if (stackA[length] == a) {\n        return stackB[length] == b;\n      }\n    }\n    var size = 0;\n    result = true;\n\n    // add `a` and `b` to the stack of traversed objects\n    stackA.push(a);\n    stackB.push(b);\n\n    // recursively compare objects and arrays (susceptible to call stack limits)\n    if (isArr) {\n      // compare lengths to determine if a deep comparison is necessary\n      length = a.length;\n      size = b.length;\n      result = size == length;\n\n      if (result || isWhere) {\n        // deep compare the contents, ignoring non-numeric properties\n        while (size--) {\n          var index = length,\n              value = b[size];\n\n          if (isWhere) {\n            while (index--) {\n              if ((result = baseIsEqual(a[index], value, callback, isWhere, stackA, stackB))) {\n                break;\n              }\n            }\n          } else if (!(result = baseIsEqual(a[size], value, callback, isWhere, stackA, stackB))) {\n            break;\n          }\n        }\n      }\n    }\n    else {\n      // deep compare objects using `forIn`, instead of `forOwn`, to avoid `Object.keys`\n      // which, in this case, is more costly\n      forIn(b, function(value, key, b) {\n        if (hasOwnProperty.call(b, key)) {\n          // count the number of properties.\n          size++;\n          // deep compare each property value.\n          return (result = hasOwnProperty.call(a, key) && baseIsEqual(a[key], value, callback, isWhere, stackA, stackB));\n        }\n      });\n\n      if (result && !isWhere) {\n        // ensure both objects have the same number of properties\n        forIn(a, function(value, key, a) {\n          if (hasOwnProperty.call(a, key)) {\n            // `size` will be `-1` if `a` has more properties than `b`\n            return (result = --size > -1);\n          }\n        });\n      }\n    }\n    stackA.pop();\n    stackB.pop();\n\n    if (initedStack) {\n      releaseArray(stackA);\n      releaseArray(stackB);\n    }\n    return result;\n  }\n\n  /**\n   * Creates a function that, when called, either curries or invokes `func`\n   * with an optional `this` binding and partially applied arguments.\n   *\n   * @private\n   * @param {Function|string} func The function or method name to reference.\n   * @param {number} bitmask The bitmask of method flags to compose.\n   *  The bitmask may be composed of the following flags:\n   *  1 - `_.bind`\n   *  2 - `_.bindKey`\n   *  4 - `_.curry`\n   *  8 - `_.curry` (bound)\n   *  16 - `_.partial`\n   *  32 - `_.partialRight`\n   * @param {Array} [partialArgs] An array of arguments to prepend to those\n   *  provided to the new function.\n   * @param {Array} [partialRightArgs] An array of arguments to append to those\n   *  provided to the new function.\n   * @param {*} [thisArg] The `this` binding of `func`.\n   * @param {number} [arity] The arity of `func`.\n   * @returns {Function} Returns the new function.\n   */\n  function createWrapper(func, bitmask, partialArgs, partialRightArgs, thisArg, arity) {\n    var isBind = bitmask & 1,\n        isBindKey = bitmask & 2,\n        isCurry = bitmask & 4,\n        isCurryBound = bitmask & 8,\n        isPartial = bitmask & 16,\n        isPartialRight = bitmask & 32;\n\n    if (!isBindKey && !isFunction(func)) {\n      throw new TypeError;\n    }\n    if (isPartial && !partialArgs.length) {\n      bitmask &= ~16;\n      isPartial = partialArgs = false;\n    }\n    if (isPartialRight && !partialRightArgs.length) {\n      bitmask &= ~32;\n      isPartialRight = partialRightArgs = false;\n    }\n    var bindData = func && func.__bindData__;\n    if (bindData && bindData !== true) {\n      // clone `bindData`\n      bindData = slice(bindData);\n      if (bindData[2]) {\n        bindData[2] = slice(bindData[2]);\n      }\n      if (bindData[3]) {\n        bindData[3] = slice(bindData[3]);\n      }\n      // set `thisBinding` is not previously bound\n      if (isBind && !(bindData[1] & 1)) {\n        bindData[4] = thisArg;\n      }\n      // set if previously bound but not currently (subsequent curried functions)\n      if (!isBind && bindData[1] & 1) {\n        bitmask |= 8;\n      }\n      // set curried arity if not yet set\n      if (isCurry && !(bindData[1] & 4)) {\n        bindData[5] = arity;\n      }\n      // append partial left arguments\n      if (isPartial) {\n        push.apply(bindData[2] || (bindData[2] = []), partialArgs);\n      }\n      // append partial right arguments\n      if (isPartialRight) {\n        unshift.apply(bindData[3] || (bindData[3] = []), partialRightArgs);\n      }\n      // merge flags\n      bindData[1] |= bitmask;\n      return createWrapper.apply(null, bindData);\n    }\n    // fast path for `_.bind`\n    var creater = (bitmask == 1 || bitmask === 17) ? baseBind : baseCreateWrapper;\n    return creater([func, bitmask, partialArgs, partialRightArgs, thisArg, arity]);\n  }\n\n  /**\n   * Creates compiled iteration functions.\n   *\n   * @private\n   * @param {...Object} [options] The compile options object(s).\n   * @param {string} [options.array] Code to determine if the iterable is an array or array-like.\n   * @param {boolean} [options.useHas] Specify using `hasOwnProperty` checks in the object loop.\n   * @param {Function} [options.keys] A reference to `_.keys` for use in own property iteration.\n   * @param {string} [options.args] A comma separated string of iteration function arguments.\n   * @param {string} [options.top] Code to execute before the iteration branches.\n   * @param {string} [options.loop] Code to execute in the object loop.\n   * @param {string} [options.bottom] Code to execute after the iteration branches.\n   * @returns {Function} Returns the compiled function.\n   */\n  function createIterator() {\n    // data properties\n    iteratorData.shadowedProps = shadowedProps;\n\n    // iterator options\n    iteratorData.array = iteratorData.bottom = iteratorData.loop = iteratorData.top = '';\n    iteratorData.init = 'iterable';\n    iteratorData.useHas = true;\n\n    // merge options into a template data object\n    for (var object, index = 0; object = arguments[index]; index++) {\n      for (var key in object) {\n        iteratorData[key] = object[key];\n      }\n    }\n    var args = iteratorData.args;\n    iteratorData.firstArg = /^[^,]+/.exec(args)[0];\n\n    // create the function factory\n    var factory = Function(\n        'baseCreateCallback, errorClass, errorProto, hasOwnProperty, ' +\n        'indicatorObject, isArguments, isArray, isString, keys, objectProto, ' +\n        'objectTypes, nonEnumProps, stringClass, stringProto, toString',\n      'return function(' + args + ') {\\n' + iteratorTemplate(iteratorData) + '\\n}'\n    );\n\n    // return the compiled function\n    return factory(\n      baseCreateCallback, errorClass, errorProto, hasOwnProperty,\n      indicatorObject, isArguments, isArray, isString, iteratorData.keys, objectProto,\n      objectTypes, nonEnumProps, stringClass, stringProto, toString\n    );\n  }\n\n  /**\n   * Used by `escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} match The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeHtmlChar(match) {\n    return htmlEscapes[match];\n  }\n\n  /**\n   * Checks if `value` is a native function.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a native function, else `false`.\n   */\n  function isNative(value) {\n    return typeof value == 'function' && reNative.test(value);\n  }\n\n  /**\n   * Sets `this` binding data on a given function.\n   *\n   * @private\n   * @param {Function} func The function to set data on.\n   * @param {Array} value The data array to set.\n   */\n  var setBindData = !defineProperty ? noop : function(func, value) {\n    descriptor.value = value;\n    defineProperty(func, '__bindData__', descriptor);\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Checks if `value` is an `arguments` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is an `arguments` object, else `false`.\n   * @example\n   *\n   * (function() { return _.isArguments(arguments); })(1, 2, 3);\n   * // => true\n   *\n   * _.isArguments([1, 2, 3]);\n   * // => false\n   */\n  function isArguments(value) {\n    return value && typeof value == 'object' && typeof value.length == 'number' &&\n      toString.call(value) == argsClass || false;\n  }\n  // fallback for browsers that can't detect `arguments` objects by [[Class]]\n  if (!support.argsClass) {\n    isArguments = function(value) {\n      return value && typeof value == 'object' && typeof value.length == 'number' &&\n        hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee') || false;\n    };\n  }\n\n  /**\n   * Checks if `value` is an array.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is an array, else `false`.\n   * @example\n   *\n   * (function() { return _.isArray(arguments); })();\n   * // => false\n   *\n   * _.isArray([1, 2, 3]);\n   * // => true\n   */\n  var isArray = nativeIsArray || function(value) {\n    return value && typeof value == 'object' && typeof value.length == 'number' &&\n      toString.call(value) == arrayClass || false;\n  };\n\n  /**\n   * A fallback implementation of `Object.keys` which produces an array of the\n   * given object's own enumerable property names.\n   *\n   * @private\n   * @type Function\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns an array of property names.\n   */\n  var shimKeys = createIterator({\n    'args': 'object',\n    'init': '[]',\n    'top': 'if (!(objectTypes[typeof object])) return result',\n    'loop': 'result.push(index)'\n  });\n\n  /**\n   * Creates an array composed of the own enumerable property names of an object.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns an array of property names.\n   * @example\n   *\n   * _.keys({ 'one': 1, 'two': 2, 'three': 3 });\n   * // => ['one', 'two', 'three'] (property order is not guaranteed across environments)\n   */\n  var keys = !nativeKeys ? shimKeys : function(object) {\n    if (!isObject(object)) {\n      return [];\n    }\n    if ((support.enumPrototypes && typeof object == 'function') ||\n        (support.nonEnumArgs && object.length && isArguments(object))) {\n      return shimKeys(object);\n    }\n    return nativeKeys(object);\n  };\n\n  /** Reusable iterator options shared by `each`, `forIn`, and `forOwn` */\n  var eachIteratorOptions = {\n    'args': 'collection, callback, thisArg',\n    'top': \"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)\",\n    'array': \"typeof length == 'number'\",\n    'keys': keys,\n    'loop': 'if (callback(iterable[index], index, collection) === false) return result'\n  };\n\n  /** Reusable iterator options for `assign` and `defaults` */\n  var defaultsIteratorOptions = {\n    'args': 'object, source, guard',\n    'top':\n      'var args = arguments,\\n' +\n      '    argsIndex = 0,\\n' +\n      \"    argsLength = typeof guard == 'number' ? 2 : args.length;\\n\" +\n      'while (++argsIndex < argsLength) {\\n' +\n      '  iterable = args[argsIndex];\\n' +\n      '  if (iterable && objectTypes[typeof iterable]) {',\n    'keys': keys,\n    'loop': \"if (typeof result[index] == 'undefined') result[index] = iterable[index]\",\n    'bottom': '  }\\n}'\n  };\n\n  /** Reusable iterator options for `forIn` and `forOwn` */\n  var forOwnIteratorOptions = {\n    'top': 'if (!objectTypes[typeof iterable]) return result;\\n' + eachIteratorOptions.top,\n    'array': false\n  };\n\n  /**\n   * Used to convert characters to HTML entities:\n   *\n   * Though the `>` character is escaped for symmetry, characters like `>` and `/`\n   * don't require escaping in HTML and have no special meaning unless they're part\n   * of a tag or an unquoted attribute value.\n   * http://mathiasbynens.be/notes/ambiguous-ampersands (under \"semi-related fun fact\")\n   */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to match HTML entities and HTML characters */\n  var reUnescapedHtml = RegExp('[' + keys(htmlEscapes).join('') + ']', 'g');\n\n  /**\n   * A function compiled to iterate `arguments` objects, arrays, objects, and\n   * strings consistenly across environments, executing the callback for each\n   * element in the collection. The callback is bound to `thisArg` and invoked\n   * with three arguments; (value, index|key, collection). Callbacks may exit\n   * iteration early by explicitly returning `false`.\n   *\n   * @private\n   * @type Function\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array|Object|string} Returns `collection`.\n   */\n  var baseEach = createIterator(eachIteratorOptions);\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Assigns own enumerable properties of source object(s) to the destination\n   * object. Subsequent sources will overwrite property assignments of previous\n   * sources. If a callback is provided it will be executed to produce the\n   * assigned values. The callback is bound to `thisArg` and invoked with two\n   * arguments; (objectValue, sourceValue).\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @alias extend\n   * @category Objects\n   * @param {Object} object The destination object.\n   * @param {...Object} [source] The source objects.\n   * @param {Function} [callback] The function to customize assigning values.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns the destination object.\n   * @example\n   *\n   * _.assign({ 'name': 'fred' }, { 'employer': 'slate' });\n   * // => { 'name': 'fred', 'employer': 'slate' }\n   *\n   * var defaults = _.partialRight(_.assign, function(a, b) {\n   *   return typeof a == 'undefined' ? b : a;\n   * });\n   *\n   * var object = { 'name': 'barney' };\n   * defaults(object, { 'name': 'fred', 'employer': 'slate' });\n   * // => { 'name': 'barney', 'employer': 'slate' }\n   */\n  var assign = createIterator(defaultsIteratorOptions, {\n    'top':\n      defaultsIteratorOptions.top.replace(';',\n        ';\\n' +\n        \"if (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\\n\" +\n        '  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\\n' +\n        \"} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\\n\" +\n        '  callback = args[--argsLength];\\n' +\n        '}'\n      ),\n    'loop': 'result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]'\n  });\n\n  /**\n   * Creates a clone of `value`. If `isDeep` is `true` nested objects will also\n   * be cloned, otherwise they will be assigned by reference. If a callback\n   * is provided it will be executed to produce the cloned values. If the\n   * callback returns `undefined` cloning will be handled by the method instead.\n   * The callback is bound to `thisArg` and invoked with one argument; (value).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to clone.\n   * @param {boolean} [isDeep=false] Specify a deep clone.\n   * @param {Function} [callback] The function to customize cloning values.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the cloned value.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * var shallow = _.clone(characters);\n   * shallow[0] === characters[0];\n   * // => true\n   *\n   * var deep = _.clone(characters, true);\n   * deep[0] === characters[0];\n   * // => false\n   *\n   * _.mixin({\n   *   'clone': _.partialRight(_.clone, function(value) {\n   *     return _.isElement(value) ? value.cloneNode(false) : undefined;\n   *   })\n   * });\n   *\n   * var clone = _.clone(document.body);\n   * clone.childNodes.length;\n   * // => 0\n   */\n  function clone(value, isDeep, callback, thisArg) {\n    // allows working with \"Collections\" methods without using their `index`\n    // and `collection` arguments for `isDeep` and `callback`\n    if (typeof isDeep != 'boolean' && isDeep != null) {\n      thisArg = callback;\n      callback = isDeep;\n      isDeep = false;\n    }\n    return baseClone(value, isDeep, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 1));\n  }\n\n  /**\n   * Creates a deep clone of `value`. If a callback is provided it will be\n   * executed to produce the cloned values. If the callback returns `undefined`\n   * cloning will be handled by the method instead. The callback is bound to\n   * `thisArg` and invoked with one argument; (value).\n   *\n   * Note: This method is loosely based on the structured clone algorithm. Functions\n   * and DOM nodes are **not** cloned. The enumerable properties of `arguments` objects and\n   * objects created by constructors other than `Object` are cloned to plain `Object` objects.\n   * See http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to deep clone.\n   * @param {Function} [callback] The function to customize cloning values.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the deep cloned value.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * var deep = _.cloneDeep(characters);\n   * deep[0] === characters[0];\n   * // => false\n   *\n   * var view = {\n   *   'label': 'docs',\n   *   'node': element\n   * };\n   *\n   * var clone = _.cloneDeep(view, function(value) {\n   *   return _.isElement(value) ? value.cloneNode(true) : undefined;\n   * });\n   *\n   * clone.node == view.node;\n   * // => false\n   */\n  function cloneDeep(value, callback, thisArg) {\n    return baseClone(value, true, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 1));\n  }\n\n  /**\n   * Assigns own enumerable properties of source object(s) to the destination\n   * object for all destination properties that resolve to `undefined`. Once a\n   * property is set, additional defaults of the same property will be ignored.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {Object} object The destination object.\n   * @param {...Object} [source] The source objects.\n   * @param- {Object} [guard] Allows working with `_.reduce` without using its\n   *  `key` and `object` arguments as sources.\n   * @returns {Object} Returns the destination object.\n   * @example\n   *\n   * var object = { 'name': 'barney' };\n   * _.defaults(object, { 'name': 'fred', 'employer': 'slate' });\n   * // => { 'name': 'barney', 'employer': 'slate' }\n   */\n  var defaults = createIterator(defaultsIteratorOptions);\n\n  /**\n   * Iterates over own and inherited enumerable properties of an object,\n   * executing the callback for each property. The callback is bound to `thisArg`\n   * and invoked with three arguments; (value, key, object). Callbacks may exit\n   * iteration early by explicitly returning `false`.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {Object} object The object to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * function Shape() {\n   *   this.x = 0;\n   *   this.y = 0;\n   * }\n   *\n   * Shape.prototype.move = function(x, y) {\n   *   this.x += x;\n   *   this.y += y;\n   * };\n   *\n   * _.forIn(new Shape, function(value, key) {\n   *   console.log(key);\n   * });\n   * // => logs 'x', 'y', and 'move' (property order is not guaranteed across environments)\n   */\n  var forIn = createIterator(eachIteratorOptions, forOwnIteratorOptions, {\n    'useHas': false\n  });\n\n  /**\n   * Iterates over own enumerable properties of an object, executing the callback\n   * for each property. The callback is bound to `thisArg` and invoked with three\n   * arguments; (value, key, object). Callbacks may exit iteration early by\n   * explicitly returning `false`.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {Object} object The object to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n   *   console.log(key);\n   * });\n   * // => logs '0', '1', and 'length' (property order is not guaranteed across environments)\n   */\n  var forOwn = createIterator(eachIteratorOptions, forOwnIteratorOptions);\n\n  /**\n   * Checks if `value` is a function.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a function, else `false`.\n   * @example\n   *\n   * _.isFunction(_);\n   * // => true\n   */\n  function isFunction(value) {\n    return typeof value == 'function';\n  }\n  // fallback for older versions of Chrome and Safari\n  if (isFunction(/x/)) {\n    isFunction = function(value) {\n      return typeof value == 'function' && toString.call(value) == funcClass;\n    };\n  }\n\n  /**\n   * Checks if `value` is the language type of Object.\n   * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(1);\n   * // => false\n   */\n  function isObject(value) {\n    // check if the value is the ECMAScript language type of Object\n    // http://es5.github.io/#x8\n    // and avoid a V8 bug\n    // http://code.google.com/p/v8/issues/detail?id=2291\n    return !!(value && objectTypes[typeof value]);\n  }\n\n  /**\n   * Checks if `value` is a string.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if the `value` is a string, else `false`.\n   * @example\n   *\n   * _.isString('fred');\n   * // => true\n   */\n  function isString(value) {\n    return typeof value == 'string' ||\n      value && typeof value == 'object' && toString.call(value) == stringClass || false;\n  }\n\n  /**\n   * Creates an array composed of the own enumerable property values of `object`.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns an array of property values.\n   * @example\n   *\n   * _.values({ 'one': 1, 'two': 2, 'three': 3 });\n   * // => [1, 2, 3] (property order is not guaranteed across environments)\n   */\n  function values(object) {\n    var index = -1,\n        props = keys(object),\n        length = props.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = object[props[index]];\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Iterates over elements of a collection, returning an array of all elements\n   * the callback returns truey for. The callback is bound to `thisArg` and\n   * invoked with three arguments; (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias select\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new array of elements that passed the callback check.\n   * @example\n   *\n   * var evens = _.filter([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n   * // => [2, 4, 6]\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36, 'blocked': false },\n   *   { 'name': 'fred',   'age': 40, 'blocked': true }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.filter(characters, 'blocked');\n   * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]\n   *\n   * // using \"_.where\" callback shorthand\n   * _.filter(characters, { 'age': 36 });\n   * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]\n   */\n  function filter(collection, callback, thisArg) {\n    var result = [];\n    callback = lodash.createCallback(callback, thisArg, 3);\n\n    if (isArray(collection)) {\n      var index = -1,\n          length = collection.length;\n\n      while (++index < length) {\n        var value = collection[index];\n        if (callback(value, index, collection)) {\n          result.push(value);\n        }\n      }\n    } else {\n      baseEach(collection, function(value, index, collection) {\n        if (callback(value, index, collection)) {\n          result.push(value);\n        }\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Iterates over elements of a collection, returning the first element that\n   * the callback returns truey for. The callback is bound to `thisArg` and\n   * invoked with three arguments; (value, index|key, collection).\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias detect, findWhere\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {*} Returns the found element, else `undefined`.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney',  'age': 36, 'blocked': false },\n   *   { 'name': 'fred',    'age': 40, 'blocked': true },\n   *   { 'name': 'pebbles', 'age': 1,  'blocked': false }\n   * ];\n   *\n   * _.find(characters, function(chr) {\n   *   return chr.age < 40;\n   * });\n   * // => { 'name': 'barney', 'age': 36, 'blocked': false }\n   *\n   * // using \"_.where\" callback shorthand\n   * _.find(characters, { 'age': 1 });\n   * // =>  { 'name': 'pebbles', 'age': 1, 'blocked': false }\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.find(characters, 'blocked');\n   * // => { 'name': 'fred', 'age': 40, 'blocked': true }\n   */\n  function find(collection, callback, thisArg) {\n    callback = lodash.createCallback(callback, thisArg, 3);\n\n    if (isArray(collection)) {\n      var index = -1,\n          length = collection.length;\n\n      while (++index < length) {\n        var value = collection[index];\n        if (callback(value, index, collection)) {\n          return value;\n        }\n      }\n    } else {\n      var result;\n      baseEach(collection, function(value, index, collection) {\n        if (callback(value, index, collection)) {\n          result = value;\n          return false;\n        }\n      });\n      return result;\n    }\n  }\n\n  /**\n   * Iterates over elements of a collection, executing the callback for each\n   * element. The callback is bound to `thisArg` and invoked with three arguments;\n   * (value, index|key, collection). Callbacks may exit iteration early by\n   * explicitly returning `false`.\n   *\n   * Note: As with other \"Collections\" methods, objects with a `length` property\n   * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n   * may be used for object iteration.\n   *\n   * @static\n   * @memberOf _\n   * @alias each\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array|Object|string} Returns `collection`.\n   * @example\n   *\n   * _([1, 2, 3]).forEach(function(num) { console.log(num); }).join(',');\n   * // => logs each number and returns '1,2,3'\n   *\n   * _.forEach({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { console.log(num); });\n   * // => logs each number and returns the object (property order is not guaranteed across environments)\n   */\n  function forEach(collection, callback, thisArg) {\n    if (callback && typeof thisArg == 'undefined' && isArray(collection)) {\n      var index = -1,\n          length = collection.length;\n\n      while (++index < length) {\n        if (callback(collection[index], index, collection) === false) {\n          break;\n        }\n      }\n    } else {\n      baseEach(collection, callback, thisArg);\n    }\n    return collection;\n  }\n\n  /**\n   * The opposite of `_.filter` this method returns the elements of a\n   * collection that the callback does **not** return truey for.\n   *\n   * If a property name is provided for `callback` the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is provided for `callback` the created \"_.where\" style callback\n   * will return `true` for elements that have the properties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|string} collection The collection to iterate over.\n   * @param {Function|Object|string} [callback=identity] The function called\n   *  per iteration. If a property name or object is provided it will be used\n   *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {*} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new array of elements that failed the callback check.\n   * @example\n   *\n   * var odds = _.reject([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n   * // => [1, 3, 5]\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36, 'blocked': false },\n   *   { 'name': 'fred',   'age': 40, 'blocked': true }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.reject(characters, 'blocked');\n   * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]\n   *\n   * // using \"_.where\" callback shorthand\n   * _.reject(characters, { 'age': 36 });\n   * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]\n   */\n  function reject(collection, callback, thisArg) {\n    callback = lodash.createCallback(callback, thisArg, 3);\n    return filter(collection, function(value, index, collection) {\n      return !callback(value, index, collection);\n    });\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a function that, when called, invokes `func` with the `this`\n   * binding of `thisArg` and prepends any additional `bind` arguments to those\n   * provided to the bound function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to bind.\n   * @param {*} [thisArg] The `this` binding of `func`.\n   * @param {...*} [arg] Arguments to be partially applied.\n   * @returns {Function} Returns the new bound function.\n   * @example\n   *\n   * var func = function(greeting) {\n   *   return greeting + ' ' + this.name;\n   * };\n   *\n   * func = _.bind(func, { 'name': 'fred' }, 'hi');\n   * func();\n   * // => 'hi fred'\n   */\n  function bind(func, thisArg) {\n    return arguments.length > 2\n      ? createWrapper(func, 17, slice(arguments, 2), null, thisArg)\n      : createWrapper(func, 1, null, null, thisArg);\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Produces a callback bound to an optional `thisArg`. If `func` is a property\n   * name the created callback will return the property value for a given element.\n   * If `func` is an object the created callback will return `true` for elements\n   * that contain the equivalent object properties, otherwise it will return `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {*} [func=identity] The value to convert to a callback.\n   * @param {*} [thisArg] The `this` binding of the created callback.\n   * @param {number} [argCount] The number of arguments the callback accepts.\n   * @returns {Function} Returns a callback function.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'barney', 'age': 36 },\n   *   { 'name': 'fred',   'age': 40 }\n   * ];\n   *\n   * // wrap to create custom callback shorthands\n   * _.createCallback = _.wrap(_.createCallback, function(func, callback, thisArg) {\n   *   var match = /^(.+?)__([gl]t)(.+)$/.exec(callback);\n   *   return !match ? func(callback, thisArg) : function(object) {\n   *     return match[2] == 'gt' ? object[match[1]] > match[3] : object[match[1]] < match[3];\n   *   };\n   * });\n   *\n   * _.filter(characters, 'age__gt38');\n   * // => [{ 'name': 'fred', 'age': 40 }]\n   */\n  function createCallback(func, thisArg, argCount) {\n    var type = typeof func;\n    if (func == null || type == 'function') {\n      return baseCreateCallback(func, thisArg, argCount);\n    }\n    // handle \"_.pluck\" style callback shorthands\n    if (type != 'object') {\n      return property(func);\n    }\n    var props = keys(func),\n        key = props[0],\n        a = func[key];\n\n    // handle \"_.where\" style callback shorthands\n    if (props.length == 1 && a === a && !isObject(a)) {\n      // fast path the common case of providing an object with a single\n      // property containing a primitive value\n      return function(object) {\n        var b = object[key];\n        return a === b && (a !== 0 || (1 / a == 1 / b));\n      };\n    }\n    return function(object) {\n      var length = props.length,\n          result = false;\n\n      while (length--) {\n        if (!(result = baseIsEqual(object[props[length]], func[props[length]], null, true))) {\n          break;\n        }\n      }\n      return result;\n    };\n  }\n\n  /**\n   * Converts the characters `&`, `<`, `>`, `\"`, and `'` in `string` to their\n   * corresponding HTML entities.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {string} string The string to escape.\n   * @returns {string} Returns the escaped string.\n   * @example\n   *\n   * _.escape('Fred, Wilma, & Pebbles');\n   * // => 'Fred, Wilma, &amp; Pebbles'\n   */\n  function escape(string) {\n    return string == null ? '' : String(string).replace(reUnescapedHtml, escapeHtmlChar);\n  }\n\n  /**\n   * This method returns the first argument provided to it.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {*} value Any value.\n   * @returns {*} Returns `value`.\n   * @example\n   *\n   * var object = { 'name': 'fred' };\n   * _.identity(object) === object;\n   * // => true\n   */\n  function identity(value) {\n    return value;\n  }\n\n  /**\n   * A no-operation function.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @example\n   *\n   * var object = { 'name': 'fred' };\n   * _.noop(object) === undefined;\n   * // => true\n   */\n  function noop() {\n    // no operation performed\n  }\n\n  /**\n   * Creates a \"_.pluck\" style function, which returns the `key` value of a\n   * given object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {string} key The name of the property to retrieve.\n   * @returns {Function} Returns the new function.\n   * @example\n   *\n   * var characters = [\n   *   { 'name': 'fred',   'age': 40 },\n   *   { 'name': 'barney', 'age': 36 }\n   * ];\n   *\n   * var getName = _.property('name');\n   *\n   * _.map(characters, getName);\n   * // => ['barney', 'fred']\n   *\n   * _.sortBy(characters, getName);\n   * // => [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred',   'age': 40 }]\n   */\n  function property(key) {\n    return function(object) {\n      return object[key];\n    };\n  }\n\n  /**\n   * A micro-templating method that handles arbitrary delimiters, preserves\n   * whitespace, and correctly escapes quotes within interpolated code.\n   *\n   * Note: In the development build, `_.template` utilizes sourceURLs for easier\n   * debugging. See http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl\n   *\n   * For more information on precompiling templates see:\n   * http://lodash.com/custom-builds\n   *\n   * For more information on Chrome extension sandboxes see:\n   * http://developer.chrome.com/stable/extensions/sandboxingEval.html\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {string} text The template text.\n   * @param {Object} data The data object used to populate the text.\n   * @param {Object} [options] The options object.\n   * @param {RegExp} [options.escape] The \"escape\" delimiter.\n   * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n   * @param {Object} [options.imports] An object to import into the template as local variables.\n   * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n   * @param {string} [sourceURL] The sourceURL of the template's compiled source.\n   * @param {string} [variable] The data object variable name.\n   * @returns {Function|string} Returns a compiled function when no `data` object\n   *  is given, else it returns the interpolated text.\n   * @example\n   *\n   * // using the \"interpolate\" delimiter to create a compiled template\n   * var compiled = _.template('hello <%= name %>');\n   * compiled({ 'name': 'fred' });\n   * // => 'hello fred'\n   *\n   * // using the \"escape\" delimiter to escape HTML in data property values\n   * _.template('<b><%- value %></b>', { 'value': '<script>' });\n   * // => '<b>&lt;script&gt;</b>'\n   *\n   * // using the \"evaluate\" delimiter to generate HTML\n   * var list = '<% _.forEach(people, function(name) { %><li><%- name %></li><% }); %>';\n   * _.template(list, { 'people': ['fred', 'barney'] });\n   * // => '<li>fred</li><li>barney</li>'\n   *\n   * // using the ES6 delimiter as an alternative to the default \"interpolate\" delimiter\n   * _.template('hello ${ name }', { 'name': 'pebbles' });\n   * // => 'hello pebbles'\n   *\n   * // using the internal `print` function in \"evaluate\" delimiters\n   * _.template('<% print(\"hello \" + name); %>!', { 'name': 'barney' });\n   * // => 'hello barney!'\n   *\n   * // using a custom template delimiters\n   * _.templateSettings = {\n   *   'interpolate': /{{([\\s\\S]+?)}}/g\n   * };\n   *\n   * _.template('hello {{ name }}!', { 'name': 'mustache' });\n   * // => 'hello mustache!'\n   *\n   * // using the `imports` option to import jQuery\n   * var list = '<% jq.each(people, function(name) { %><li><%- name %></li><% }); %>';\n   * _.template(list, { 'people': ['fred', 'barney'] }, { 'imports': { 'jq': jQuery } });\n   * // => '<li>fred</li><li>barney</li>'\n   *\n   * // using the `sourceURL` option to specify a custom sourceURL for the template\n   * var compiled = _.template('hello <%= name %>', null, { 'sourceURL': '/basic/greeting.jst' });\n   * compiled(data);\n   * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n   *\n   * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n   * var compiled = _.template('hi <%= data.name %>!', null, { 'variable': 'data' });\n   * compiled.source;\n   * // => function(data) {\n   *   var __t, __p = '', __e = _.escape;\n   *   __p += 'hi ' + ((__t = ( data.name )) == null ? '' : __t) + '!';\n   *   return __p;\n   * }\n   *\n   * // using the `source` property to inline compiled templates for meaningful\n   * // line numbers in error messages and a stack trace\n   * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n   *   var JST = {\\\n   *     \"main\": ' + _.template(mainText).source + '\\\n   *   };\\\n   * ');\n   */\n  function template(text, data, options) {\n    // based on John Resig's `tmpl` implementation\n    // http://ejohn.org/blog/javascript-micro-templating/\n    // and Laura Doktorova's doT.js\n    // https://github.com/olado/doT\n    var settings = lodash.templateSettings;\n    text = String(text || '');\n\n    // avoid missing dependencies when `iteratorTemplate` is not defined\n    options = defaults({}, options, settings);\n\n    var imports = defaults({}, options.imports, settings.imports),\n        importsKeys = keys(imports),\n        importsValues = values(imports);\n\n    var isEvaluating,\n        index = 0,\n        interpolate = options.interpolate || reNoMatch,\n        source = \"__p += '\";\n\n    // compile the regexp to match each delimiter\n    var reDelimiters = RegExp(\n      (options.escape || reNoMatch).source + '|' +\n      interpolate.source + '|' +\n      (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n      (options.evaluate || reNoMatch).source + '|$'\n    , 'g');\n\n    text.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n      interpolateValue || (interpolateValue = esTemplateValue);\n\n      // escape characters that cannot be included in string literals\n      source += text.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n      // replace delimiters with snippets\n      if (escapeValue) {\n        source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n      }\n      if (evaluateValue) {\n        isEvaluating = true;\n        source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n      }\n      if (interpolateValue) {\n        source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n      }\n      index = offset + match.length;\n\n      // the JS engine embedded in Adobe products requires returning the `match`\n      // string in order to produce the correct `offset` value\n      return match;\n    });\n\n    source += \"';\\n\";\n\n    // if `variable` is not specified, wrap a with-statement around the generated\n    // code to add the data object to the top of the scope chain\n    var variable = options.variable,\n        hasVariable = variable;\n\n    if (!hasVariable) {\n      variable = 'obj';\n      source = 'with (' + variable + ') {\\n' + source + '\\n}\\n';\n    }\n    // cleanup code by stripping empty strings\n    source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n      .replace(reEmptyStringMiddle, '$1')\n      .replace(reEmptyStringTrailing, '$1;');\n\n    // frame code as the function body\n    source = 'function(' + variable + ') {\\n' +\n      (hasVariable ? '' : variable + ' || (' + variable + ' = {});\\n') +\n      \"var __t, __p = '', __e = _.escape\" +\n      (isEvaluating\n        ? ', __j = Array.prototype.join;\\n' +\n          \"function print() { __p += __j.call(arguments, '') }\\n\"\n        : ';\\n'\n      ) +\n      source +\n      'return __p\\n}';\n\n    // Use a sourceURL for easier debugging.\n    // http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl\n    var sourceURL = '\\n/*\\n//# sourceURL=' + (options.sourceURL || '/lodash/template/source[' + (templateCounter++) + ']') + '\\n*/';\n\n    try {\n      var result = Function(importsKeys, 'return ' + source + sourceURL).apply(undefined, importsValues);\n    } catch(e) {\n      e.source = source;\n      throw e;\n    }\n    if (data) {\n      return result(data);\n    }\n    // provide the compiled function's source by its `toString` method, in\n    // supported environments, or the `source` property as a convenience for\n    // inlining compiled templates during the build process\n    result.source = source;\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  lodash.assign = assign;\n  lodash.bind = bind;\n  lodash.createCallback = createCallback;\n  lodash.defaults = defaults;\n  lodash.filter = filter;\n  lodash.forEach = forEach;\n  lodash.forIn = forIn;\n  lodash.forOwn = forOwn;\n  lodash.keys = keys;\n  lodash.property = property;\n  lodash.reject = reject;\n  lodash.values = values;\n\n  lodash.each = forEach;\n  lodash.extend = assign;\n  lodash.select = filter;\n\n  /*--------------------------------------------------------------------------*/\n\n  // add functions that return unwrapped values when chaining\n  lodash.clone = clone;\n  lodash.cloneDeep = cloneDeep;\n  lodash.escape = escape;\n  lodash.find = find;\n  lodash.identity = identity;\n  lodash.isArguments = isArguments;\n  lodash.isArray = isArray;\n  lodash.isFunction = isFunction;\n  lodash.isObject = isObject;\n  lodash.isString = isString;\n  lodash.noop = noop;\n  lodash.template = template;\n\n  lodash.detect = find;\n  lodash.findWhere = find;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The semantic version number.\n   *\n   * @static\n   * @memberOf _\n   * @type string\n   */\n  lodash.VERSION = '2.4.1';\n\n  /*--------------------------------------------------------------------------*/\n\n  if (freeExports && freeModule) {\n    // in Node.js or RingoJS\n    if (moduleExports) {\n      (freeModule.exports = lodash)._ = lodash;\n    }\n    // in Narwhal or Rhino -require\n    else {\n      freeExports._ = lodash;\n    }\n  }\n\n}.call(this));\n\n});\nrequire.register(\"side-comments/js/helpers/mobile-check.js\", function(exports, require, module){\nmodule.exports = function() {\n\tvar check = false;\n\t(function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4)))check = true})(navigator.userAgent||navigator.vendor||window.opera);\n\treturn check;\n}\n});\n\nrequire.register(\"side-comments/templates/section.html\", function(exports, require, module){\nmodule.exports = '<div class=\"side-comment <%= sectionClasses %>\">\\n  <a href=\"#\" class=\"marker\">\\n    <span><%= comments.length %></span>\\n  </a>\\n  \\n  <div class=\"comments-wrapper\">\\n    <ul class=\"comments\">\\n      <% _.each(comments, function( comment ){ %>\\n        <%= _.template(commentTemplate, { comment: comment, currentUser: currentUser }) %>\\n      <% }) %>\\n    </ul>\\n    \\n    <a href=\"#\" class=\"add-comment\">Leave a comment</a>\\n    \\n    <% if (currentUser){ %>\\n      <div class=\"comment-form\">\\n        <div class=\"author-avatar\">\\n          <img src=\"<%= currentUser.avatarUrl %>\">\\n        </div>\\n        <p class=\"author-name\">\\n          <%= currentUser.name %>\\n        </p>\\n        <div class=\"comment-box\" contenteditable=\"true\" data-placeholder-content=\"Leave a comment...\"></div>\\n        <div class=\"actions\">\\n          <a href=\"#\" class=\"action-link post\">Post</a>\\n          <a href=\"#\" class=\"action-link cancel\">Cancel</a>\\n        </div>\\n      </div>\\n    <% } %>\\n  </div>\\n</div>';\n});\nrequire.register(\"side-comments/templates/comment.html\", function(exports, require, module){\nmodule.exports = '<li data-comment-id=\"<%= comment.id %>\">\\n  <div class=\"author-avatar\">\\n    <img src=\"<%= comment.authorAvatarUrl %>\">\\n  </div>\\n  <p class=\"author-name\">\\n    <%= comment.authorName %>\\n  </p>\\n  <p class=\"comment\">\\n    <%= comment.comment %>\\n  </p>\\n  <% if (currentUser && comment.authorId === currentUser.id){ %>\\n  <a href=\"#\" class=\"action-link delete\">Delete</a>\\n  <% } %>\\n</li>';\n});\nrequire.alias(\"component-emitter/index.js\", \"side-comments/deps/emitter/index.js\");\nrequire.alias(\"component-emitter/index.js\", \"emitter/index.js\");\n\nrequire.alias(\"side-comments/js/main.js\", \"side-comments/index.js\");\n","/*global self, document, DOMException */\n\n/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */\n\n// Full polyfill for browsers with no classList support\nif (!(\"classList\" in document.createElement(\"_\"))) {\n  (function (view) {\n\n  \"use strict\";\n\n  if (!('Element' in view)) return;\n\n  var\n      classListProp = \"classList\"\n    , protoProp = \"prototype\"\n    , elemCtrProto = view.Element[protoProp]\n    , objCtr = Object\n    , strTrim = String[protoProp].trim || function () {\n      return this.replace(/^\\s+|\\s+$/g, \"\");\n    }\n    , arrIndexOf = Array[protoProp].indexOf || function (item) {\n      var\n          i = 0\n        , len = this.length\n      ;\n      for (; i < len; i++) {\n        if (i in this && this[i] === item) {\n          return i;\n        }\n      }\n      return -1;\n    }\n    // Vendors: please allow content code to instantiate DOMExceptions\n    , DOMEx = function (type, message) {\n      this.name = type;\n      this.code = DOMException[type];\n      this.message = message;\n    }\n    , checkTokenAndGetIndex = function (classList, token) {\n      if (token === \"\") {\n        throw new DOMEx(\n            \"SYNTAX_ERR\"\n          , \"An invalid or illegal string was specified\"\n        );\n      }\n      if (/\\s/.test(token)) {\n        throw new DOMEx(\n            \"INVALID_CHARACTER_ERR\"\n          , \"String contains an invalid character\"\n        );\n      }\n      return arrIndexOf.call(classList, token);\n    }\n    , ClassList = function (elem) {\n      var\n          trimmedClasses = strTrim.call(elem.getAttribute(\"class\") || \"\")\n        , classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : []\n        , i = 0\n        , len = classes.length\n      ;\n      for (; i < len; i++) {\n        this.push(classes[i]);\n      }\n      this._updateClassName = function () {\n        elem.setAttribute(\"class\", this.toString());\n      };\n    }\n    , classListProto = ClassList[protoProp] = []\n    , classListGetter = function () {\n      return new ClassList(this);\n    }\n  ;\n  // Most DOMException implementations don't allow calling DOMException's toString()\n  // on non-DOMExceptions. Error's toString() is sufficient here.\n  DOMEx[protoProp] = Error[protoProp];\n  classListProto.item = function (i) {\n    return this[i] || null;\n  };\n  classListProto.contains = function (token) {\n    token += \"\";\n    return checkTokenAndGetIndex(this, token) !== -1;\n  };\n  classListProto.add = function () {\n    var\n        tokens = arguments\n      , i = 0\n      , l = tokens.length\n      , token\n      , updated = false\n    ;\n    do {\n      token = tokens[i] + \"\";\n      if (checkTokenAndGetIndex(this, token) === -1) {\n        this.push(token);\n        updated = true;\n      }\n    }\n    while (++i < l);\n\n    if (updated) {\n      this._updateClassName();\n    }\n  };\n  classListProto.remove = function () {\n    var\n        tokens = arguments\n      , i = 0\n      , l = tokens.length\n      , token\n      , updated = false\n      , index\n    ;\n    do {\n      token = tokens[i] + \"\";\n      index = checkTokenAndGetIndex(this, token);\n      while (index !== -1) {\n        this.splice(index, 1);\n        updated = true;\n        index = checkTokenAndGetIndex(this, token);\n      }\n    }\n    while (++i < l);\n\n    if (updated) {\n      this._updateClassName();\n    }\n  };\n  classListProto.toggle = function (token, force) {\n    token += \"\";\n\n    var\n        result = this.contains(token)\n      , method = result ?\n        force !== true && \"remove\"\n      :\n        force !== false && \"add\"\n    ;\n\n    if (method) {\n      this[method](token);\n    }\n\n    if (force === true || force === false) {\n      return force;\n    } else {\n      return !result;\n    }\n  };\n  classListProto.toString = function () {\n    return this.join(\" \");\n  };\n\n  if (objCtr.defineProperty) {\n    var classListPropDesc = {\n        get: classListGetter\n      , enumerable: true\n      , configurable: true\n    };\n    try {\n      objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n    } catch (ex) { // IE 8 doesn't support enumerable:true\n      if (ex.number === -0x7FF5EC54) {\n        classListPropDesc.enumerable = false;\n        objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n      }\n    }\n  } else if (objCtr[protoProp].__defineGetter__) {\n    elemCtrProto.__defineGetter__(classListProp, classListGetter);\n  }\n\n  }(self));\n}\n\n/* Blob.js\n * A Blob implementation.\n * 2014-07-24\n *\n * By Eli Grey, http://eligrey.com\n * By Devin Samarin, https://github.com/dsamarin\n * License: X11/MIT\n *   See https://github.com/eligrey/Blob.js/blob/master/LICENSE.md\n */\n\n/*global self, unescape */\n/*jslint bitwise: true, regexp: true, confusion: true, es5: true, vars: true, white: true,\n  plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */\n\n(function (view) {\n  \"use strict\";\n\n  view.URL = view.URL || view.webkitURL;\n\n  if (view.Blob && view.URL) {\n    try {\n      new Blob;\n      return;\n    } catch (e) {}\n  }\n\n  // Internally we use a BlobBuilder implementation to base Blob off of\n  // in order to support older browsers that only have BlobBuilder\n  var BlobBuilder = view.BlobBuilder || view.WebKitBlobBuilder || view.MozBlobBuilder || (function(view) {\n    var\n        get_class = function(object) {\n        return Object.prototype.toString.call(object).match(/^\\[object\\s(.*)\\]$/)[1];\n      }\n      , FakeBlobBuilder = function BlobBuilder() {\n        this.data = [];\n      }\n      , FakeBlob = function Blob(data, type, encoding) {\n        this.data = data;\n        this.size = data.length;\n        this.type = type;\n        this.encoding = encoding;\n      }\n      , FBB_proto = FakeBlobBuilder.prototype\n      , FB_proto = FakeBlob.prototype\n      , FileReaderSync = view.FileReaderSync\n      , FileException = function(type) {\n        this.code = this[this.name = type];\n      }\n      , file_ex_codes = (\n          \"NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR \"\n        + \"NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR\"\n      ).split(\" \")\n      , file_ex_code = file_ex_codes.length\n      , real_URL = view.URL || view.webkitURL || view\n      , real_create_object_URL = real_URL.createObjectURL\n      , real_revoke_object_URL = real_URL.revokeObjectURL\n      , URL = real_URL\n      , btoa = view.btoa\n      , atob = view.atob\n\n      , ArrayBuffer = view.ArrayBuffer\n      , Uint8Array = view.Uint8Array\n\n      , origin = /^[\\w-]+:\\/*\\[?[\\w\\.:-]+\\]?(?::[0-9]+)?/\n    ;\n    FakeBlob.fake = FB_proto.fake = true;\n    while (file_ex_code--) {\n      FileException.prototype[file_ex_codes[file_ex_code]] = file_ex_code + 1;\n    }\n    // Polyfill URL\n    if (!real_URL.createObjectURL) {\n      URL = view.URL = function(uri) {\n        var\n            uri_info = document.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n          , uri_origin\n        ;\n        uri_info.href = uri;\n        if (!(\"origin\" in uri_info)) {\n          if (uri_info.protocol.toLowerCase() === \"data:\") {\n            uri_info.origin = null;\n          } else {\n            uri_origin = uri.match(origin);\n            uri_info.origin = uri_origin && uri_origin[1];\n          }\n        }\n        return uri_info;\n      };\n    }\n    URL.createObjectURL = function(blob) {\n      var\n          type = blob.type\n        , data_URI_header\n      ;\n      if (type === null) {\n        type = \"application/octet-stream\";\n      }\n      if (blob instanceof FakeBlob) {\n        data_URI_header = \"data:\" + type;\n        if (blob.encoding === \"base64\") {\n          return data_URI_header + \";base64,\" + blob.data;\n        } else if (blob.encoding === \"URI\") {\n          return data_URI_header + \",\" + decodeURIComponent(blob.data);\n        } if (btoa) {\n          return data_URI_header + \";base64,\" + btoa(blob.data);\n        } else {\n          return data_URI_header + \",\" + encodeURIComponent(blob.data);\n        }\n      } else if (real_create_object_URL) {\n        return real_create_object_URL.call(real_URL, blob);\n      }\n    };\n    URL.revokeObjectURL = function(object_URL) {\n      if (object_URL.substring(0, 5) !== \"data:\" && real_revoke_object_URL) {\n        real_revoke_object_URL.call(real_URL, object_URL);\n      }\n    };\n    FBB_proto.append = function(data/*, endings*/) {\n      var bb = this.data;\n      // decode data to a binary string\n      if (Uint8Array && (data instanceof ArrayBuffer || data instanceof Uint8Array)) {\n        var\n            str = \"\"\n          , buf = new Uint8Array(data)\n          , i = 0\n          , buf_len = buf.length\n        ;\n        for (; i < buf_len; i++) {\n          str += String.fromCharCode(buf[i]);\n        }\n        bb.push(str);\n      } else if (get_class(data) === \"Blob\" || get_class(data) === \"File\") {\n        if (FileReaderSync) {\n          var fr = new FileReaderSync;\n          bb.push(fr.readAsBinaryString(data));\n        } else {\n          // async FileReader won't work as BlobBuilder is sync\n          throw new FileException(\"NOT_READABLE_ERR\");\n        }\n      } else if (data instanceof FakeBlob) {\n        if (data.encoding === \"base64\" && atob) {\n          bb.push(atob(data.data));\n        } else if (data.encoding === \"URI\") {\n          bb.push(decodeURIComponent(data.data));\n        } else if (data.encoding === \"raw\") {\n          bb.push(data.data);\n        }\n      } else {\n        if (typeof data !== \"string\") {\n          data += \"\"; // convert unsupported types to strings\n        }\n        // decode UTF-16 to binary string\n        bb.push(unescape(encodeURIComponent(data)));\n      }\n    };\n    FBB_proto.getBlob = function(type) {\n      if (!arguments.length) {\n        type = null;\n      }\n      return new FakeBlob(this.data.join(\"\"), type, \"raw\");\n    };\n    FBB_proto.toString = function() {\n      return \"[object BlobBuilder]\";\n    };\n    FB_proto.slice = function(start, end, type) {\n      var args = arguments.length;\n      if (args < 3) {\n        type = null;\n      }\n      return new FakeBlob(\n          this.data.slice(start, args > 1 ? end : this.data.length)\n        , type\n        , this.encoding\n      );\n    };\n    FB_proto.toString = function() {\n      return \"[object Blob]\";\n    };\n    FB_proto.close = function() {\n      this.size = 0;\n      delete this.data;\n    };\n    return FakeBlobBuilder;\n  }(view));\n\n  view.Blob = function(blobParts, options) {\n    var type = options ? (options.type || \"\") : \"\";\n    var builder = new BlobBuilder();\n    if (blobParts) {\n      for (var i = 0, len = blobParts.length; i < len; i++) {\n        if (Uint8Array && blobParts[i] instanceof Uint8Array) {\n          builder.append(blobParts[i].buffer);\n        }\n        else {\n          builder.append(blobParts[i]);\n        }\n      }\n    }\n    var blob = builder.getBlob(type);\n    if (!blob.slice && blob.webkitSlice) {\n      blob.slice = blob.webkitSlice;\n    }\n    return blob;\n  };\n\n  var getPrototypeOf = Object.getPrototypeOf || function(object) {\n    return object.__proto__;\n  };\n  view.Blob.prototype = getPrototypeOf(new view.Blob());\n}(typeof self !== \"undefined\" && self || typeof window !== \"undefined\" && window || this.content || this));\n\n(function (root, factory) {\n    'use strict';\n    if (typeof module === 'object') {\n        module.exports = factory;\n    } else if (typeof define === 'function' && define.amd) {\n        define(function () {\n            return factory;\n        });\n    } else {\n        root.MediumEditor = factory;\n    }\n}(this, function () {\n\n    'use strict';\n\nvar Util;\n\n(function (window, document) {\n    'use strict';\n\n    function copyInto(dest, source, overwrite) {\n        var prop;\n        dest = dest || {};\n        for (prop in source) {\n            if (source.hasOwnProperty(prop) && (overwrite || dest.hasOwnProperty(prop) === false)) {\n                dest[prop] = source[prop];\n            }\n        }\n        return dest;\n    }\n\n    Util = {\n\n        // http://stackoverflow.com/questions/17907445/how-to-detect-ie11#comment30165888_17907562\n        // by rg89\n        isIE: ((navigator.appName === 'Microsoft Internet Explorer') || ((navigator.appName === 'Netscape') && (new RegExp('Trident/.*rv:([0-9]{1,}[.0-9]{0,})').exec(navigator.userAgent) !== null))),\n\n        // https://github.com/jashkenas/underscore\n        keyCode: {\n            BACKSPACE: 8,\n            TAB: 9,\n            ENTER: 13,\n            ESCAPE: 27,\n            SPACE: 32,\n            DELETE: 46\n        },\n\n        parentElements: ['p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'blockquote', 'pre'],\n\n        defaults: function defaults(dest, source) {\n            return copyInto(dest, source);\n        },\n\n        derives: function derives(base, derived) {\n            var origPrototype = derived.prototype;\n            function Proto() { }\n            Proto.prototype = base.prototype;\n            derived.prototype = new Proto();\n            derived.prototype.constructor = base;\n            derived.prototype = copyInto(derived.prototype, origPrototype);\n            return derived;\n        },\n\n        // Find the next node in the DOM tree that represents any text that is being\n        // displayed directly next to the targetNode (passed as an argument)\n        // Text that appears directly next to the current node can be:\n        //  - A sibling text node\n        //  - A descendant of a sibling element\n        //  - A sibling text node of an ancestor\n        //  - A descendant of a sibling element of an ancestor\n        findAdjacentTextNodeWithContent: function findAdjacentTextNodeWithContent(rootNode, targetNode, ownerDocument) {\n            var pastTarget = false,\n                nextNode,\n                nodeIterator = ownerDocument.createNodeIterator(rootNode, NodeFilter.SHOW_TEXT, null, false);\n\n            // Use a native NodeIterator to iterate over all the text nodes that are descendants\n            // of the rootNode.  Once past the targetNode, choose the first non-empty text node\n            nextNode = nodeIterator.nextNode();\n            while (nextNode) {\n                if (nextNode === targetNode) {\n                    pastTarget = true;\n                } else if (pastTarget) {\n                    if (nextNode.nodeType === 3 && nextNode.nodeValue && nextNode.nodeValue.trim().length > 0) {\n                        break;\n                    }\n                }\n                nextNode = nodeIterator.nextNode();\n            }\n\n            return nextNode;\n        },\n\n        isDescendant: function isDescendant(parent, child) {\n            if (!parent || !child) {\n                return false;\n            }\n            var node = child.parentNode;\n            while (node !== null) {\n                if (node === parent) {\n                    return true;\n                }\n                node = node.parentNode;\n            }\n            return false;\n        },\n\n        // https://github.com/jashkenas/underscore\n        isElement: function isElement(obj) {\n            return !!(obj && obj.nodeType === 1);\n        },\n\n        now: function now() {\n            return Date.now() || new Date().getTime();\n        },\n\n        // https://github.com/jashkenas/underscore\n        throttle: function (func, wait) {\n            var THROTTLE_INTERVAL = 50,\n                context,\n                args,\n                result,\n                timeout = null,\n                previous = 0,\n                later = function () {\n                    previous = Util.now();\n                    timeout = null;\n                    result = func.apply(context, args);\n                    if (!timeout) {\n                        context = args = null;\n                    }\n                };\n\n            if (!wait && wait !== 0) {\n                wait = THROTTLE_INTERVAL;\n            }\n\n            return function () {\n                var now = Util.now(),\n                    remaining = wait - (now - previous);\n\n                context = this;\n                args = arguments;\n                if (remaining <= 0 || remaining > wait) {\n                    if (timeout) {\n                        clearTimeout(timeout);\n                        timeout = null;\n                    }\n                    previous = now;\n                    result = func.apply(context, args);\n                    if (!timeout) {\n                        context = args = null;\n                    }\n                } else if (!timeout) {\n                    timeout = setTimeout(later, remaining);\n                }\n                return result;\n            };\n        },\n\n        traverseUp: function (current, testElementFunction) {\n\n            do {\n                if (current.nodeType === 1) {\n                    if (testElementFunction(current)) {\n                        return current;\n                    }\n                    // do not traverse upwards past the nearest containing editor\n                    if (current.getAttribute('data-medium-element')) {\n                        return false;\n                    }\n                }\n\n                current = current.parentNode;\n            } while (current);\n\n            return false;\n\n        },\n\n        htmlEntities: function (str) {\n            // converts special characters (like <) into their escaped/encoded values (like &lt;).\n            // This allows you to show to display the string without the browser reading it as HTML.\n            return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n        },\n\n        // http://stackoverflow.com/questions/6690752/insert-html-at-caret-in-a-contenteditable-div\n        insertHTMLCommand: function (doc, html) {\n            var selection, range, el, fragment, node, lastNode, toReplace;\n\n            if (doc.queryCommandSupported('insertHTML')) {\n                try {\n                    return doc.execCommand('insertHTML', false, html);\n                } catch (ignore) {}\n            }\n\n            selection = doc.defaultView.getSelection();\n            if (selection.getRangeAt && selection.rangeCount) {\n                range = selection.getRangeAt(0);\n                toReplace = range.commonAncestorContainer;\n                // Ensure range covers maximum amount of nodes as possible\n                // By moving up the DOM and selecting ancestors whose only child is the range\n                if ((toReplace.nodeType === 3 && toReplace.nodeValue === range.toString()) ||\n                        (toReplace.nodeType !== 3 && toReplace.innerHTML === range.toString())) {\n                    while (toReplace.parentNode &&\n                            toReplace.parentNode.childNodes.length === 1 &&\n                            !toReplace.parentNode.getAttribute('data-medium-element')) {\n                        toReplace = toReplace.parentNode;\n                    }\n                    range.selectNode(toReplace);\n                }\n                range.deleteContents();\n\n                el = doc.createElement(\"div\");\n                el.innerHTML = html;\n                fragment = doc.createDocumentFragment();\n                while (el.firstChild) {\n                    node = el.firstChild;\n                    lastNode = fragment.appendChild(node);\n                }\n                range.insertNode(fragment);\n\n                // Preserve the selection:\n                if (lastNode) {\n                    range = range.cloneRange();\n                    range.setStartAfter(lastNode);\n                    range.collapse(true);\n                    selection.removeAllRanges();\n                    selection.addRange(range);\n                }\n            }\n        },\n\n        getSelectionRange: function (ownerDocument) {\n            var selection = ownerDocument.getSelection();\n            if (selection.rangeCount === 0) {\n                return null;\n            }\n            return selection.getRangeAt(0);\n        },\n\n        // http://stackoverflow.com/questions/1197401/how-can-i-get-the-element-the-caret-is-in-with-javascript-when-using-contentedi\n        // by You\n        getSelectionStart: function (ownerDocument) {\n            var node = ownerDocument.getSelection().anchorNode,\n                startNode = (node && node.nodeType === 3 ? node.parentNode : node);\n            return startNode;\n        },\n\n        getSelectionData: function (el) {\n            var tagName;\n\n            if (el && el.tagName) {\n                tagName = el.tagName.toLowerCase();\n            }\n\n            while (el && this.parentElements.indexOf(tagName) === -1) {\n                el = el.parentNode;\n                if (el && el.tagName) {\n                    tagName = el.tagName.toLowerCase();\n                }\n            }\n\n            return {\n                el: el,\n                tagName: tagName\n            };\n        },\n\n        execFormatBlock: function (doc, tagName) {\n            var selectionData = this.getSelectionData(this.getSelectionStart(doc));\n            // FF handles blockquote differently on formatBlock\n            // allowing nesting, we need to use outdent\n            // https://developer.mozilla.org/en-US/docs/Rich-Text_Editing_in_Mozilla\n            if (tagName === 'blockquote' && selectionData.el &&\n                    selectionData.el.parentNode.tagName.toLowerCase() === 'blockquote') {\n                return doc.execCommand('outdent', false, null);\n            }\n            if (selectionData.tagName === tagName) {\n                tagName = 'p';\n            }\n            // When IE we need to add <> to heading elements and\n            //  blockquote needs to be called as indent\n            // http://stackoverflow.com/questions/10741831/execcommand-formatblock-headings-in-ie\n            // http://stackoverflow.com/questions/1816223/rich-text-editor-with-blockquote-function/1821777#1821777\n            if (this.isIE) {\n                if (tagName === 'blockquote') {\n                    return doc.execCommand('indent', false, tagName);\n                }\n                tagName = '<' + tagName + '>';\n            }\n            return doc.execCommand('formatBlock', false, tagName);\n        },\n\n        // TODO: not sure if this should be here\n        setTargetBlank: function (el) {\n            var i;\n            if (el.tagName.toLowerCase() === 'a') {\n                el.target = '_blank';\n            } else {\n                el = el.getElementsByTagName('a');\n\n                for (i = 0; i < el.length; i += 1) {\n                    el[i].target = '_blank';\n                }\n            }\n        },\n\n        addClassToAnchors: function (el, buttonClass) {\n            var classes = buttonClass.split(' '),\n                i,\n                j;\n            if (el.tagName.toLowerCase() === 'a') {\n                for (j = 0; j < classes.length; j += 1) {\n                    el.classList.add(classes[j]);\n                }\n            } else {\n                el = el.getElementsByTagName('a');\n                for (i = 0; i < el.length; i += 1) {\n                    for (j = 0; j < classes.length; j += 1) {\n                        el[i].classList.add(classes[j]);\n                    }\n                }\n            }\n        },\n\n        isListItem: function (node) {\n            if (!node) {\n                return false;\n            }\n            if (node.tagName.toLowerCase() === 'li') {\n                return true;\n            }\n\n            var parentNode = node.parentNode,\n                tagName = parentNode.tagName.toLowerCase();\n            while (this.parentElements.indexOf(tagName) === -1 && tagName !== 'div') {\n                if (tagName === 'li') {\n                    return true;\n                }\n                parentNode = parentNode.parentNode;\n                if (parentNode && parentNode.tagName) {\n                    tagName = parentNode.tagName.toLowerCase();\n                } else {\n                    return false;\n                }\n            }\n            return false;\n        },\n\n        cleanListDOM: function (element) {\n            if (element.tagName.toLowerCase() === 'li') {\n                var list = element.parentElement;\n                if (list.parentElement.tagName.toLowerCase() === 'p') { // yes we need to clean up\n                    this.unwrapElement(list.parentElement);\n                }\n            }\n        },\n\n        unwrapElement: function (element) {\n            var parent = element.parentNode,\n                current = element.firstChild,\n                next;\n            do {\n                next = current.nextSibling;\n                parent.insertBefore(current, element);\n                current = next;\n            } while (current);\n            parent.removeChild(element);\n        },\n\n        deprecatedMethod: function (oldName, newName, args) {\n            // Thanks IE9, you're the best\n            if (window.console !== undefined) {\n                console.warn(oldName +\n                    ' is deprecated and will be removed, please use ' +\n                    newName +\n                    ' instead');\n            }\n            if (typeof this[newName] === 'function') {\n                this[newName].apply(this, args);\n            }\n        }\n    };\n}(window, document));\n\nvar Selection;\n\n(function (window, document) {\n    'use strict';\n\n    Selection = {\n        findMatchingSelectionParent: function (testElementFunction, contentWindow) {\n            var selection = contentWindow.getSelection(), range, current;\n\n            if (selection.rangeCount === 0) {\n                return false;\n            }\n\n            range = selection.getRangeAt(0);\n            current = range.commonAncestorContainer;\n\n            return Util.traverseUp(current, testElementFunction);\n        },\n\n        getSelectionElement: function (contentWindow) {\n            return this.findMatchingSelectionParent(function (el) {\n                return el.getAttribute('data-medium-element');\n            }, contentWindow);\n        },\n\n        selectionInContentEditableFalse: function (contentWindow) {\n            return this.findMatchingSelectionParent(function (el) {\n                return (el && el.nodeName !== '#text' && el.getAttribute('contenteditable') === 'false');\n            }, contentWindow);\n        },\n\n        // http://stackoverflow.com/questions/4176923/html-of-selected-text\n        // by Tim Down\n        getSelectionHtml: function getSelectionHtml() {\n            var i,\n                html = '',\n                sel = this.options.contentWindow.getSelection(),\n                len,\n                container;\n            if (sel.rangeCount) {\n                container = this.options.ownerDocument.createElement('div');\n                for (i = 0, len = sel.rangeCount; i < len; i += 1) {\n                    container.appendChild(sel.getRangeAt(i).cloneContents());\n                }\n                html = container.innerHTML;\n            }\n            return html;\n        },\n\n        /**\n         *  Find the caret position within an element irrespective of any inline tags it may contain.\n         *\n         *  @param {DOMElement} An element containing the cursor to find offsets relative to.\n         *  @param {Range} A Range representing cursor position. Will window.getSelection if none is passed.\n         *  @return {Object} 'left' and 'right' attributes contain offsets from begining and end of Element\n         */\n        getCaretOffsets: function getCaretOffsets(element, range) {\n            var preCaretRange, postCaretRange;\n\n            if (!range) {\n                range = window.getSelection().getRangeAt(0);\n            }\n\n            preCaretRange = range.cloneRange();\n            postCaretRange = range.cloneRange();\n\n            preCaretRange.selectNodeContents(element);\n            preCaretRange.setEnd(range.endContainer, range.endOffset);\n\n            postCaretRange.selectNodeContents(element);\n            postCaretRange.setStart(range.endContainer, range.endOffset);\n\n            return {\n                left: preCaretRange.toString().length,\n                right: postCaretRange.toString().length\n            };\n        },\n\n        // http://stackoverflow.com/questions/15867542/range-object-get-selection-parent-node-chrome-vs-firefox\n        rangeSelectsSingleNode: function (range) {\n            var startNode = range.startContainer;\n            return startNode === range.endContainer &&\n                startNode.hasChildNodes() &&\n                range.endOffset === range.startOffset + 1;\n        },\n\n        getSelectedParentElement: function (range) {\n            var selectedParentElement = null;\n            if (this.rangeSelectsSingleNode(range) && range.startContainer.childNodes[range.startOffset].nodeType !== 3) {\n                selectedParentElement = range.startContainer.childNodes[range.startOffset];\n            } else if (range.startContainer.nodeType === 3) {\n                selectedParentElement = range.startContainer.parentNode;\n            } else {\n                selectedParentElement = range.startContainer;\n            }\n            return selectedParentElement;\n        }\n    };\n}(document, window));\n\nvar Events;\n\n(function (window, document) {\n    'use strict';\n\n    Events = function (instance) {\n        this.base = instance;\n        this.options = this.base.options;\n        this.events = [];\n        this.customEvents = {};\n        this.listeners = {};\n    };\n\n    Events.prototype = {\n\n        // Helpers for event handling\n\n        attachDOMEvent: function (target, event, listener, useCapture) {\n            target.addEventListener(event, listener, useCapture);\n            this.events.push([target, event, listener, useCapture]);\n        },\n\n        detachDOMEvent: function (target, event, listener, useCapture) {\n            var index = this.indexOfListener(target, event, listener, useCapture),\n                e;\n            if (index !== -1) {\n                e = this.events.splice(index, 1)[0];\n                e[0].removeEventListener(e[1], e[2], e[3]);\n            }\n        },\n\n        indexOfListener: function (target, event, listener, useCapture) {\n            var i, n, item;\n            for (i = 0, n = this.events.length; i < n; i = i + 1) {\n                item = this.events[i];\n                if (item[0] === target && item[1] === event && item[2] === listener && item[3] === useCapture) {\n                    return i;\n                }\n            }\n            return -1;\n        },\n\n        detachAllDOMEvents: function () {\n            var e = this.events.pop();\n            while (e) {\n                e[0].removeEventListener(e[1], e[2], e[3]);\n                e = this.events.pop();\n            }\n        },\n\n        // custom events\n        attachCustomEvent: function (event, handler) {\n            this.setupListener(event);\n            // If we don't suppot this custom event, don't do anything\n            if (this.listeners[event]) {\n                if (!this.customEvents[event]) {\n                    this.customEvents[event] = [];\n                }\n                this.customEvents[event].push(handler);\n            }\n        },\n\n        triggerCustomEvent: function (name, data, editable) {\n            if (this.customEvents[name]) {\n                this.customEvents[name].forEach(function (handler) {\n                    handler(data, editable);\n                });\n            }\n        },\n\n        // Listening to browser events to emit events medium-editor cares about\n\n        setupListener: function (name) {\n            if (this.listeners[name]) {\n                return;\n            }\n\n            switch (name) {\n            case 'externalInteraction':\n                // Detecting when focus is lost\n                this.attachDOMEvent(this.options.ownerDocument.body, 'click', this.handleInteraction.bind(this), true);\n                this.attachDOMEvent(this.options.ownerDocument.body, 'focus', this.handleInteraction.bind(this), true);\n                this.listeners[name] = true;\n                break;\n            case 'editableClick':\n                // Detecting click in the contenteditables\n                this.base.elements.forEach(function (element) {\n                    this.attachDOMEvent(element, 'click', this.handleClick.bind(this));\n                }.bind(this));\n                this.listeners[name] = true;\n                break;\n            case 'editableBlur':\n                // Detecting blur in the contenteditables\n                this.base.elements.forEach(function (element) {\n                    this.attachDOMEvent(element, 'blur', this.handleBlur.bind(this));\n                }.bind(this));\n                this.listeners[name] = true;\n                break;\n            case 'editableKeypress':\n                // Detecting keypress in the contenteditables\n                this.base.elements.forEach(function (element) {\n                    this.attachDOMEvent(element, 'keypress', this.handleKeypress.bind(this));\n                }.bind(this));\n                this.listeners[name] = true;\n                break;\n            case 'editableKeydown':\n                // Detecting keydown on the contenteditables\n                this.base.elements.forEach(function (element) {\n                    this.attachDOMEvent(element, 'keydown', this.handleKeydown.bind(this));\n                }.bind(this));\n                this.listeners[name] = true;\n                break;\n            case 'editableKeydownEnter':\n                // Detecting keydown for ENTER on the contenteditables\n                this.setupListener('editableKeydown');\n                this.listeners[name] = true;\n                break;\n            case 'editableKeydownTab':\n                // Detecting keydown for TAB on the contenteditable\n                this.setupListener('editableKeydown');\n                this.listeners[name] = true;\n                break;\n            case 'editableKeydownDelete':\n                // Detecting keydown for DELETE/BACKSPACE on the contenteditables\n                this.setupListener('editableKeydown');\n                this.listeners[name] = true;\n                break;\n            case 'editableMouseover':\n                // Detecting mouseover on the contenteditables\n                this.base.elements.forEach(function (element) {\n                    this.attachDOMEvent(element, 'mouseover', this.handleMouseover.bind(this));\n                }.bind(this));\n                this.listeners[name] = true;\n                break;\n            case 'editableDrag':\n                // Detecting dragover and dragleave on the contenteditables\n                this.base.elements.forEach(function (element) {\n                    this.attachDOMEvent(element, 'dragover', this.handleDragging.bind(this));\n                    this.attachDOMEvent(element, 'dragleave', this.handleDragging.bind(this));\n                }.bind(this));\n                this.listeners[name] = true;\n                break;\n            case 'editableDrop':\n                // Detecting drop on the contenteditables\n                this.base.elements.forEach(function (element) {\n                    this.attachDOMEvent(element, 'drop', this.handleDrop.bind(this));\n                }.bind(this));\n                this.listeners[name] = true;\n                break;\n            case 'editablePaste':\n                // Detecting paste on the contenteditables\n                this.base.elements.forEach(function (element) {\n                    this.attachDOMEvent(element, 'paste', this.handlePaste.bind(this));\n                }.bind(this));\n                this.listeners[name] = true;\n                break;\n            }\n        },\n\n        handleInteraction: function (event) {\n            var isDescendantOfEditorElements = false,\n                selection = this.options.contentWindow.getSelection(),\n                toolbarEl = (this.base.toolbar) ? this.base.toolbar.getToolbarElement() : null,\n                anchorPreview = this.base.getExtensionByName('anchor-preview'),\n                previewEl = (anchorPreview && anchorPreview.getPreviewElement) ? anchorPreview.getPreviewElement() : null,\n                selRange = selection.isCollapsed ?\n                           null :\n                           Selection.getSelectedParentElement(selection.getRangeAt(0)),\n                i;\n\n            // This control was introduced also to avoid the toolbar\n            // to disapper when selecting from right to left and\n            // the selection ends at the beginning of the text.\n            for (i = 0; i < this.base.elements.length; i += 1) {\n                if (this.base.elements[i] === event.target\n                        || Util.isDescendant(this.base.elements[i], event.target)\n                        || Util.isDescendant(this.base.elements[i], selRange)) {\n                    isDescendantOfEditorElements = true;\n                    break;\n                }\n            }\n            // If it's not part of the editor, toolbar, or anchor preview\n            if (!isDescendantOfEditorElements\n                    && (!toolbarEl || (toolbarEl !== event.target && !Util.isDescendant(toolbarEl, event.target)))\n                    && (!previewEl || (previewEl !== event.target && !Util.isDescendant(previewEl, event.target)))) {\n                this.triggerCustomEvent('externalInteraction', event);\n            }\n        },\n\n        handleClick: function (event) {\n            this.triggerCustomEvent('editableClick', event, event.currentTarget);\n        },\n\n        handleBlur: function (event) {\n            this.triggerCustomEvent('editableBlur', event, event.currentTarget);\n        },\n\n        handleKeypress: function (event) {\n            this.triggerCustomEvent('editableKeypress', event, event.currentTarget);\n        },\n\n        handleMouseover: function (event) {\n            this.triggerCustomEvent('editableMouseover', event, event.currentTarget);\n        },\n\n        handleDragging: function (event) {\n            this.triggerCustomEvent('editableDrag', event, event.currentTarget);\n        },\n\n        handleDrop: function (event) {\n            this.triggerCustomEvent('editableDrop', event, event.currentTarget);\n        },\n\n        handlePaste: function (event) {\n            this.triggerCustomEvent('editablePaste', event, event.currentTarget);\n        },\n\n        handleKeydown: function (event) {\n            this.triggerCustomEvent('editableKeydown', event, event.currentTarget);\n\n            switch (event.which) {\n            case Util.keyCode.ENTER:\n                this.triggerCustomEvent('editableKeydownEnter', event, event.currentTarget);\n                break;\n            case Util.keyCode.TAB:\n                this.triggerCustomEvent('editableKeydownTab', event, event.currentTarget);\n                break;\n            case Util.keyCode.DELETE:\n            case Util.keyCode.BACKSPACE:\n                this.triggerCustomEvent('editableKeydownDelete', event, event.currentTarget);\n                break;\n            }\n        }\n    };\n\n}(window, document));\nvar DefaultButton,\n    ButtonsData;\n\n(function (window, document) {\n    'use strict';\n\n    ButtonsData = {\n        'bold': {\n            name: 'bold',\n            action: 'bold',\n            aria: 'bold',\n            tagNames: ['b', 'strong'],\n            style: {\n                prop: 'font-weight',\n                value: '700|bold'\n            },\n            useQueryState: true,\n            contentDefault: '<b>B</b>',\n            contentFA: '<i class=\"fa fa-bold\"></i>',\n            key: 'b'\n        },\n        'italic': {\n            name: 'italic',\n            action: 'italic',\n            aria: 'italic',\n            tagNames: ['i', 'em'],\n            style: {\n                prop: 'font-style',\n                value: 'italic'\n            },\n            useQueryState: true,\n            contentDefault: '<b><i>I</i></b>',\n            contentFA: '<i class=\"fa fa-italic\"></i>',\n            key: 'i'\n        },\n        'underline': {\n            name: 'underline',\n            action: 'underline',\n            aria: 'underline',\n            tagNames: ['u'],\n            style: {\n                prop: 'text-decoration',\n                value: 'underline'\n            },\n            useQueryState: true,\n            contentDefault: '<b><u>U</u></b>',\n            contentFA: '<i class=\"fa fa-underline\"></i>',\n            key: 'u'\n        },\n        'strikethrough': {\n            name: 'strikethrough',\n            action: 'strikethrough',\n            aria: 'strike through',\n            tagNames: ['strike'],\n            style: {\n                prop: 'text-decoration',\n                value: 'line-through'\n            },\n            useQueryState: true,\n            contentDefault: '<s>A</s>',\n            contentFA: '<i class=\"fa fa-strikethrough\"></i>'\n        },\n        'superscript': {\n            name: 'superscript',\n            action: 'superscript',\n            aria: 'superscript',\n            tagNames: ['sup'],\n            /* firefox doesn't behave the way we want it to, so we CAN'T use queryCommandState for superscript\n               https://github.com/guardian/scribe/blob/master/BROWSERINCONSISTENCIES.md#documentquerycommandstate */\n            // useQueryState: true\n            contentDefault: '<b>x<sup>1</sup></b>',\n            contentFA: '<i class=\"fa fa-superscript\"></i>'\n        },\n        'subscript': {\n            name: 'subscript',\n            action: 'subscript',\n            aria: 'subscript',\n            tagNames: ['sub'],\n            /* firefox doesn't behave the way we want it to, so we CAN'T use queryCommandState for subscript\n               https://github.com/guardian/scribe/blob/master/BROWSERINCONSISTENCIES.md#documentquerycommandstate */\n            // useQueryState: true\n            contentDefault: '<b>x<sub>1</sub></b>',\n            contentFA: '<i class=\"fa fa-subscript\"></i>'\n        },\n        'image': {\n            name: 'image',\n            action: 'image',\n            aria: 'image',\n            tagNames: ['img'],\n            contentDefault: '<b>image</b>',\n            contentFA: '<i class=\"fa fa-picture-o\"></i>'\n        },\n        'quote': {\n            name: 'quote',\n            action: 'append-blockquote',\n            aria: 'blockquote',\n            tagNames: ['blockquote'],\n            contentDefault: '<b>&ldquo;</b>',\n            contentFA: '<i class=\"fa fa-quote-right\"></i>'\n        },\n        'orderedlist': {\n            name: 'orderedlist',\n            action: 'insertorderedlist',\n            aria: 'ordered list',\n            tagNames: ['ol'],\n            useQueryState: true,\n            contentDefault: '<b>1.</b>',\n            contentFA: '<i class=\"fa fa-list-ol\"></i>'\n        },\n        'unorderedlist': {\n            name: 'unorderedlist',\n            action: 'insertunorderedlist',\n            aria: 'unordered list',\n            tagNames: ['ul'],\n            useQueryState: true,\n            contentDefault: '<b>&bull;</b>',\n            contentFA: '<i class=\"fa fa-list-ul\"></i>'\n        },\n        'pre': {\n            name: 'pre',\n            action: 'append-pre',\n            aria: 'preformatted text',\n            tagNames: ['pre'],\n            contentDefault: '<b>0101</b>',\n            contentFA: '<i class=\"fa fa-code fa-lg\"></i>'\n        },\n        'indent': {\n            name: 'indent',\n            action: 'indent',\n            aria: 'indent',\n            tagNames: [],\n            contentDefault: '<b>&rarr;</b>',\n            contentFA: '<i class=\"fa fa-indent\"></i>'\n        },\n        'outdent': {\n            name: 'outdent',\n            action: 'outdent',\n            aria: 'outdent',\n            tagNames: [],\n            contentDefault: '<b>&larr;</b>',\n            contentFA: '<i class=\"fa fa-outdent\"></i>'\n        },\n        'justifyCenter': {\n            name: 'justifyCenter',\n            action: 'justifyCenter',\n            aria: 'center justify',\n            tagNames: [],\n            style: {\n                prop: 'text-align',\n                value: 'center'\n            },\n            useQueryState: true,\n            contentDefault: '<b>C</b>',\n            contentFA: '<i class=\"fa fa-align-center\"></i>'\n        },\n        'justifyFull': {\n            name: 'justifyFull',\n            action: 'justifyFull',\n            aria: 'full justify',\n            tagNames: [],\n            style: {\n                prop: 'text-align',\n                value: 'justify'\n            },\n            useQueryState: true,\n            contentDefault: '<b>J</b>',\n            contentFA: '<i class=\"fa fa-align-justify\"></i>'\n        },\n        'justifyLeft': {\n            name: 'justifyLeft',\n            action: 'justifyLeft',\n            aria: 'left justify',\n            tagNames: [],\n            style: {\n                prop: 'text-align',\n                value: 'left'\n            },\n            useQueryState: true,\n            contentDefault: '<b>L</b>',\n            contentFA: '<i class=\"fa fa-align-left\"></i>'\n        },\n        'justifyRight': {\n            name: 'justifyRight',\n            action: 'justifyRight',\n            aria: 'right justify',\n            tagNames: [],\n            style: {\n                prop: 'text-align',\n                value: 'right'\n            },\n            useQueryState: true,\n            contentDefault: '<b>R</b>',\n            contentFA: '<i class=\"fa fa-align-right\"></i>'\n        },\n        'header1': {\n            name: 'header1',\n            action: function (options) {\n                return 'append-' + options.firstHeader;\n            },\n            aria: function (options) {\n                return options.firstHeader;\n            },\n            tagNames: function (options) {\n                return [options.firstHeader];\n            },\n            contentDefault: '<b>H1</b>'\n        },\n        'header2': {\n            name: 'header2',\n            action: function (options) {\n                return 'append-' + options.secondHeader;\n            },\n            aria: function (options) {\n                return options.secondHeader;\n            },\n            tagNames: function (options) {\n                return [options.secondHeader];\n            },\n            contentDefault: '<b>H2</b>'\n        }\n    };\n\n    DefaultButton = function (options, instance) {\n        this.options = options;\n        this.name = options.name;\n        this.init(instance);\n    };\n\n    DefaultButton.prototype = {\n        init: function (instance) {\n            this.base = instance;\n\n            this.button = this.createButton();\n            this.base.on(this.button, 'click', this.handleClick.bind(this));\n            if (this.options.key) {\n                this.base.subscribe('editableKeydown', this.handleKeydown.bind(this));\n            }\n        },\n        getButton: function () {\n            return this.button;\n        },\n        getAction: function () {\n            return (typeof this.options.action === 'function') ? this.options.action(this.base.options) : this.options.action;\n        },\n        getAria: function () {\n            return (typeof this.options.aria === 'function') ? this.options.aria(this.base.options) : this.options.aria;\n        },\n        getTagNames: function () {\n            return (typeof this.options.tagNames === 'function') ? this.options.tagNames(this.base.options) : this.options.tagNames;\n        },\n        createButton: function () {\n            var button = this.base.options.ownerDocument.createElement('button'),\n                content = this.options.contentDefault;\n            button.classList.add('medium-editor-action');\n            button.classList.add('medium-editor-action-' + this.name);\n            button.setAttribute('data-action', this.getAction());\n            button.setAttribute('aria-label', this.getAria());\n            if (this.base.options.buttonLabels) {\n                if (this.base.options.buttonLabels === 'fontawesome' && this.options.contentFA) {\n                    content = this.options.contentFA;\n                } else if (typeof this.base.options.buttonLabels === 'object' && this.base.options.buttonLabels[this.name]) {\n                    content = this.base.options.buttonLabels[this.options.name];\n                }\n            }\n            button.innerHTML = content;\n            return button;\n        },\n        handleKeydown: function (evt) {\n            var key, action;\n\n            if (evt.ctrlKey || evt.metaKey) {\n                key = String.fromCharCode(evt.which || evt.keyCode).toLowerCase();\n                if (this.options.key === key) {\n                    evt.preventDefault();\n                    evt.stopPropagation();\n\n                    action = this.getAction();\n                    if (action) {\n                        this.base.execAction(action);\n                    }\n                }\n            }\n        },\n        handleClick: function (evt) {\n            evt.preventDefault();\n            evt.stopPropagation();\n\n            var action = this.getAction();\n\n            if (action) {\n                this.base.execAction(action);\n            }\n        },\n        isActive: function () {\n            return this.button.classList.contains(this.base.options.activeButtonClass);\n        },\n        setInactive: function () {\n            this.button.classList.remove(this.base.options.activeButtonClass);\n            delete this.knownState;\n        },\n        setActive: function () {\n            this.button.classList.add(this.base.options.activeButtonClass);\n            delete this.knownState;\n        },\n        queryCommandState: function () {\n            var queryState = null;\n            if (this.options.useQueryState) {\n                queryState = this.base.queryCommandState(this.getAction());\n            }\n            return queryState;\n        },\n        isAlreadyApplied: function (node) {\n            var isMatch = false,\n                tagNames = this.getTagNames(),\n                styleVals,\n                computedStyle;\n\n            if (this.knownState === false || this.knownState === true) {\n                return this.knownState;\n            }\n\n            if (tagNames && tagNames.length > 0 && node.tagName) {\n                isMatch = tagNames.indexOf(node.tagName.toLowerCase()) !== -1;\n            }\n\n            if (!isMatch && this.options.style) {\n                styleVals = this.options.style.value.split('|');\n                computedStyle = this.base.options.contentWindow.getComputedStyle(node, null).getPropertyValue(this.options.style.prop);\n                styleVals.forEach(function (val) {\n                    if (!this.knownState) {\n                        isMatch = (computedStyle.indexOf(val) !== -1);\n                        // text-decoration is not inherited by default\n                        // so if the computed style for text-decoration doesn't match\n                        // don't write to knownState so we can fallback to other checks\n                        if (isMatch || this.options.style.prop !== 'text-decoration') {\n                            this.knownState = isMatch;\n                        }\n                    }\n                }.bind(this));\n            }\n\n            return isMatch;\n        }\n    };\n}(window, document));\n\nvar PasteHandler;\n\n(function (window, document) {\n    'use strict';\n    /*jslint regexp: true*/\n    /*\n        jslint does not allow character negation, because the negation\n        will not match any unicode characters. In the regexes in this\n        block, negation is used specifically to match the end of an html\n        tag, and in fact unicode characters *should* be allowed.\n    */\n    function createReplacements() {\n        return [\n\n            // replace two bogus tags that begin pastes from google docs\n            [new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi), \"\"],\n            [new RegExp(/<\\/b>(<br[^>]*>)?$/gi), \"\"],\n\n             // un-html spaces and newlines inserted by OS X\n            [new RegExp(/<span class=\"Apple-converted-space\">\\s+<\\/span>/g), ' '],\n            [new RegExp(/<br class=\"Apple-interchange-newline\">/g), '<br>'],\n\n            // replace google docs italics+bold with a span to be replaced once the html is inserted\n            [new RegExp(/<span[^>]*(font-style:italic;font-weight:bold|font-weight:bold;font-style:italic)[^>]*>/gi), '<span class=\"replace-with italic bold\">'],\n\n            // replace google docs italics with a span to be replaced once the html is inserted\n            [new RegExp(/<span[^>]*font-style:italic[^>]*>/gi), '<span class=\"replace-with italic\">'],\n\n            //[replace google docs bolds with a span to be replaced once the html is inserted\n            [new RegExp(/<span[^>]*font-weight:bold[^>]*>/gi), '<span class=\"replace-with bold\">'],\n\n             // replace manually entered b/i/a tags with real ones\n            [new RegExp(/&lt;(\\/?)(i|b|a)&gt;/gi), '<$1$2>'],\n\n             // replace manually a tags with real ones, converting smart-quotes from google docs\n            [new RegExp(/&lt;a\\s+href=(&quot;|&rdquo;|&ldquo;||)([^&]+)(&quot;|&rdquo;|&ldquo;||)&gt;/gi), '<a href=\"$2\">'],\n\n            // Newlines between paragraphs in html have no syntactic value,\n            // but then have a tendency to accidentally become additional paragraphs down the line\n            [new RegExp(/<\\/p>\\n+/gi), '</p>'],\n            [new RegExp(/\\n+<p/gi), '<p'],\n\n            // Microsoft Word makes these odd tags, like <o:p></o:p>\n            [new RegExp(/<\\/?o:[a-z]*>/gi), '']\n        ];\n    }\n    /*jslint regexp: false*/\n\n    PasteHandler = function (instance) {\n        this.base = instance;\n        this.options = this.base.options;\n\n        if (this.options.forcePlainText || this.options.cleanPastedHTML) {\n            this.base.subscribe('editablePaste', this.handlePaste.bind(this));\n        }\n    };\n\n    PasteHandler.prototype = {\n        handlePaste: function (event, element) {\n            var paragraphs,\n                html = '',\n                p,\n                dataFormatHTML = 'text/html',\n                dataFormatPlain = 'text/plain';\n\n            if (this.options.contentWindow.clipboardData && event.clipboardData === undefined) {\n                event.clipboardData = this.options.contentWindow.clipboardData;\n                // If window.clipboardData exists, but event.clipboardData doesn't exist,\n                // we're probably in IE. IE only has two possibilities for clipboard\n                // data format: 'Text' and 'URL'.\n                //\n                // Of the two, we want 'Text':\n                dataFormatHTML = 'Text';\n                dataFormatPlain = 'Text';\n            }\n\n            if (event.clipboardData\n                    && event.clipboardData.getData\n                    && !event.defaultPrevented) {\n                event.preventDefault();\n\n                if (this.options.cleanPastedHTML && event.clipboardData.getData(dataFormatHTML)) {\n                    return this.cleanPaste(event.clipboardData.getData(dataFormatHTML));\n                }\n\n                if (!(this.options.disableReturn || element.getAttribute('data-disable-return'))) {\n                    paragraphs = event.clipboardData.getData(dataFormatPlain).split(/[\\r\\n]/g);\n                    for (p = 0; p < paragraphs.length; p += 1) {\n                        if (paragraphs[p] !== '') {\n                            html += '<p>' + Util.htmlEntities(paragraphs[p]) + '</p>';\n                        }\n                    }\n                    Util.insertHTMLCommand(this.options.ownerDocument, html);\n                } else {\n                    html = Util.htmlEntities(event.clipboardData.getData(dataFormatPlain));\n                    Util.insertHTMLCommand(this.options.ownerDocument, html);\n                }\n            }\n        },\n\n        cleanPaste: function (text) {\n            var i, elList, workEl,\n                el = Selection.getSelectionElement(this.options.contentWindow),\n                multiline = /<p|<br|<div/.test(text),\n                replacements = createReplacements();\n\n            for (i = 0; i < replacements.length; i += 1) {\n                text = text.replace(replacements[i][0], replacements[i][1]);\n            }\n\n            if (multiline) {\n                // double br's aren't converted to p tags, but we want paragraphs.\n                elList = text.split('<br><br>');\n\n                this.pasteHTML('<p>' + elList.join('</p><p>') + '</p>');\n\n                try {\n                    this.options.ownerDocument.execCommand('insertText', false, \"\\n\");\n                } catch (ignore) { }\n\n                // block element cleanup\n                elList = el.querySelectorAll('a,p,div,br');\n                for (i = 0; i < elList.length; i += 1) {\n                    workEl = elList[i];\n\n                    // Microsoft Word replaces some spaces with newlines.\n                    // While newlines between block elements are meaningless, newlines within\n                    // elements are sometimes actually spaces.\n                    workEl.innerHTML = workEl.innerHTML.replace(/\\n/gi, ' ');\n\n                    switch (workEl.tagName.toLowerCase()) {\n                    case 'a':\n                        if (this.options.targetBlank) {\n                            Util.setTargetBlank(workEl);\n                        }\n                        break;\n                    case 'p':\n                    case 'div':\n                        this.filterCommonBlocks(workEl);\n                        break;\n                    case 'br':\n                        this.filterLineBreak(workEl);\n                        break;\n                    }\n                }\n            } else {\n                this.pasteHTML(text);\n            }\n        },\n\n        pasteHTML: function (html) {\n            var elList, workEl, i, fragmentBody, pasteBlock = this.options.ownerDocument.createDocumentFragment();\n\n            pasteBlock.appendChild(this.options.ownerDocument.createElement('body'));\n\n            fragmentBody = pasteBlock.querySelector('body');\n            fragmentBody.innerHTML = html;\n\n            this.cleanupSpans(fragmentBody);\n\n            elList = fragmentBody.querySelectorAll('*');\n            for (i = 0; i < elList.length; i += 1) {\n                workEl = elList[i];\n\n                // delete ugly attributes\n                workEl.removeAttribute('class');\n                workEl.removeAttribute('style');\n                workEl.removeAttribute('dir');\n\n                if (workEl.tagName.toLowerCase() === 'meta') {\n                    workEl.parentNode.removeChild(workEl);\n                }\n            }\n            Util.insertHTMLCommand(this.options.ownerDocument, fragmentBody.innerHTML.replace(/&nbsp;/g, ' '));\n        },\n        isCommonBlock: function (el) {\n            return (el && (el.tagName.toLowerCase() === 'p' || el.tagName.toLowerCase() === 'div'));\n        },\n        filterCommonBlocks: function (el) {\n            if (/^\\s*$/.test(el.textContent) && el.parentNode) {\n                el.parentNode.removeChild(el);\n            }\n        },\n        filterLineBreak: function (el) {\n\n            if (this.isCommonBlock(el.previousElementSibling)) {\n                // remove stray br's following common block elements\n                this.removeWithParent(el);\n            } else if (this.isCommonBlock(el.parentNode) && (el.parentNode.firstChild === el || el.parentNode.lastChild === el)) {\n                // remove br's just inside open or close tags of a div/p\n                this.removeWithParent(el);\n            } else if (el.parentNode && el.parentNode.childElementCount === 1 && el.parentNode.textContent === '') {\n                // and br's that are the only child of elements other than div/p\n                this.removeWithParent(el);\n            }\n        },\n\n        // remove an element, including its parent, if it is the only element within its parent\n        removeWithParent: function (el) {\n            if (el && el.parentNode) {\n                if (el.parentNode.parentNode && el.parentNode.childElementCount === 1) {\n                    el.parentNode.parentNode.removeChild(el.parentNode);\n                } else {\n                    el.parentNode.removeChild(el);\n                }\n            }\n        },\n\n        cleanupSpans: function (container_el) {\n            var i,\n                el,\n                new_el,\n                spans = container_el.querySelectorAll('.replace-with'),\n                isCEF = function (el) {\n                    return (el && el.nodeName !== '#text' && el.getAttribute('contenteditable') === 'false');\n                };\n\n            for (i = 0; i < spans.length; i += 1) {\n                el = spans[i];\n                new_el = this.options.ownerDocument.createElement(el.classList.contains('bold') ? 'b' : 'i');\n\n                if (el.classList.contains('bold') && el.classList.contains('italic')) {\n                    // add an i tag as well if this has both italics and bold\n                    new_el.innerHTML = '<i>' + el.innerHTML + '</i>';\n                } else {\n                    new_el.innerHTML = el.innerHTML;\n                }\n                el.parentNode.replaceChild(new_el, el);\n            }\n\n            spans = container_el.querySelectorAll('span');\n            for (i = 0; i < spans.length; i += 1) {\n                el = spans[i];\n\n                // bail if span is in contenteditable = false\n                if (Util.traverseUp(el, isCEF)) {\n                    return false;\n                }\n\n                // remove empty spans, replace others with their contents\n                if (/^\\s*$/.test()) {\n                    el.parentNode.removeChild(el);\n                } else {\n                    el.parentNode.replaceChild(this.options.ownerDocument.createTextNode(el.textContent), el);\n                }\n            }\n        }\n    };\n}(window, document));\n\nvar AnchorExtension;\n\n(function (window, document) {\n    'use strict';\n\n    function AnchorDerived() {\n        this.parent = true;\n        this.options = {\n            name: 'anchor',\n            action: 'createLink',\n            aria: 'link',\n            tagNames: ['a'],\n            contentDefault: '<b>#</b>',\n            contentFA: '<i class=\"fa fa-link\"></i>'\n        };\n        this.name = 'anchor';\n        this.hasForm = true;\n    }\n\n    AnchorDerived.prototype = {\n\n        // Button and Extension handling\n\n        // Called when the button the toolbar is clicked\n        // Overrides DefaultButton.handleClick\n        handleClick: function (evt) {\n            evt.preventDefault();\n            evt.stopPropagation();\n\n            var selectedParentElement = Selection.getSelectedParentElement(Util.getSelectionRange(this.base.options.ownerDocument));\n            if (selectedParentElement.tagName &&\n                    selectedParentElement.tagName.toLowerCase() === 'a') {\n                return this.base.execAction('unlink');\n            }\n\n            if (!this.isDisplayed()) {\n                this.showForm();\n            }\n\n            return false;\n        },\n\n        // Called by medium-editor to append form to the toolbar\n        getForm: function () {\n            if (!this.form) {\n                this.form = this.createForm();\n            }\n            return this.form;\n        },\n\n        // Used by medium-editor when the default toolbar is to be displayed\n        isDisplayed: function () {\n            return this.getForm().style.display === 'block';\n        },\n\n        hideForm: function () {\n            this.getForm().style.display = 'none';\n            this.getInput().value = '';\n        },\n\n        showForm: function (link_value) {\n            var input = this.getInput();\n\n            this.base.saveSelection();\n            this.base.hideToolbarDefaultActions();\n            this.getForm().style.display = 'block';\n            this.base.setToolbarPosition();\n\n            input.value = link_value || '';\n            input.focus();\n        },\n\n        // Called by core when tearing down medium-editor (deactivate)\n        deactivate: function () {\n            if (!this.form) {\n                return false;\n            }\n\n            if (this.form.parentNode) {\n                this.form.parentNode.removeChild(this.form);\n            }\n\n            delete this.form;\n        },\n\n        // core methods\n\n        doFormSave: function () {\n            var targetCheckbox = this.getForm().querySelector('.medium-editor-toolbar-anchor-target'),\n                buttonCheckbox = this.getForm().querySelector('.medium-editor-toolbar-anchor-button'),\n                opts = {\n                    url: this.getInput().value\n                };\n\n            this.base.restoreSelection();\n\n            if (this.base.options.checkLinkFormat) {\n                opts.url = this.checkLinkFormat(opts.url);\n            }\n\n            if (targetCheckbox && targetCheckbox.checked) {\n                opts.target = \"_blank\";\n            } else {\n                opts.target = \"_self\";\n            }\n\n            if (buttonCheckbox && buttonCheckbox.checked) {\n                opts.buttonClass = this.base.options.anchorButtonClass;\n            }\n\n            this.base.createLink(opts);\n            this.base.checkSelection();\n        },\n\n        checkLinkFormat: function (value) {\n            var re = /^(https?|ftps?|rtmpt?):\\/\\/|mailto:/;\n            return (re.test(value) ? '' : 'http://') + value;\n        },\n\n        doFormCancel: function () {\n            this.base.restoreSelection();\n            this.base.checkSelection();\n        },\n\n        // form creation and event handling\n\n        createForm: function () {\n            var doc = this.base.options.ownerDocument,\n                form = doc.createElement('div'),\n                input = doc.createElement('input'),\n                close = doc.createElement('a'),\n                save = doc.createElement('a'),\n                target,\n                target_label,\n                button,\n                button_label;\n\n            // Anchor Form (div)\n            form.className = 'medium-editor-toolbar-form';\n            form.id = 'medium-editor-toolbar-form-anchor-' + this.base.id;\n\n            // Handle clicks on the form itself\n            this.base.on(form, 'click', this.handleFormClick.bind(this));\n\n            // Add url textbox\n            input.setAttribute('type', 'text');\n            input.className = 'medium-editor-toolbar-input';\n            input.setAttribute('placeholder', this.base.options.anchorInputPlaceholder);\n            form.appendChild(input);\n\n            // Handle typing in the textbox\n            this.base.on(input, 'keyup', this.handleTextboxKeyup.bind(this));\n\n            // Add save buton\n            save.setAttribute('href', '#');\n            save.className = 'medium-editor-toolbar-save';\n            save.innerHTML = this.base.options.buttonLabels === 'fontawesome' ?\n                             '<i class=\"fa fa-check\"></i>' :\n                             '&#10003;';\n            form.appendChild(save);\n\n            // Handle save button clicks (capture)\n            this.base.on(save, 'click', this.handleSaveClick.bind(this), true);\n\n            // Add close button\n            close.setAttribute('href', '#');\n            close.className = 'medium-editor-toolbar-close';\n            close.innerHTML = this.base.options.buttonLabels === 'fontawesome' ?\n                              '<i class=\"fa fa-times\"></i>' :\n                              '&times;';\n            form.appendChild(close);\n\n            // Handle close button clicks\n            this.base.on(close, 'click', this.handleCloseClick.bind(this));\n\n            // (Optional) Add 'open in new window' checkbox\n            if (this.base.options.anchorTarget) {\n                target = doc.createElement('input');\n                target.setAttribute('type', 'checkbox');\n                target.className = 'medium-editor-toolbar-anchor-target';\n\n                target_label = doc.createElement('label');\n                target_label.innerHTML = this.base.options.anchorInputCheckboxLabel;\n                target_label.insertBefore(target, target_label.firstChild);\n\n                form.appendChild(target_label);\n            }\n\n            // (Optional) Add 'add button class to anchor' checkbox\n            if (this.base.options.anchorButton) {\n                button = doc.createElement('input');\n                button.setAttribute('type', 'checkbox');\n                button.className = 'medium-editor-toolbar-anchor-button';\n\n                button_label = doc.createElement('label');\n                button_label.innerHTML = \"Button\";\n                button_label.insertBefore(button, button_label.firstChild);\n\n                form.appendChild(button_label);\n            }\n\n            return form;\n        },\n\n        getInput: function () {\n            return this.getForm().querySelector('input.medium-editor-toolbar-input');\n        },\n\n        handleTextboxKeyup: function (event) {\n            // For ENTER -> create the anchor\n            if (event.keyCode === Util.keyCode.ENTER) {\n                event.preventDefault();\n                this.doFormSave();\n                return;\n            }\n\n            // For ESCAPE -> close the form\n            if (event.keyCode === Util.keyCode.ESCAPE) {\n                event.preventDefault();\n                this.doFormCancel();\n            }\n        },\n\n        handleFormClick: function (event) {\n            // make sure not to hide form when clicking inside the form\n            event.stopPropagation();\n        },\n\n        handleSaveClick: function (event) {\n            // Clicking Save -> create the anchor\n            event.preventDefault();\n            this.doFormSave();\n        },\n\n        handleCloseClick: function (event) {\n            // Click Close -> close the form\n            event.preventDefault();\n            this.doFormCancel();\n        }\n    };\n\n    AnchorExtension = Util.derives(DefaultButton, AnchorDerived);\n}(window, document));\n\nvar AnchorPreview;\n\n(function (window, document) {\n    'use strict';\n\n    AnchorPreview = function () {\n        this.parent = true;\n        this.name = 'anchor-preview';\n    };\n\n    AnchorPreview.prototype = {\n\n        init: function (instance) {\n            this.base = instance;\n            this.anchorPreview = this.createPreview();\n            this.base.options.elementsContainer.appendChild(this.anchorPreview);\n\n            this.attachToEditables();\n        },\n\n        getPreviewElement: function () {\n            return this.anchorPreview;\n        },\n\n        createPreview: function () {\n            var el = this.base.options.ownerDocument.createElement('div');\n\n            el.id = 'medium-editor-anchor-preview-' + this.base.id;\n            el.className = 'medium-editor-anchor-preview';\n            el.innerHTML = this.getTemplate();\n\n            this.base.on(el, 'click', this.handleClick.bind(this));\n\n            return el;\n        },\n\n        getTemplate: function () {\n            return '<div class=\"medium-editor-toolbar-anchor-preview\" id=\"medium-editor-toolbar-anchor-preview\">' +\n                '    <i class=\"medium-editor-toolbar-anchor-preview-inner\"></i>' +\n                '</div>';\n        },\n\n        deactivate: function () {\n            if (this.anchorPreview) {\n                if (this.anchorPreview.parentNode) {\n                    this.anchorPreview.parentNode.removeChild(this.anchorPreview);\n                }\n                delete this.anchorPreview;\n            }\n        },\n\n        hidePreview: function () {\n            this.anchorPreview.classList.remove('medium-editor-anchor-preview-active');\n            this.activeAnchor = null;\n        },\n\n        showPreview: function (anchorEl) {\n            if (this.anchorPreview.classList.contains('medium-editor-anchor-preview-active')\n                    || anchorEl.getAttribute('data-disable-preview')) {\n                return true;\n            }\n\n            this.anchorPreview.querySelector('i').textContent = anchorEl.attributes.href.value;\n\n            this.anchorPreview.classList.add('medium-toolbar-arrow-over');\n            this.anchorPreview.classList.remove('medium-toolbar-arrow-under');\n\n            if (!this.anchorPreview.classList.contains('medium-editor-anchor-preview-active')) {\n                this.anchorPreview.classList.add('medium-editor-anchor-preview-active');\n            }\n\n            this.activeAnchor = anchorEl;\n\n            this.positionPreview();\n            this.attachPreviewHandlers();\n\n            return this;\n        },\n\n        positionPreview: function () {\n            var buttonHeight = 40,\n                boundary = this.activeAnchor.getBoundingClientRect(),\n                middleBoundary = (boundary.left + boundary.right) / 2,\n                halfOffsetWidth,\n                defaultLeft;\n\n            halfOffsetWidth = this.anchorPreview.offsetWidth / 2;\n            defaultLeft = this.base.options.diffLeft - halfOffsetWidth;\n\n            this.anchorPreview.style.top = Math.round(buttonHeight + boundary.bottom - this.base.options.diffTop + this.base.options.contentWindow.pageYOffset - this.anchorPreview.offsetHeight) + 'px';\n            if (middleBoundary < halfOffsetWidth) {\n                this.anchorPreview.style.left = defaultLeft + halfOffsetWidth + 'px';\n            } else if ((this.base.options.contentWindow.innerWidth - middleBoundary) < halfOffsetWidth) {\n                this.anchorPreview.style.left = this.base.options.contentWindow.innerWidth + defaultLeft - halfOffsetWidth + 'px';\n            } else {\n                this.anchorPreview.style.left = defaultLeft + middleBoundary + 'px';\n            }\n        },\n\n        attachToEditables: function () {\n            this.base.subscribe('editableMouseover', this.handleEditableMouseover.bind(this));\n        },\n\n        handleClick: function (event) {\n            var range,\n                sel,\n                anchorExtension = this.base.getExtensionByName('anchor'),\n                activeAnchor = this.activeAnchor;\n\n            if (anchorExtension && activeAnchor) {\n                range = this.base.options.ownerDocument.createRange();\n                range.selectNodeContents(this.activeAnchor);\n\n                sel = this.base.options.contentWindow.getSelection();\n                sel.removeAllRanges();\n                sel.addRange(range);\n                // Using setTimeout + options.delay because:\n                // We may actually be displaying the anchor form, which should be controlled by options.delay\n                this.base.delay(function () {\n                    if (activeAnchor) {\n                        anchorExtension.showForm(activeAnchor.attributes.href.value);\n                        activeAnchor = null;\n                    }\n                }.bind(this));\n            }\n\n            this.hidePreview();\n        },\n\n        handleAnchorMouseout: function (event) {\n            this.anchorToPreview = null;\n            this.base.off(this.activeAnchor, 'mouseout', this.instance_handleAnchorMouseout);\n            this.instance_handleAnchorMouseout = null;\n        },\n\n        handleEditableMouseover: function (event) {\n            if (event.target && event.target.tagName.toLowerCase() === 'a') {\n\n                // Detect empty href attributes\n                // The browser will make href=\"\" or href=\"#top\"\n                // into absolute urls when accessed as event.targed.href, so check the html\n                if (!/href=[\"']\\S+[\"']/.test(event.target.outerHTML) || /href=[\"']#\\S+[\"']/.test(event.target.outerHTML)) {\n                    return true;\n                }\n\n                // only show when hovering on anchors\n                if (this.base.toolbar && this.base.toolbar.isDisplayed()) {\n                    // only show when toolbar is not present\n                    return true;\n                }\n\n                // detach handler for other anchor in case we hovered multiple anchors quickly\n                if (this.activeAnchor && this.activeAnchor !== event.target) {\n                    this.detachPreviewHandlers();\n                }\n\n                this.anchorToPreview = event.target;\n\n                this.instance_handleAnchorMouseout = this.handleAnchorMouseout.bind(this);\n                this.base.on(this.anchorToPreview, 'mouseout', this.instance_handleAnchorMouseout);\n                // Using setTimeout + options.delay because:\n                // - We're going to show the anchor preview according to the configured delay\n                //   if the mouse has not left the anchor tag in that time\n                this.base.delay(function () {\n                    if (this.anchorToPreview) {\n                        //this.activeAnchor = this.anchorToPreview;\n                        this.showPreview(this.anchorToPreview);\n                    }\n                }.bind(this));\n            }\n        },\n\n        handlePreviewMouseover: function (event) {\n            this.lastOver = (new Date()).getTime();\n            this.hovering = true;\n        },\n\n        handlePreviewMouseout: function (event) {\n            if (!event.relatedTarget || !/anchor-preview/.test(event.relatedTarget.className)) {\n                this.hovering = false;\n            }\n        },\n\n        updatePreview: function () {\n            if (this.hovering) {\n                return true;\n            }\n            var durr = (new Date()).getTime() - this.lastOver;\n            if (durr > this.base.options.anchorPreviewHideDelay) {\n                // hide the preview 1/2 second after mouse leaves the link\n                this.detachPreviewHandlers();\n            }\n        },\n\n        detachPreviewHandlers: function () {\n            // cleanup\n            clearInterval(this.interval_timer);\n            if (this.instance_handlePreviewMouseover) {\n                this.base.off(this.anchorPreview, 'mouseover', this.instance_handlePreviewMouseover);\n                this.base.off(this.anchorPreview, 'mouseout', this.instance_handlePreviewMouseout);\n                if (this.activeAnchor) {\n                    this.base.off(this.activeAnchor, 'mouseover', this.instance_handlePreviewMouseover);\n                    this.base.off(this.activeAnchor, 'mouseout', this.instance_handlePreviewMouseout);\n                }\n            }\n\n            this.hidePreview();\n\n            this.hovering = this.instance_handlePreviewMouseover = this.instance_handlePreviewMouseout = null;\n        },\n\n        // TODO: break up method and extract out handlers\n        attachPreviewHandlers: function () {\n            this.lastOver = (new Date()).getTime();\n            this.hovering = true;\n\n            this.instance_handlePreviewMouseover = this.handlePreviewMouseover.bind(this);\n            this.instance_handlePreviewMouseout = this.handlePreviewMouseout.bind(this);\n\n            this.interval_timer = setInterval(this.updatePreview.bind(this), 200);\n\n            this.base.on(this.anchorPreview, 'mouseover', this.instance_handlePreviewMouseover);\n            this.base.on(this.anchorPreview, 'mouseout', this.instance_handlePreviewMouseout);\n            this.base.on(this.activeAnchor, 'mouseover', this.instance_handlePreviewMouseover);\n            this.base.on(this.activeAnchor, 'mouseout', this.instance_handlePreviewMouseout);\n        }\n    };\n}(window, document));\n\nvar Toolbar;\n\n(function (window, document) {\n    'use strict';\n\n    Toolbar = function Toolbar(instance) {\n        this.base = instance;\n        this.options = instance.options;\n        this.initThrottledMethods();\n    };\n\n    Toolbar.prototype = {\n\n        // Toolbar creation/deletion\n\n        createToolbar: function () {\n            var toolbar = this.base.options.ownerDocument.createElement('div');\n\n            toolbar.id = 'medium-editor-toolbar-' + this.base.id;\n            toolbar.className = 'medium-editor-toolbar';\n\n            if (this.options.staticToolbar) {\n                toolbar.className += \" static-toolbar\";\n            } else {\n                toolbar.className += \" stalker-toolbar\";\n            }\n\n            toolbar.appendChild(this.createToolbarButtons());\n\n            // Add any forms that extensions may have\n            this.base.commands.forEach(function (extension) {\n                if (extension.hasForm) {\n                    toolbar.appendChild(extension.getForm());\n                }\n            });\n\n            this.attachEventHandlers();\n            this.base.subscribe('externalInteraction', this.handleBlur.bind(this));\n\n            return toolbar;\n        },\n\n        createToolbarButtons: function () {\n            var ul = this.base.options.ownerDocument.createElement('ul'),\n                li,\n                btn,\n                buttons;\n\n            ul.id = 'medium-editor-toolbar-actions' + this.base.id;\n            ul.className = 'medium-editor-toolbar-actions clearfix';\n            ul.style.display = 'block';\n\n            this.base.commands.forEach(function (extension) {\n                if (typeof extension.getButton === 'function') {\n                    btn = extension.getButton(this.base);\n                    li = this.base.options.ownerDocument.createElement('li');\n                    if (Util.isElement(btn)) {\n                        li.appendChild(btn);\n                    } else {\n                        li.innerHTML = btn;\n                    }\n                    ul.appendChild(li);\n                }\n            }.bind(this));\n\n            buttons = ul.querySelectorAll('button');\n            if (buttons.length > 0) {\n                buttons[0].classList.add(this.options.firstButtonClass);\n                buttons[buttons.length - 1].classList.add(this.options.lastButtonClass);\n            }\n\n            return ul;\n        },\n\n        deactivate: function () {\n            if (this.toolbar) {\n                if (this.toolbar.parentNode) {\n                    this.toolbar.parentNode.removeChild(this.toolbar);\n                }\n                delete this.toolbar;\n            }\n        },\n\n        // Toolbar accessors\n\n        getToolbarElement: function () {\n            if (!this.toolbar) {\n                this.toolbar = this.createToolbar();\n            }\n\n            return this.toolbar;\n        },\n\n        getToolbarActionsElement: function () {\n            return this.getToolbarElement().querySelector('.medium-editor-toolbar-actions');\n        },\n\n        // Toolbar event handlers\n\n        initThrottledMethods: function () {\n            // throttledPositionToolbar is throttled because:\n            // - It will be called when the browser is resizing, which can fire many times very quickly\n            // - For some event (like resize) a slight lag in UI responsiveness is OK and provides performance benefits\n            this.throttledPositionToolbar = Util.throttle(function (event) {\n                if (this.base.isActive) {\n                    this.positionToolbarIfShown();\n                }\n            }.bind(this));\n        },\n\n        attachEventHandlers: function () {\n            // Handle mouseup on document for updating the selection in the toolbar\n            this.base.on(this.options.ownerDocument.documentElement, 'mouseup', this.handleDocumentMouseup.bind(this));\n\n            // Add a scroll event for sticky toolbar\n            if (this.options.staticToolbar && this.options.stickyToolbar) {\n                // On scroll (capture), re-position the toolbar\n                this.base.on(this.options.contentWindow, 'scroll', this.handleWindowScroll.bind(this), true);\n            }\n\n            // On resize, re-position the toolbar\n            this.base.on(this.options.contentWindow, 'resize', this.handleWindowResize.bind(this));\n\n            // Handlers for each contentedtiable element\n            this.base.elements.forEach(function (element) {\n                // Attach click handler to each contenteditable element\n                this.base.on(element, 'click', this.handleEditableClick.bind(this));\n\n                // Attach keyup handler to each contenteditable element\n                this.base.on(element, 'keyup', this.handleEditableKeyup.bind(this));\n\n                // Attach blur handler to each contenteditable element\n                this.base.on(element, 'blur', this.handleEditableBlur.bind(this));\n            }.bind(this));\n        },\n\n        handleWindowScroll: function (event) {\n            this.positionToolbarIfShown();\n        },\n\n        handleWindowResize: function (event) {\n            this.throttledPositionToolbar();\n        },\n\n        handleDocumentMouseup: function (event) {\n            // Do not trigger checkState when mouseup fires over the toolbar\n            if (event &&\n                    event.target &&\n                    Util.isDescendant(this.getToolbarElement(), event.target)) {\n                return false;\n            }\n            this.checkState();\n        },\n\n        handleEditableClick: function (event) {\n            // Delay the call to checkState to handle bug where selection is empty\n            // immediately after clicking inside a pre-existing selection\n            setTimeout(function () {\n                this.checkState();\n            }.bind(this), 0);\n        },\n\n        handleEditableKeyup: function (event) {\n            this.checkState();\n        },\n\n        handleEditableBlur: function (event) {\n            var getBlurRelatedTarget = function (e) {\n                return e.relatedTarget || // standard HTML5 DOM\n                    e.explicitOriginalTarget || // Firefox only\n                    document.activeElement; // IE9-11\n            },\n                isRelatedTargetOwnedByThisEditor = false;\n            // Do not trigger checkState when bluring the editable area and clicking into the toolbar\n            if (event &&\n                    getBlurRelatedTarget(event) &&\n                    Util.isDescendant(this.getToolbarElement(), getBlurRelatedTarget(event))) {\n                return false;\n            }\n            // Remove all selections before checking state. This is necessary to avoid issues with\n            // standardizeSelectionStart 'canceling' the blur event by moving the selection.\n            this.base.elements.forEach(function (el) {\n                isRelatedTargetOwnedByThisEditor = isRelatedTargetOwnedByThisEditor || Util.isDescendant(el, getBlurRelatedTarget(event)) ||\n                    getBlurRelatedTarget(event) === el;\n            });\n            // We only remove all the ranges if the user clicked outside the contenteditables managed by this medium-editor instance. Otherwise keep the ranges,\n            // because we were okay with the behavior that it did.\n            if (!isRelatedTargetOwnedByThisEditor) {\n                this.options.contentWindow.getSelection().removeAllRanges();\n            }\n            this.checkState();\n        },\n\n        handleBlur: function (event) {\n            // Delay the call to hideToolbar to handle bug with multiple editors on the page at once\n            setTimeout(function () {\n                this.hideToolbar();\n            }.bind(this), 0);\n        },\n\n        // Hiding/showing toolbar\n\n        isDisplayed: function () {\n            return this.getToolbarElement().classList.contains('medium-editor-toolbar-active');\n        },\n\n        showToolbar: function () {\n            if (!this.isDisplayed()) {\n                this.getToolbarElement().classList.add('medium-editor-toolbar-active');\n                if (typeof this.options.onShowToolbar === 'function') {\n                    this.options.onShowToolbar();\n                }\n            }\n        },\n\n        hideToolbar: function () {\n            if (this.isDisplayed()) {\n                this.base.commands.forEach(function (extension) {\n                    if (typeof extension.onHide === 'function') {\n                        extension.onHide();\n                    }\n                });\n\n                this.getToolbarElement().classList.remove('medium-editor-toolbar-active');\n                if (typeof this.options.onHideToolbar === 'function') {\n                    this.options.onHideToolbar();\n                }\n            }\n        },\n\n        isToolbarDefaultActionsDisplayed: function () {\n            return this.getToolbarActionsElement().style.display === 'block';\n        },\n\n        hideToolbarDefaultActions: function () {\n            if (this.isToolbarDefaultActionsDisplayed()) {\n                this.getToolbarActionsElement().style.display = 'none';\n            }\n        },\n\n        showToolbarDefaultActions: function () {\n            this.hideExtensionForms();\n\n            if (!this.isToolbarDefaultActionsDisplayed()) {\n                this.getToolbarActionsElement().style.display = 'block';\n            }\n\n            // Using setTimeout + options.delay because:\n            // We will actually be displaying the toolbar, which should be controlled by options.delay\n            this.base.delay(function () {\n                this.showToolbar();\n            }.bind(this));\n        },\n\n        hideExtensionForms: function () {\n            // Hide all extension forms\n            this.base.commands.forEach(function (extension) {\n                if (extension.hasForm && extension.isDisplayed()) {\n                    extension.hideForm();\n                }\n            });\n        },\n\n        // Responding to changes in user selection\n\n        // Checks for existance of multiple block elements in the current selection\n        multipleBlockElementsSelected: function () {\n            /*jslint regexp: true*/\n            var selectionHtml = Selection.getSelectionHtml.call(this).replace(/<[\\S]+><\\/[\\S]+>/gim, ''),\n                hasMultiParagraphs = selectionHtml.match(/<(p|h[1-6]|blockquote)[^>]*>/g);\n            /*jslint regexp: false*/\n\n            return !!hasMultiParagraphs && hasMultiParagraphs.length > 1;\n        },\n\n        // TODO: selection and selectionRange should be properties of the\n        //       Selection object\n        checkSelectionElement: function (newSelection, selectionElement) {\n            var i,\n                adjacentNode,\n                offset = 0,\n                newRange,\n                selectionRange = newSelection.getRangeAt(0);\n\n            /*\n            * In firefox, there are cases (ie doubleclick of a word) where the selectionRange start\n            * will be at the very end of an element.  In other browsers, the selectionRange start\n            * would instead be at the very beginning of an element that actually has content.\n            * example:\n            *   <span>foo</span><span>bar</span>\n            *\n            * If the text 'bar' is selected, most browsers will have the selectionRange start at the beginning\n            * of the 'bar' span.  However, there are cases where firefox will have the selectionRange start\n            * at the end of the 'foo' span.  The contenteditable behavior will be ok, but if there are any\n            * properties on the 'bar' span, they won't be reflected accurately in the toolbar\n            * (ie 'Bold' button wouldn't be active)\n            *\n            * So, for cases where the selectionRange start is at the end of an element/node, find the next\n            * adjacent text node that actually has content in it, and move the selectionRange start there.\n            */\n            if (this.options.standardizeSelectionStart &&\n                    selectionRange.startContainer.nodeValue &&\n                    (selectionRange.startOffset === selectionRange.startContainer.nodeValue.length)) {\n                adjacentNode = Util.findAdjacentTextNodeWithContent(Selection.getSelectionElement(this.options.contentWindow), selectionRange.startContainer, this.options.ownerDocument);\n                if (adjacentNode) {\n                    offset = 0;\n                    while (adjacentNode.nodeValue.substr(offset, 1).trim().length === 0) {\n                        offset = offset + 1;\n                    }\n                    newRange = this.options.ownerDocument.createRange();\n                    newRange.setStart(adjacentNode, offset);\n                    newRange.setEnd(selectionRange.endContainer, selectionRange.endOffset);\n                    newSelection.removeAllRanges();\n                    newSelection.addRange(newRange);\n                    selectionRange = newRange;\n                }\n            }\n\n            for (i = 0; i < this.base.elements.length; i += 1) {\n                if (this.base.elements[i] === selectionElement) {\n                    this.showAndUpdateToolbar();\n                    return;\n                }\n            }\n\n            if (!this.options.staticToolbar) {\n                this.hideToolbar();\n            }\n        },\n\n        checkState: function () {\n            var newSelection,\n                selectionElement;\n\n            if (!this.base.preventSelectionUpdates) {\n                newSelection = this.options.contentWindow.getSelection();\n                if ((!this.options.updateOnEmptySelection && newSelection.toString().trim() === '') ||\n                        (this.options.allowMultiParagraphSelection === false && this.multipleBlockElementsSelected()) ||\n                        Selection.selectionInContentEditableFalse(this.options.contentWindow)) {\n                    if (!this.options.staticToolbar) {\n                        this.hideToolbar();\n                    } else {\n                        this.showAndUpdateToolbar();\n                    }\n\n                } else {\n                    selectionElement = Selection.getSelectionElement(this.options.contentWindow);\n                    if (!selectionElement || selectionElement.getAttribute('data-disable-toolbar')) {\n                        if (!this.options.staticToolbar) {\n                            this.hideToolbar();\n                        }\n                    } else {\n                        this.checkSelectionElement(newSelection, selectionElement);\n                    }\n                }\n            }\n        },\n\n        // Updating the toolbar\n\n        showAndUpdateToolbar: function () {\n            this.setToolbarButtonStates();\n            this.showToolbarDefaultActions();\n            this.setToolbarPosition();\n        },\n\n        setToolbarButtonStates: function () {\n            this.base.commands.forEach(function (extension) {\n                if (typeof extension.isActive === 'function') {\n                    extension.setInactive();\n                }\n            }.bind(this));\n            this.checkActiveButtons();\n        },\n\n        checkActiveButtons: function () {\n            var manualStateChecks = [],\n                queryState = null,\n                selectionRange = Util.getSelectionRange(this.options.ownerDocument),\n                parentNode,\n                updateExtensionState = function (extension) {\n                    if (typeof extension.checkState === 'function') {\n                        extension.checkState(parentNode);\n                    } else if (typeof extension.isActive === 'function' &&\n                               typeof extension.isAlreadyApplied === 'function') {\n                        if (!extension.isActive() && extension.isAlreadyApplied(parentNode)) {\n                            extension.setActive();\n                        }\n                    }\n                };\n\n            if (!selectionRange) {\n                return;\n            }\n\n            parentNode = Selection.getSelectedParentElement(selectionRange);\n\n            // Loop through all commands\n            this.base.commands.forEach(function (command) {\n                // For those commands where we can use document.queryCommandState(), do so\n                if (typeof command.queryCommandState === 'function') {\n                    queryState = command.queryCommandState();\n                    // If queryCommandState returns a valid value, we can trust the browser\n                    // and don't need to do our manual checks\n                    if (queryState !== null) {\n                        if (queryState) {\n                            command.setActive();\n                        }\n                        return;\n                    }\n                }\n                // We can't use queryCommandState for this command, so add to manualStateChecks\n                manualStateChecks.push(command);\n            });\n\n            // Climb up the DOM and do manual checks for whether a certain command is currently enabled for this node\n            while (parentNode.tagName !== undefined && Util.parentElements.indexOf(parentNode.tagName.toLowerCase) === -1) {\n                manualStateChecks.forEach(updateExtensionState);\n\n                // we can abort the search upwards if we leave the contentEditable element\n                if (this.base.elements.indexOf(parentNode) !== -1) {\n                    break;\n                }\n                parentNode = parentNode.parentNode;\n            }\n        },\n\n        // Positioning toolbar\n\n        positionToolbarIfShown: function () {\n            if (this.isDisplayed()) {\n                this.setToolbarPosition();\n            }\n        },\n\n        setToolbarPosition: function () {\n            var container = Selection.getSelectionElement(this.options.contentWindow),\n                selection = this.options.contentWindow.getSelection(),\n                anchorPreview;\n\n            // If there isn't a valid selection, bail\n            if (!container || !this.options.contentWindow.getSelection().focusNode) {\n                return this;\n            }\n\n            // If the container isn't part of this medium-editor instance, bail\n            if (this.base.elements.indexOf(container) === -1) {\n                return this;\n            }\n\n            if (this.options.staticToolbar) {\n                this.showToolbar();\n                this.positionStaticToolbar(container);\n\n            } else if (!selection.isCollapsed) {\n                this.showToolbar();\n                this.positionToolbar(selection);\n            }\n\n            anchorPreview = this.base.getExtensionByName('anchor-preview');\n\n            if (anchorPreview && typeof anchorPreview.hidePreview === 'function') {\n                anchorPreview.hidePreview();\n            }\n        },\n\n        positionStaticToolbar: function (container) {\n            // position the toolbar at left 0, so we can get the real width of the toolbar\n            this.getToolbarElement().style.left = '0';\n\n            // document.documentElement for IE 9\n            var scrollTop = (this.options.ownerDocument.documentElement && this.options.ownerDocument.documentElement.scrollTop) || this.options.ownerDocument.body.scrollTop,\n                windowWidth = this.options.contentWindow.innerWidth,\n                toolbarElement = this.getToolbarElement(),\n                containerRect = container.getBoundingClientRect(),\n                containerTop = containerRect.top + scrollTop,\n                containerCenter = (containerRect.left + (containerRect.width / 2)),\n                toolbarHeight = toolbarElement.offsetHeight,\n                toolbarWidth = toolbarElement.offsetWidth,\n                halfOffsetWidth = toolbarWidth / 2,\n                targetLeft;\n\n            if (this.options.stickyToolbar) {\n                // If it's beyond the height of the editor, position it at the bottom of the editor\n                if (scrollTop > (containerTop + container.offsetHeight - toolbarHeight)) {\n                    toolbarElement.style.top = (containerTop + container.offsetHeight - toolbarHeight) + 'px';\n                    toolbarElement.classList.remove('sticky-toolbar');\n\n                // Stick the toolbar to the top of the window\n                } else if (scrollTop > (containerTop - toolbarHeight)) {\n                    toolbarElement.classList.add('sticky-toolbar');\n                    toolbarElement.style.top = \"0px\";\n\n                // Normal static toolbar position\n                } else {\n                    toolbarElement.classList.remove('sticky-toolbar');\n                    toolbarElement.style.top = containerTop - toolbarHeight + \"px\";\n                }\n            } else {\n                toolbarElement.style.top = containerTop - toolbarHeight + \"px\";\n            }\n\n            if (this.options.toolbarAlign === 'left') {\n                targetLeft = containerRect.left;\n            } else if (this.options.toolbarAlign === 'center') {\n                targetLeft = containerCenter - halfOffsetWidth;\n            } else if (this.options.toolbarAlign === 'right') {\n                targetLeft = containerRect.right - toolbarWidth;\n            }\n\n            if (targetLeft < 0) {\n                targetLeft = 0;\n            } else if ((targetLeft + toolbarWidth) > windowWidth) {\n                targetLeft = windowWidth - toolbarWidth;\n            }\n\n            toolbarElement.style.left = targetLeft + 'px';\n        },\n\n        positionToolbar: function (selection) {\n            // position the toolbar at left 0, so we can get the real width of the toolbar\n            this.getToolbarElement().style.left = '0';\n\n            var windowWidth = this.options.contentWindow.innerWidth,\n                range = selection.getRangeAt(0),\n                boundary = range.getBoundingClientRect(),\n                middleBoundary = (boundary.left + boundary.right) / 2,\n                toolbarElement = this.getToolbarElement(),\n                toolbarHeight = toolbarElement.offsetHeight,\n                toolbarWidth = toolbarElement.offsetWidth,\n                halfOffsetWidth = toolbarWidth / 2,\n                buttonHeight = 50,\n                defaultLeft = this.options.diffLeft - halfOffsetWidth;\n\n            if (boundary.top < buttonHeight) {\n                toolbarElement.classList.add('medium-toolbar-arrow-over');\n                toolbarElement.classList.remove('medium-toolbar-arrow-under');\n                toolbarElement.style.top = buttonHeight + boundary.bottom - this.options.diffTop + this.options.contentWindow.pageYOffset - toolbarHeight + 'px';\n            } else {\n                toolbarElement.classList.add('medium-toolbar-arrow-under');\n                toolbarElement.classList.remove('medium-toolbar-arrow-over');\n                toolbarElement.style.top = boundary.top + this.options.diffTop + this.options.contentWindow.pageYOffset - toolbarHeight + 'px';\n            }\n            if (middleBoundary < halfOffsetWidth) {\n                toolbarElement.style.left = defaultLeft + halfOffsetWidth + 'px';\n            } else if ((windowWidth - middleBoundary) < halfOffsetWidth) {\n                toolbarElement.style.left = windowWidth + defaultLeft - halfOffsetWidth + 'px';\n            } else {\n                toolbarElement.style.left = defaultLeft + middleBoundary + 'px';\n            }\n        }\n    };\n}(window, document));\n\nvar Placeholders;\n\n(function (window, document) {\n    'use strict';\n\n    Placeholders = function (instance) {\n        this.base = instance;\n\n        this.initPlaceholders();\n        this.attachEventHandlers();\n    };\n\n    Placeholders.prototype = {\n\n        initPlaceholders: function () {\n            this.base.elements.forEach(function (el) {\n                this.updatePlaceholder(el);\n            }.bind(this));\n        },\n\n        showPlaceholder: function (el) {\n            if (el) {\n                el.classList.add('medium-editor-placeholder');\n            }\n        },\n\n        hidePlaceholder: function (el) {\n            if (el) {\n                el.classList.remove('medium-editor-placeholder');\n            }\n        },\n\n        updatePlaceholder: function (el) {\n            if (!(el.querySelector('img')) &&\n                    !(el.querySelector('blockquote')) &&\n                    el.textContent.replace(/^\\s+|\\s+$/g, '') === '') {\n                this.showPlaceholder(el);\n            } else {\n                this.hidePlaceholder(el);\n            }\n        },\n\n        attachEventHandlers: function () {\n            // Custom events\n            this.base.subscribe('externalInteraction', this.handleExternalInteraction.bind(this));\n\n            // Check placeholder on blur\n            this.base.subscribe('editableBlur', this.handleBlur.bind(this));\n\n            // Events where we always hide the placeholder\n            this.base.subscribe('editableClick', this.handleHidePlaceholderEvent.bind(this));\n            this.base.subscribe('editableKeypress', this.handleHidePlaceholderEvent.bind(this));\n            this.base.subscribe('editablePaste', this.handleHidePlaceholderEvent.bind(this));\n        },\n\n        handleHidePlaceholderEvent: function (event, element) {\n            // Events where we hide the placeholder\n            this.hidePlaceholder(element);\n        },\n\n        handleBlur: function (event, element) {\n            // Update placeholder for element that lost focus\n            this.updatePlaceholder(element);\n        },\n\n        handleExternalInteraction: function (event) {\n            // Update all placeholders\n            this.initPlaceholders();\n        }\n    };\n\n}(window, document));\nfunction MediumEditor(elements, options) {\n    'use strict';\n    return this.init(elements, options);\n}\n\n(function () {\n    'use strict';\n\n    // Event handlers that shouldn't be exposed externally\n\n    function handleDisabledEnterKeydown(event, element) {\n        if (this.options.disableReturn || element.getAttribute('data-disable-return')) {\n            event.preventDefault();\n        } else if (this.options.disableDoubleReturn || this.getAttribute('data-disable-double-return')) {\n            var node = Util.getSelectionStart(this.options.ownerDocument);\n            if (node && node.textContent.trim() === '') {\n                event.preventDefault();\n            }\n        }\n    }\n\n    function handleTabKeydown(event, element) {\n        // Override tab only for pre nodes\n        var node = Util.getSelectionStart(this.options.ownerDocument),\n            tag = node && node.tagName.toLowerCase();\n\n        if (tag === 'pre') {\n            event.preventDefault();\n            Util.insertHTMLCommand(this.options.ownerDocument, '    ');\n        }\n\n        // Tab to indent list structures!\n        if (Util.isListItem(node)) {\n            event.preventDefault();\n\n            // If Shift is down, outdent, otherwise indent\n            if (event.shiftKey) {\n                this.options.ownerDocument.execCommand('outdent', false, null);\n            } else {\n                this.options.ownerDocument.execCommand('indent', false, null);\n            }\n        }\n    }\n\n    function handleBlockDeleteKeydowns(event, element) {\n        var range, sel, p, node = Util.getSelectionStart(this.options.ownerDocument),\n            tagName = node.tagName.toLowerCase(),\n            isEmpty = /^(\\s+|<br\\/?>)?$/i,\n            isHeader = /h\\d/i;\n\n        if ((event.which === Util.keyCode.BACKSPACE || event.which === Util.keyCode.ENTER)\n                // has a preceeding sibling\n                && node.previousElementSibling\n                // in a header\n                && isHeader.test(tagName)\n                // at the very end of the block\n                && Selection.getCaretOffsets(node).left === 0) {\n            if (event.which === Util.keyCode.BACKSPACE && isEmpty.test(node.previousElementSibling.innerHTML)) {\n                // backspacing the begining of a header into an empty previous element will\n                // change the tagName of the current node to prevent one\n                // instead delete previous node and cancel the event.\n                node.previousElementSibling.parentNode.removeChild(node.previousElementSibling);\n                event.preventDefault();\n            } else if (event.which === Util.keyCode.ENTER) {\n                // hitting return in the begining of a header will create empty header elements before the current one\n                // instead, make \"<p><br></p>\" element, which are what happens if you hit return in an empty paragraph\n                p = this.options.ownerDocument.createElement('p');\n                p.innerHTML = '<br>';\n                node.previousElementSibling.parentNode.insertBefore(p, node);\n                event.preventDefault();\n            }\n        } else if (event.which === Util.keyCode.DELETE\n                    // between two sibling elements\n                    && node.nextElementSibling\n                    && node.previousElementSibling\n                    // not in a header\n                    && !isHeader.test(tagName)\n                    // in an empty tag\n                    && isEmpty.test(node.innerHTML)\n                    // when the next tag *is* a header\n                    && isHeader.test(node.nextElementSibling.tagName)) {\n            // hitting delete in an empty element preceding a header, ex:\n            //  <p>[CURSOR]</p><h1>Header</h1>\n            // Will cause the h1 to become a paragraph.\n            // Instead, delete the paragraph node and move the cursor to the begining of the h1\n\n            // remove node and move cursor to start of header\n            range = this.options.ownerDocument.createRange();\n            sel = this.options.ownerDocument.getSelection();\n\n            range.setStart(node.nextElementSibling, 0);\n            range.collapse(true);\n\n            sel.removeAllRanges();\n            sel.addRange(range);\n\n            node.previousElementSibling.parentNode.removeChild(node);\n\n            event.preventDefault();\n        } else if (event.which === Util.keyCode.BACKSPACE\n                && tagName === 'li'\n                // hitting backspace inside an empty li\n                && isEmpty.test(node.innerHTML)\n                // is first element (no preceeding siblings)\n                && !node.previousElementSibling\n                // parent also does not have a sibling\n                && !node.parentElement.previousElementSibling\n                // is not the only li in a list\n                && node.nextElementSibling.tagName.toLowerCase() === 'li') {\n            // backspacing in an empty first list element in the first list (with more elements) ex:\n            //  <ul><li>[CURSOR]</li><li>List Item 2</li></ul>\n            // will remove the first <li> but add some extra element before (varies based on browser)\n            // Instead, this will:\n            // 1) remove the list element\n            // 2) create a paragraph before the list\n            // 3) move the cursor into the paragraph\n\n            // create a paragraph before the list\n            p = this.options.ownerDocument.createElement('p');\n            p.innerHTML = '<br>';\n            node.parentElement.parentElement.insertBefore(p, node.parentElement);\n\n            // move the cursor into the new paragraph\n            range = this.options.ownerDocument.createRange();\n            sel = this.options.ownerDocument.getSelection();\n            range.setStart(p, 0);\n            range.collapse(true);\n            sel.removeAllRanges();\n            sel.addRange(range);\n\n            // remove the list element\n            node.parentElement.removeChild(node);\n\n            event.preventDefault();\n        }\n    }\n\n    function handleDrag(event, element) {\n        var className = 'medium-editor-dragover';\n        event.preventDefault();\n        event.dataTransfer.dropEffect = 'copy';\n\n        if (event.type === 'dragover') {\n            event.target.classList.add(className);\n        } else if (event.type === 'dragleave') {\n            event.target.classList.remove(className);\n        }\n    }\n\n    function handleDrop(event, element) {\n        var className = 'medium-editor-dragover',\n            files;\n        event.preventDefault();\n        event.stopPropagation();\n\n        // IE9 does not support the File API, so prevent file from opening in a new window\n        // but also don't try to actually get the file\n        if (event.dataTransfer.files) {\n            files = Array.prototype.slice.call(event.dataTransfer.files, 0);\n            files.some(function (file) {\n                if (file.type.match(\"image\")) {\n                    var fileReader, id;\n                    fileReader = new FileReader();\n                    fileReader.readAsDataURL(file);\n\n                    id = 'medium-img-' + (+new Date());\n                    Util.insertHTMLCommand(this.options.ownerDocument, '<img class=\"medium-image-loading\" id=\"' + id + '\" />');\n\n                    fileReader.onload = function () {\n                        var img = this.options.ownerDocument.getElementById(id);\n                        if (img) {\n                            img.removeAttribute('id');\n                            img.removeAttribute('class');\n                            img.src = fileReader.result;\n                        }\n                    }.bind(this);\n                }\n            }.bind(this));\n        }\n        event.target.classList.remove(className);\n    }\n\n    function handleKeyup(event) {\n        var node = Util.getSelectionStart(this.options.ownerDocument),\n            tagName;\n\n        if (!node) {\n            return;\n        }\n\n        if (node.getAttribute('data-medium-element') && node.children.length === 0) {\n            this.options.ownerDocument.execCommand('formatBlock', false, 'p');\n        }\n\n        if (event.which === Util.keyCode.ENTER && !Util.isListItem(node)) {\n            tagName = node.tagName.toLowerCase();\n            // For anchor tags, unlink\n            if (tagName === 'a') {\n                this.options.ownerDocument.execCommand('unlink', false, null);\n            } else if (!event.shiftKey) {\n                // only format block if this is not a header tag\n                if (!/h\\d/.test(tagName)) {\n                    this.options.ownerDocument.execCommand('formatBlock', false, 'p');\n                }\n            }\n        }\n    }\n\n    // Internal helper methods which shouldn't be exposed externally\n\n    function createElementsArray(selector) {\n        if (!selector) {\n            selector = [];\n        }\n        // If string, use as query selector\n        if (typeof selector === 'string') {\n            selector = this.options.ownerDocument.querySelectorAll(selector);\n        }\n        // If element, put into array\n        if (Util.isElement(selector)) {\n            selector = [selector];\n        }\n        // Convert NodeList (or other array like object) into an array\n        this.elements = Array.prototype.slice.apply(selector);\n    }\n\n    function initExtension(extension, name, instance) {\n        if (extension.parent) {\n            extension.base = instance;\n        }\n        if (typeof extension.init === 'function') {\n            extension.init(instance);\n        }\n        if (!extension.name) {\n            extension.name = name;\n        }\n        return extension;\n    }\n\n    function shouldAddDefaultAnchorPreview() {\n        var i,\n            shouldAdd = false;\n\n        // If anchor-preview is disabled, don't add\n        if (this.options.disableAnchorPreview) {\n            return false;\n        }\n        // If anchor-preview extension has been overriden, don't add\n        if (this.options.extensions['anchor-preview']) {\n            return false;\n        }\n        // If toolbar is disabled, don't add\n        if (this.options.disableToolbar) {\n            return false;\n        }\n        // If all elements have 'data-disable-toolbar' attribute, don't add\n        for (i = 0; i < this.elements.length; i += 1) {\n            if (!this.elements[i].getAttribute('data-disable-toolbar')) {\n                shouldAdd = true;\n                break;\n            }\n        }\n\n        return shouldAdd;\n    }\n\n    function initElements() {\n        var i,\n            addToolbar = false;\n        for (i = 0; i < this.elements.length; i += 1) {\n            if (!this.options.disableEditing && !this.elements[i].getAttribute('data-disable-editing')) {\n                this.elements[i].setAttribute('contentEditable', true);\n            }\n            if (!this.elements[i].getAttribute('data-placeholder')) {\n                this.elements[i].setAttribute('data-placeholder', this.options.placeholder);\n            }\n            this.elements[i].setAttribute('data-medium-element', true);\n            this.elements[i].setAttribute('role', 'textbox');\n            this.elements[i].setAttribute('aria-multiline', true);\n            if (!this.options.disableToolbar && !this.elements[i].getAttribute('data-disable-toolbar')) {\n                addToolbar = true;\n            }\n        }\n        // Init toolbar\n        if (!this.toolbar && addToolbar) {\n            this.toolbar = new Toolbar(this);\n            this.options.elementsContainer.appendChild(this.toolbar.getToolbarElement());\n        }\n    }\n\n    function attachHandlers() {\n        var i;\n\n        // attach to tabs\n        this.subscribe('editableKeydownTab', handleTabKeydown.bind(this));\n\n        // Bind keys which can create or destroy a block element: backspace, delete, return\n        this.subscribe('editableKeydownDelete', handleBlockDeleteKeydowns.bind(this));\n        this.subscribe('editableKeydownEnter', handleBlockDeleteKeydowns.bind(this));\n\n        // disabling return or double return\n        if (this.options.disableReturn || this.options.disableDoubleReturn) {\n            this.subscribe('editableKeydownEnter', handleDisabledEnterKeydown.bind(this));\n        } else {\n            for (i = 0; i < this.elements.length; i += 1) {\n                if (this.elements[i].getAttribute('data-disable-return') || this.elements[i].getAttribute('data-disable-double-return')) {\n                    this.subscribe('editableKeydownEnter', handleDisabledEnterKeydown.bind(this));\n                    break;\n                }\n            }\n        }\n\n        // if we're not disabling return, add a handler to help handle cleanup\n        // for certain cases when enter is pressed\n        if (!this.options.disableReturn) {\n            this.elements.forEach(function (element) {\n                if (!element.getAttribute('data-disable-return')) {\n                    this.on(element, 'keyup', handleKeyup.bind(this));\n                }\n            }.bind(this));\n        }\n\n        // drag and drop of images\n        if (this.options.imageDragging) {\n            this.subscribe('editableDrag', handleDrag.bind(this));\n            this.subscribe('editableDrop', handleDrop.bind(this));\n        }\n    }\n\n    function initCommands() {\n        var buttons = this.options.buttons,\n            extensions = this.options.extensions,\n            ext,\n            name;\n        this.commands = [];\n\n        buttons.forEach(function (buttonName) {\n            if (extensions[buttonName]) {\n                ext = initExtension(extensions[buttonName], buttonName, this);\n                this.commands.push(ext);\n            } else if (buttonName === 'anchor') {\n                ext = initExtension(new AnchorExtension(), buttonName, this);\n                this.commands.push(ext);\n            } else if (ButtonsData.hasOwnProperty(buttonName)) {\n                ext = new DefaultButton(ButtonsData[buttonName], this);\n                this.commands.push(ext);\n            }\n        }.bind(this));\n\n        for (name in extensions) {\n            if (extensions.hasOwnProperty(name) && buttons.indexOf(name) === -1) {\n                ext = initExtension(extensions[name], name, this);\n            }\n        }\n\n        // Add AnchorPreview as extension if needed\n        if (shouldAddDefaultAnchorPreview.call(this)) {\n            this.commands.push(initExtension(new AnchorPreview(), 'anchor-preview', this));\n        }\n    }\n\n    function execActionInternal(action, opts) {\n        /*jslint regexp: true*/\n        var appendAction = /^append-(.+)$/gi,\n            match;\n        /*jslint regexp: false*/\n\n        // Actions starting with 'append-' should attempt to format a block of text ('formatBlock') using a specific\n        // type of block element (ie append-blockquote, append-h1, append-pre, etc.)\n        match = appendAction.exec(action);\n        if (match) {\n            return Util.execFormatBlock(this.options.ownerDocument, match[1]);\n        }\n\n        if (action === 'createLink') {\n            return this.createLink(opts);\n        }\n\n        if (action === 'image') {\n            return this.options.ownerDocument.execCommand('insertImage', false, this.options.contentWindow.getSelection());\n        }\n\n        return this.options.ownerDocument.execCommand(action, false, null);\n    }\n\n    MediumEditor.statics = {\n        ButtonsData: ButtonsData,\n        DefaultButton: DefaultButton,\n        AnchorExtension: AnchorExtension,\n        Toolbar: Toolbar,\n        AnchorPreview: AnchorPreview\n    };\n\n    MediumEditor.prototype = {\n        defaults: {\n            allowMultiParagraphSelection: true,\n            anchorInputPlaceholder: 'Paste or type a link',\n            anchorInputCheckboxLabel: 'Open in new window',\n            anchorPreviewHideDelay: 500,\n            buttons: ['bold', 'italic', 'underline', 'anchor', 'header1', 'header2', 'quote'],\n            buttonLabels: false,\n            checkLinkFormat: false,\n            cleanPastedHTML: false,\n            delay: 0,\n            diffLeft: 0,\n            diffTop: -10,\n            disableReturn: false,\n            disableDoubleReturn: false,\n            disableToolbar: false,\n            disableAnchorPreview: false,\n            disableEditing: false,\n            disablePlaceholders: false,\n            toolbarAlign: 'center',\n            elementsContainer: false,\n            imageDragging: true,\n            standardizeSelectionStart: false,\n            contentWindow: window,\n            ownerDocument: document,\n            firstHeader: 'h3',\n            forcePlainText: true,\n            placeholder: 'Type your text',\n            secondHeader: 'h4',\n            targetBlank: false,\n            anchorTarget: false,\n            anchorButton: false,\n            anchorButtonClass: 'btn',\n            extensions: {},\n            activeButtonClass: 'medium-editor-button-active',\n            firstButtonClass: 'medium-editor-button-first',\n            lastButtonClass: 'medium-editor-button-last'\n        },\n\n        // NOT DOCUMENTED - exposed for backwards compatability\n        init: function (elements, options) {\n            var uniqueId = 1;\n\n            this.options = Util.defaults(options, this.defaults);\n            createElementsArray.call(this, elements);\n            if (this.elements.length === 0) {\n                return;\n            }\n\n            if (!this.options.elementsContainer) {\n                this.options.elementsContainer = this.options.ownerDocument.body;\n            }\n\n            while (this.options.elementsContainer.querySelector('#medium-editor-toolbar-' + uniqueId)) {\n                uniqueId = uniqueId + 1;\n            }\n\n            this.id = uniqueId;\n\n            return this.setup();\n        },\n\n        setup: function () {\n            if (this.isActive) {\n                return;\n            }\n\n            this.events = new Events(this);\n            this.isActive = true;\n\n            // Call initialization helpers\n            initCommands.call(this);\n            initElements.call(this);\n            attachHandlers.call(this);\n\n            this.pasteHandler = new PasteHandler(this);\n\n            if (!this.options.disablePlaceholders) {\n                this.placeholders = new Placeholders(this);\n            }\n        },\n\n        destroy: function () {\n            if (!this.isActive) {\n                return;\n            }\n\n            var i;\n\n            this.isActive = false;\n\n            if (this.toolbar !== undefined) {\n                this.toolbar.deactivate();\n                delete this.toolbar;\n            }\n\n            for (i = 0; i < this.elements.length; i += 1) {\n                this.elements[i].removeAttribute('contentEditable');\n                this.elements[i].removeAttribute('data-medium-element');\n            }\n\n            this.commands.forEach(function (extension) {\n                if (typeof extension.deactivate === 'function') {\n                    extension.deactivate();\n                }\n            }.bind(this));\n\n            this.events.detachAllDOMEvents();\n        },\n\n        on: function (target, event, listener, useCapture) {\n            this.events.attachDOMEvent(target, event, listener, useCapture);\n        },\n\n        off: function (target, event, listener, useCapture) {\n            this.events.detachDOMEvent(target, event, listener, useCapture);\n        },\n\n        subscribe: function (event, listener) {\n            this.events.attachCustomEvent(event, listener);\n        },\n\n        delay: function (fn) {\n            var self = this;\n            setTimeout(function () {\n                if (self.isActive) {\n                    fn();\n                }\n            }, this.options.delay);\n        },\n\n        serialize: function () {\n            var i,\n                elementid,\n                content = {};\n            for (i = 0; i < this.elements.length; i += 1) {\n                elementid = (this.elements[i].id !== '') ? this.elements[i].id : 'element-' + i;\n                content[elementid] = {\n                    value: this.elements[i].innerHTML.trim()\n                };\n            }\n            return content;\n        },\n\n        getExtensionByName: function (name) {\n            var extension;\n            if (this.commands && this.commands.length) {\n                this.commands.forEach(function (ext) {\n                    if (ext.name === name) {\n                        extension = ext;\n                    }\n                });\n            }\n            return extension;\n        },\n\n        /**\n         * NOT DOCUMENTED - exposed for backwards compatability\n         * Helper function to call a method with a number of parameters on all registered extensions.\n         * The function assures that the function exists before calling.\n         *\n         * @param {string} funcName name of the function to call\n         * @param [args] arguments passed into funcName\n         */\n        callExtensions: function (funcName) {\n            if (arguments.length < 1) {\n                return;\n            }\n\n            var args = Array.prototype.slice.call(arguments, 1),\n                ext,\n                name;\n\n            for (name in this.options.extensions) {\n                if (this.options.extensions.hasOwnProperty(name)) {\n                    ext = this.options.extensions[name];\n                    if (ext[funcName] !== undefined) {\n                        ext[funcName].apply(ext, args);\n                    }\n                }\n            }\n            return this;\n        },\n\n        stopSelectionUpdates: function () {\n            this.preventSelectionUpdates = true;\n        },\n\n        startSelectionUpdates: function () {\n            this.preventSelectionUpdates = false;\n        },\n\n        // NOT DOCUMENTED - exposed as extension helper and for backwards compatability\n        checkSelection: function () {\n            if (this.toolbar) {\n                this.toolbar.checkState();\n            }\n            return this;\n        },\n\n        // Wrapper around document.queryCommandState for checking whether an action has already\n        // been applied to the current selection\n        queryCommandState: function (action) {\n            var fullAction = /^full-(.+)$/gi,\n                match,\n                queryState = null;\n\n            // Actions starting with 'full-' need to be modified since this is a medium-editor concept\n            match = fullAction.exec(action);\n            if (match) {\n                action = match[1];\n            }\n\n            try {\n                queryState = this.options.ownerDocument.queryCommandState(action);\n            } catch (exc) {\n                queryState = null;\n            }\n\n            return queryState;\n        },\n\n        execAction: function (action, opts) {\n            /*jslint regexp: true*/\n            var fullAction = /^full-(.+)$/gi,\n                match,\n                result;\n            /*jslint regexp: false*/\n\n            // Actions starting with 'full-' should be applied to to the entire contents of the editable element\n            // (ie full-bold, full-append-pre, etc.)\n            match = fullAction.exec(action);\n            if (match) {\n                // Store the current selection to be restored after applying the action\n                this.saveSelection();\n                // Select all of the contents before calling the action\n                this.selectAllContents();\n                result = execActionInternal.call(this, match[1], opts);\n                // Restore the previous selection\n                this.restoreSelection();\n            } else {\n                result = execActionInternal.call(this, action, opts);\n            }\n\n            // do some DOM clean-up for known browser issues after the action\n            if (action === 'insertunorderedlist' || action === 'insertorderedlist') {\n                Util.cleanListDOM(this.getSelectedParentElement());\n            }\n\n            this.checkSelection();\n            return result;\n        },\n\n        getSelectedParentElement: function (range) {\n            if (range === undefined) {\n                range = this.options.contentWindow.getSelection().getRangeAt(0);\n            }\n            return Selection.getSelectedParentElement(range);\n        },\n\n        // NOT DOCUMENTED - exposed as extension helper\n        hideToolbarDefaultActions: function () {\n            if (this.toolbar) {\n                this.toolbar.hideToolbarDefaultActions();\n            }\n            return this;\n        },\n\n        // NOT DOCUMENTED - exposed as extension helper and for backwards compatability\n        setToolbarPosition: function () {\n            if (this.toolbar) {\n                this.toolbar.setToolbarPosition();\n            }\n        },\n\n        selectAllContents: function () {\n            var range = this.options.ownerDocument.createRange(),\n                sel = this.options.contentWindow.getSelection(),\n                currNode = Selection.getSelectionElement(this.options.contentWindow);\n\n            if (currNode) {\n                // Move to the lowest descendant node that still selects all of the contents\n                while (currNode.children.length === 1) {\n                    currNode = currNode.children[0];\n                }\n\n                range.selectNodeContents(currNode);\n                sel.removeAllRanges();\n                sel.addRange(range);\n            }\n        },\n\n        // http://stackoverflow.com/questions/17678843/cant-restore-selection-after-html-modify-even-if-its-the-same-html\n        // Tim Down\n        // TODO: move to selection.js and clean up old methods there\n        saveSelection: function () {\n            this.selectionState = null;\n\n            var selection = this.options.contentWindow.getSelection(),\n                range,\n                preSelectionRange,\n                start,\n                editableElementIndex = -1;\n\n            if (selection.rangeCount > 0) {\n                range = selection.getRangeAt(0);\n                preSelectionRange = range.cloneRange();\n\n                // Find element current selection is inside\n                this.elements.forEach(function (el, index) {\n                    if (el === range.startContainer || Util.isDescendant(el, range.startContainer)) {\n                        editableElementIndex = index;\n                        return false;\n                    }\n                });\n\n                if (editableElementIndex > -1) {\n                    preSelectionRange.selectNodeContents(this.elements[editableElementIndex]);\n                    preSelectionRange.setEnd(range.startContainer, range.startOffset);\n                    start = preSelectionRange.toString().length;\n\n                    this.selectionState = {\n                        start: start,\n                        end: start + range.toString().length,\n                        editableElementIndex: editableElementIndex\n                    };\n                }\n            }\n        },\n\n        // http://stackoverflow.com/questions/17678843/cant-restore-selection-after-html-modify-even-if-its-the-same-html\n        // Tim Down\n        // TODO: move to selection.js and clean up old methods there\n        restoreSelection: function () {\n            if (!this.selectionState) {\n                return;\n            }\n\n            var editableElement = this.elements[this.selectionState.editableElementIndex],\n                charIndex = 0,\n                range = this.options.ownerDocument.createRange(),\n                nodeStack = [editableElement],\n                node,\n                foundStart = false,\n                stop = false,\n                i,\n                sel,\n                nextCharIndex;\n\n            range.setStart(editableElement, 0);\n            range.collapse(true);\n\n            node = nodeStack.pop();\n            while (!stop && node) {\n                if (node.nodeType === 3) {\n                    nextCharIndex = charIndex + node.length;\n                    if (!foundStart && this.selectionState.start >= charIndex && this.selectionState.start <= nextCharIndex) {\n                        range.setStart(node, this.selectionState.start - charIndex);\n                        foundStart = true;\n                    }\n                    if (foundStart && this.selectionState.end >= charIndex && this.selectionState.end <= nextCharIndex) {\n                        range.setEnd(node, this.selectionState.end - charIndex);\n                        stop = true;\n                    }\n                    charIndex = nextCharIndex;\n                } else {\n                    i = node.childNodes.length - 1;\n                    while (i >= 0) {\n                        nodeStack.push(node.childNodes[i]);\n                        i -= 1;\n                    }\n                }\n                if (!stop) {\n                    node = nodeStack.pop();\n                }\n            }\n\n            sel = this.options.contentWindow.getSelection();\n            sel.removeAllRanges();\n            sel.addRange(range);\n        },\n\n        createLink: function (opts) {\n            var customEvent,\n                i;\n\n            if (opts.url && opts.url.trim().length > 0) {\n                this.options.ownerDocument.execCommand('createLink', false, opts.url);\n\n                if (this.options.targetBlank || opts.target === '_blank') {\n                    Util.setTargetBlank(Util.getSelectionStart(this.options.ownerDocument));\n                }\n\n                if (opts.buttonClass) {\n                    Util.addClassToAnchors(Util.getSelectionStart(this.options.ownerDocument), opts.buttonClass);\n                }\n            }\n\n            if (this.options.targetBlank || opts.target === \"_blank\" || opts.buttonClass) {\n                customEvent = this.options.ownerDocument.createEvent(\"HTMLEvents\");\n                customEvent.initEvent(\"input\", true, true, this.options.contentWindow);\n                for (i = 0; i < this.elements.length; i += 1) {\n                    this.elements[i].dispatchEvent(customEvent);\n                }\n            }\n        },\n\n        // alias for setup - keeping for backwards compatability\n        activate: function () {\n            Util.deprecatedMethod.call(this, 'activate', 'setup', arguments);\n        },\n\n        // alias for destory - keeping for backwards compatability\n        deactivate: function () {\n            Util.deprecatedMethod.call(this, 'deactivate', 'destroy', arguments);\n        },\n\n        cleanPaste: function (text) {\n            this.pasteHandler.cleanPaste(text);\n        },\n\n        pasteHTML: function (html) {\n            this.pasteHandler.pasteHTML(html);\n        }\n    };\n}());\n\n    return MediumEditor;\n}()));\n","/*!\n\n handlebars v3.0.3\n\nCopyright (C) 2011-2014 by Yehuda Katz\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n@license\n*/\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Handlebars\"] = factory();\n\telse\n\t\troot[\"Handlebars\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireWildcard = __webpack_require__(7)['default'];\n\n\texports.__esModule = true;\n\n\tvar _import = __webpack_require__(1);\n\n\tvar base = _interopRequireWildcard(_import);\n\n\t// Each of these augment the Handlebars object. No need to setup here.\n\t// (This is done to easily share code between commonjs and browse envs)\n\n\tvar _SafeString = __webpack_require__(2);\n\n\tvar _SafeString2 = _interopRequireWildcard(_SafeString);\n\n\tvar _Exception = __webpack_require__(3);\n\n\tvar _Exception2 = _interopRequireWildcard(_Exception);\n\n\tvar _import2 = __webpack_require__(4);\n\n\tvar Utils = _interopRequireWildcard(_import2);\n\n\tvar _import3 = __webpack_require__(5);\n\n\tvar runtime = _interopRequireWildcard(_import3);\n\n\tvar _noConflict = __webpack_require__(6);\n\n\tvar _noConflict2 = _interopRequireWildcard(_noConflict);\n\n\t// For compatibility and usage outside of module systems, make the Handlebars object a namespace\n\tfunction create() {\n\t  var hb = new base.HandlebarsEnvironment();\n\n\t  Utils.extend(hb, base);\n\t  hb.SafeString = _SafeString2['default'];\n\t  hb.Exception = _Exception2['default'];\n\t  hb.Utils = Utils;\n\t  hb.escapeExpression = Utils.escapeExpression;\n\n\t  hb.VM = runtime;\n\t  hb.template = function (spec) {\n\t    return runtime.template(spec, hb);\n\t  };\n\n\t  return hb;\n\t}\n\n\tvar inst = create();\n\tinst.create = create;\n\n\t_noConflict2['default'](inst);\n\n\tinst['default'] = inst;\n\n\texports['default'] = inst;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireWildcard = __webpack_require__(7)['default'];\n\n\texports.__esModule = true;\n\texports.HandlebarsEnvironment = HandlebarsEnvironment;\n\texports.createFrame = createFrame;\n\n\tvar _import = __webpack_require__(4);\n\n\tvar Utils = _interopRequireWildcard(_import);\n\n\tvar _Exception = __webpack_require__(3);\n\n\tvar _Exception2 = _interopRequireWildcard(_Exception);\n\n\tvar VERSION = '3.0.1';\n\texports.VERSION = VERSION;\n\tvar COMPILER_REVISION = 6;\n\n\texports.COMPILER_REVISION = COMPILER_REVISION;\n\tvar REVISION_CHANGES = {\n\t  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\n\t  2: '== 1.0.0-rc.3',\n\t  3: '== 1.0.0-rc.4',\n\t  4: '== 1.x.x',\n\t  5: '== 2.0.0-alpha.x',\n\t  6: '>= 2.0.0-beta.1'\n\t};\n\n\texports.REVISION_CHANGES = REVISION_CHANGES;\n\tvar isArray = Utils.isArray,\n\t    isFunction = Utils.isFunction,\n\t    toString = Utils.toString,\n\t    objectType = '[object Object]';\n\n\tfunction HandlebarsEnvironment(helpers, partials) {\n\t  this.helpers = helpers || {};\n\t  this.partials = partials || {};\n\n\t  registerDefaultHelpers(this);\n\t}\n\n\tHandlebarsEnvironment.prototype = {\n\t  constructor: HandlebarsEnvironment,\n\n\t  logger: logger,\n\t  log: log,\n\n\t  registerHelper: function registerHelper(name, fn) {\n\t    if (toString.call(name) === objectType) {\n\t      if (fn) {\n\t        throw new _Exception2['default']('Arg not supported with multiple helpers');\n\t      }\n\t      Utils.extend(this.helpers, name);\n\t    } else {\n\t      this.helpers[name] = fn;\n\t    }\n\t  },\n\t  unregisterHelper: function unregisterHelper(name) {\n\t    delete this.helpers[name];\n\t  },\n\n\t  registerPartial: function registerPartial(name, partial) {\n\t    if (toString.call(name) === objectType) {\n\t      Utils.extend(this.partials, name);\n\t    } else {\n\t      if (typeof partial === 'undefined') {\n\t        throw new _Exception2['default']('Attempting to register a partial as undefined');\n\t      }\n\t      this.partials[name] = partial;\n\t    }\n\t  },\n\t  unregisterPartial: function unregisterPartial(name) {\n\t    delete this.partials[name];\n\t  }\n\t};\n\n\tfunction registerDefaultHelpers(instance) {\n\t  instance.registerHelper('helperMissing', function () {\n\t    if (arguments.length === 1) {\n\t      // A missing field in a {{foo}} constuct.\n\t      return undefined;\n\t    } else {\n\t      // Someone is actually trying to call something, blow up.\n\t      throw new _Exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n\t    }\n\t  });\n\n\t  instance.registerHelper('blockHelperMissing', function (context, options) {\n\t    var inverse = options.inverse,\n\t        fn = options.fn;\n\n\t    if (context === true) {\n\t      return fn(this);\n\t    } else if (context === false || context == null) {\n\t      return inverse(this);\n\t    } else if (isArray(context)) {\n\t      if (context.length > 0) {\n\t        if (options.ids) {\n\t          options.ids = [options.name];\n\t        }\n\n\t        return instance.helpers.each(context, options);\n\t      } else {\n\t        return inverse(this);\n\t      }\n\t    } else {\n\t      if (options.data && options.ids) {\n\t        var data = createFrame(options.data);\n\t        data.contextPath = Utils.appendContextPath(options.data.contextPath, options.name);\n\t        options = { data: data };\n\t      }\n\n\t      return fn(context, options);\n\t    }\n\t  });\n\n\t  instance.registerHelper('each', function (context, options) {\n\t    if (!options) {\n\t      throw new _Exception2['default']('Must pass iterator to #each');\n\t    }\n\n\t    var fn = options.fn,\n\t        inverse = options.inverse,\n\t        i = 0,\n\t        ret = '',\n\t        data = undefined,\n\t        contextPath = undefined;\n\n\t    if (options.data && options.ids) {\n\t      contextPath = Utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n\t    }\n\n\t    if (isFunction(context)) {\n\t      context = context.call(this);\n\t    }\n\n\t    if (options.data) {\n\t      data = createFrame(options.data);\n\t    }\n\n\t    function execIteration(field, index, last) {\n\t      if (data) {\n\t        data.key = field;\n\t        data.index = index;\n\t        data.first = index === 0;\n\t        data.last = !!last;\n\n\t        if (contextPath) {\n\t          data.contextPath = contextPath + field;\n\t        }\n\t      }\n\n\t      ret = ret + fn(context[field], {\n\t        data: data,\n\t        blockParams: Utils.blockParams([context[field], field], [contextPath + field, null])\n\t      });\n\t    }\n\n\t    if (context && typeof context === 'object') {\n\t      if (isArray(context)) {\n\t        for (var j = context.length; i < j; i++) {\n\t          execIteration(i, i, i === context.length - 1);\n\t        }\n\t      } else {\n\t        var priorKey = undefined;\n\n\t        for (var key in context) {\n\t          if (context.hasOwnProperty(key)) {\n\t            // We're running the iterations one step out of sync so we can detect\n\t            // the last iteration without have to scan the object twice and create\n\t            // an itermediate keys array.\n\t            if (priorKey) {\n\t              execIteration(priorKey, i - 1);\n\t            }\n\t            priorKey = key;\n\t            i++;\n\t          }\n\t        }\n\t        if (priorKey) {\n\t          execIteration(priorKey, i - 1, true);\n\t        }\n\t      }\n\t    }\n\n\t    if (i === 0) {\n\t      ret = inverse(this);\n\t    }\n\n\t    return ret;\n\t  });\n\n\t  instance.registerHelper('if', function (conditional, options) {\n\t    if (isFunction(conditional)) {\n\t      conditional = conditional.call(this);\n\t    }\n\n\t    // Default behavior is to render the positive path if the value is truthy and not empty.\n\t    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n\t    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n\t    if (!options.hash.includeZero && !conditional || Utils.isEmpty(conditional)) {\n\t      return options.inverse(this);\n\t    } else {\n\t      return options.fn(this);\n\t    }\n\t  });\n\n\t  instance.registerHelper('unless', function (conditional, options) {\n\t    return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });\n\t  });\n\n\t  instance.registerHelper('with', function (context, options) {\n\t    if (isFunction(context)) {\n\t      context = context.call(this);\n\t    }\n\n\t    var fn = options.fn;\n\n\t    if (!Utils.isEmpty(context)) {\n\t      if (options.data && options.ids) {\n\t        var data = createFrame(options.data);\n\t        data.contextPath = Utils.appendContextPath(options.data.contextPath, options.ids[0]);\n\t        options = { data: data };\n\t      }\n\n\t      return fn(context, options);\n\t    } else {\n\t      return options.inverse(this);\n\t    }\n\t  });\n\n\t  instance.registerHelper('log', function (message, options) {\n\t    var level = options.data && options.data.level != null ? parseInt(options.data.level, 10) : 1;\n\t    instance.log(level, message);\n\t  });\n\n\t  instance.registerHelper('lookup', function (obj, field) {\n\t    return obj && obj[field];\n\t  });\n\t}\n\n\tvar logger = {\n\t  methodMap: { 0: 'debug', 1: 'info', 2: 'warn', 3: 'error' },\n\n\t  // State enum\n\t  DEBUG: 0,\n\t  INFO: 1,\n\t  WARN: 2,\n\t  ERROR: 3,\n\t  level: 1,\n\n\t  // Can be overridden in the host environment\n\t  log: function log(level, message) {\n\t    if (typeof console !== 'undefined' && logger.level <= level) {\n\t      var method = logger.methodMap[level];\n\t      (console[method] || console.log).call(console, message); // eslint-disable-line no-console\n\t    }\n\t  }\n\t};\n\n\texports.logger = logger;\n\tvar log = logger.log;\n\n\texports.log = log;\n\n\tfunction createFrame(object) {\n\t  var frame = Utils.extend({}, object);\n\t  frame._parent = object;\n\t  return frame;\n\t}\n\n\t/* [args, ]options */\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\t// Build out our basic SafeString type\n\tfunction SafeString(string) {\n\t  this.string = string;\n\t}\n\n\tSafeString.prototype.toString = SafeString.prototype.toHTML = function () {\n\t  return '' + this.string;\n\t};\n\n\texports['default'] = SafeString;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\n\tvar errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];\n\n\tfunction Exception(message, node) {\n\t  var loc = node && node.loc,\n\t      line = undefined,\n\t      column = undefined;\n\t  if (loc) {\n\t    line = loc.start.line;\n\t    column = loc.start.column;\n\n\t    message += ' - ' + line + ':' + column;\n\t  }\n\n\t  var tmp = Error.prototype.constructor.call(this, message);\n\n\t  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\n\t  for (var idx = 0; idx < errorProps.length; idx++) {\n\t    this[errorProps[idx]] = tmp[errorProps[idx]];\n\t  }\n\n\t  if (Error.captureStackTrace) {\n\t    Error.captureStackTrace(this, Exception);\n\t  }\n\n\t  if (loc) {\n\t    this.lineNumber = line;\n\t    this.column = column;\n\t  }\n\t}\n\n\tException.prototype = new Error();\n\n\texports['default'] = Exception;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\texports.__esModule = true;\n\texports.extend = extend;\n\n\t// Older IE versions do not directly support indexOf so we must implement our own, sadly.\n\texports.indexOf = indexOf;\n\texports.escapeExpression = escapeExpression;\n\texports.isEmpty = isEmpty;\n\texports.blockParams = blockParams;\n\texports.appendContextPath = appendContextPath;\n\tvar escape = {\n\t  '&': '&amp;',\n\t  '<': '&lt;',\n\t  '>': '&gt;',\n\t  '\"': '&quot;',\n\t  '\\'': '&#x27;',\n\t  '`': '&#x60;'\n\t};\n\n\tvar badChars = /[&<>\"'`]/g,\n\t    possible = /[&<>\"'`]/;\n\n\tfunction escapeChar(chr) {\n\t  return escape[chr];\n\t}\n\n\tfunction extend(obj /* , ...source */) {\n\t  for (var i = 1; i < arguments.length; i++) {\n\t    for (var key in arguments[i]) {\n\t      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\n\t        obj[key] = arguments[i][key];\n\t      }\n\t    }\n\t  }\n\n\t  return obj;\n\t}\n\n\tvar toString = Object.prototype.toString;\n\n\texports.toString = toString;\n\t// Sourced from lodash\n\t// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\n\t/*eslint-disable func-style, no-var */\n\tvar isFunction = function isFunction(value) {\n\t  return typeof value === 'function';\n\t};\n\t// fallback for older versions of Chrome and Safari\n\t/* istanbul ignore next */\n\tif (isFunction(/x/)) {\n\t  exports.isFunction = isFunction = function (value) {\n\t    return typeof value === 'function' && toString.call(value) === '[object Function]';\n\t  };\n\t}\n\tvar isFunction;\n\texports.isFunction = isFunction;\n\t/*eslint-enable func-style, no-var */\n\n\t/* istanbul ignore next */\n\tvar isArray = Array.isArray || function (value) {\n\t  return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;\n\t};exports.isArray = isArray;\n\n\tfunction indexOf(array, value) {\n\t  for (var i = 0, len = array.length; i < len; i++) {\n\t    if (array[i] === value) {\n\t      return i;\n\t    }\n\t  }\n\t  return -1;\n\t}\n\n\tfunction escapeExpression(string) {\n\t  if (typeof string !== 'string') {\n\t    // don't escape SafeStrings, since they're already safe\n\t    if (string && string.toHTML) {\n\t      return string.toHTML();\n\t    } else if (string == null) {\n\t      return '';\n\t    } else if (!string) {\n\t      return string + '';\n\t    }\n\n\t    // Force a string conversion as this will be done by the append regardless and\n\t    // the regex test will do this transparently behind the scenes, causing issues if\n\t    // an object's to string has escaped characters in it.\n\t    string = '' + string;\n\t  }\n\n\t  if (!possible.test(string)) {\n\t    return string;\n\t  }\n\t  return string.replace(badChars, escapeChar);\n\t}\n\n\tfunction isEmpty(value) {\n\t  if (!value && value !== 0) {\n\t    return true;\n\t  } else if (isArray(value) && value.length === 0) {\n\t    return true;\n\t  } else {\n\t    return false;\n\t  }\n\t}\n\n\tfunction blockParams(params, ids) {\n\t  params.path = ids;\n\t  return params;\n\t}\n\n\tfunction appendContextPath(contextPath, id) {\n\t  return (contextPath ? contextPath + '.' : '') + id;\n\t}\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequireWildcard = __webpack_require__(7)['default'];\n\n\texports.__esModule = true;\n\texports.checkRevision = checkRevision;\n\n\t// TODO: Remove this line and break up compilePartial\n\n\texports.template = template;\n\texports.wrapProgram = wrapProgram;\n\texports.resolvePartial = resolvePartial;\n\texports.invokePartial = invokePartial;\n\texports.noop = noop;\n\n\tvar _import = __webpack_require__(4);\n\n\tvar Utils = _interopRequireWildcard(_import);\n\n\tvar _Exception = __webpack_require__(3);\n\n\tvar _Exception2 = _interopRequireWildcard(_Exception);\n\n\tvar _COMPILER_REVISION$REVISION_CHANGES$createFrame = __webpack_require__(1);\n\n\tfunction checkRevision(compilerInfo) {\n\t  var compilerRevision = compilerInfo && compilerInfo[0] || 1,\n\t      currentRevision = _COMPILER_REVISION$REVISION_CHANGES$createFrame.COMPILER_REVISION;\n\n\t  if (compilerRevision !== currentRevision) {\n\t    if (compilerRevision < currentRevision) {\n\t      var runtimeVersions = _COMPILER_REVISION$REVISION_CHANGES$createFrame.REVISION_CHANGES[currentRevision],\n\t          compilerVersions = _COMPILER_REVISION$REVISION_CHANGES$createFrame.REVISION_CHANGES[compilerRevision];\n\t      throw new _Exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');\n\t    } else {\n\t      // Use the embedded version info since the runtime doesn't know about this revision yet\n\t      throw new _Exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');\n\t    }\n\t  }\n\t}\n\n\tfunction template(templateSpec, env) {\n\t  /* istanbul ignore next */\n\t  if (!env) {\n\t    throw new _Exception2['default']('No environment passed to template');\n\t  }\n\t  if (!templateSpec || !templateSpec.main) {\n\t    throw new _Exception2['default']('Unknown template object: ' + typeof templateSpec);\n\t  }\n\n\t  // Note: Using env.VM references rather than local var references throughout this section to allow\n\t  // for external users to override these as psuedo-supported APIs.\n\t  env.VM.checkRevision(templateSpec.compiler);\n\n\t  function invokePartialWrapper(partial, context, options) {\n\t    if (options.hash) {\n\t      context = Utils.extend({}, context, options.hash);\n\t    }\n\n\t    partial = env.VM.resolvePartial.call(this, partial, context, options);\n\t    var result = env.VM.invokePartial.call(this, partial, context, options);\n\n\t    if (result == null && env.compile) {\n\t      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);\n\t      result = options.partials[options.name](context, options);\n\t    }\n\t    if (result != null) {\n\t      if (options.indent) {\n\t        var lines = result.split('\\n');\n\t        for (var i = 0, l = lines.length; i < l; i++) {\n\t          if (!lines[i] && i + 1 === l) {\n\t            break;\n\t          }\n\n\t          lines[i] = options.indent + lines[i];\n\t        }\n\t        result = lines.join('\\n');\n\t      }\n\t      return result;\n\t    } else {\n\t      throw new _Exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');\n\t    }\n\t  }\n\n\t  // Just add water\n\t  var container = {\n\t    strict: function strict(obj, name) {\n\t      if (!(name in obj)) {\n\t        throw new _Exception2['default']('\"' + name + '\" not defined in ' + obj);\n\t      }\n\t      return obj[name];\n\t    },\n\t    lookup: function lookup(depths, name) {\n\t      var len = depths.length;\n\t      for (var i = 0; i < len; i++) {\n\t        if (depths[i] && depths[i][name] != null) {\n\t          return depths[i][name];\n\t        }\n\t      }\n\t    },\n\t    lambda: function lambda(current, context) {\n\t      return typeof current === 'function' ? current.call(context) : current;\n\t    },\n\n\t    escapeExpression: Utils.escapeExpression,\n\t    invokePartial: invokePartialWrapper,\n\n\t    fn: function fn(i) {\n\t      return templateSpec[i];\n\t    },\n\n\t    programs: [],\n\t    program: function program(i, data, declaredBlockParams, blockParams, depths) {\n\t      var programWrapper = this.programs[i],\n\t          fn = this.fn(i);\n\t      if (data || depths || blockParams || declaredBlockParams) {\n\t        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);\n\t      } else if (!programWrapper) {\n\t        programWrapper = this.programs[i] = wrapProgram(this, i, fn);\n\t      }\n\t      return programWrapper;\n\t    },\n\n\t    data: function data(value, depth) {\n\t      while (value && depth--) {\n\t        value = value._parent;\n\t      }\n\t      return value;\n\t    },\n\t    merge: function merge(param, common) {\n\t      var obj = param || common;\n\n\t      if (param && common && param !== common) {\n\t        obj = Utils.extend({}, common, param);\n\t      }\n\n\t      return obj;\n\t    },\n\n\t    noop: env.VM.noop,\n\t    compilerInfo: templateSpec.compiler\n\t  };\n\n\t  function ret(context) {\n\t    var options = arguments[1] === undefined ? {} : arguments[1];\n\n\t    var data = options.data;\n\n\t    ret._setup(options);\n\t    if (!options.partial && templateSpec.useData) {\n\t      data = initData(context, data);\n\t    }\n\t    var depths = undefined,\n\t        blockParams = templateSpec.useBlockParams ? [] : undefined;\n\t    if (templateSpec.useDepths) {\n\t      depths = options.depths ? [context].concat(options.depths) : [context];\n\t    }\n\n\t    return templateSpec.main.call(container, context, container.helpers, container.partials, data, blockParams, depths);\n\t  }\n\t  ret.isTop = true;\n\n\t  ret._setup = function (options) {\n\t    if (!options.partial) {\n\t      container.helpers = container.merge(options.helpers, env.helpers);\n\n\t      if (templateSpec.usePartial) {\n\t        container.partials = container.merge(options.partials, env.partials);\n\t      }\n\t    } else {\n\t      container.helpers = options.helpers;\n\t      container.partials = options.partials;\n\t    }\n\t  };\n\n\t  ret._child = function (i, data, blockParams, depths) {\n\t    if (templateSpec.useBlockParams && !blockParams) {\n\t      throw new _Exception2['default']('must pass block params');\n\t    }\n\t    if (templateSpec.useDepths && !depths) {\n\t      throw new _Exception2['default']('must pass parent depths');\n\t    }\n\n\t    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);\n\t  };\n\t  return ret;\n\t}\n\n\tfunction wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {\n\t  function prog(context) {\n\t    var options = arguments[1] === undefined ? {} : arguments[1];\n\n\t    return fn.call(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), depths && [context].concat(depths));\n\t  }\n\t  prog.program = i;\n\t  prog.depth = depths ? depths.length : 0;\n\t  prog.blockParams = declaredBlockParams || 0;\n\t  return prog;\n\t}\n\n\tfunction resolvePartial(partial, context, options) {\n\t  if (!partial) {\n\t    partial = options.partials[options.name];\n\t  } else if (!partial.call && !options.name) {\n\t    // This is a dynamic partial that returned a string\n\t    options.name = partial;\n\t    partial = options.partials[partial];\n\t  }\n\t  return partial;\n\t}\n\n\tfunction invokePartial(partial, context, options) {\n\t  options.partial = true;\n\n\t  if (partial === undefined) {\n\t    throw new _Exception2['default']('The partial ' + options.name + ' could not be found');\n\t  } else if (partial instanceof Function) {\n\t    return partial(context, options);\n\t  }\n\t}\n\n\tfunction noop() {\n\t  return '';\n\t}\n\n\tfunction initData(context, data) {\n\t  if (!data || !('root' in data)) {\n\t    data = data ? _COMPILER_REVISION$REVISION_CHANGES$createFrame.createFrame(data) : {};\n\t    data.root = context;\n\t  }\n\t  return data;\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\n\texports.__esModule = true;\n\t/*global window */\n\n\texports['default'] = function (Handlebars) {\n\t  /* istanbul ignore next */\n\t  var root = typeof global !== 'undefined' ? global : window,\n\t      $Handlebars = root.Handlebars;\n\t  /* istanbul ignore next */\n\t  Handlebars.noConflict = function () {\n\t    if (root.Handlebars === Handlebars) {\n\t      root.Handlebars = $Handlebars;\n\t    }\n\t  };\n\t};\n\n\tmodule.exports = exports['default'];\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\texports[\"default\"] = function (obj) {\n\t  return obj && obj.__esModule ? obj : {\n\t    \"default\": obj\n\t  };\n\t};\n\n\texports.__esModule = true;\n\n/***/ }\n/******/ ])\n});\n;\n","// medium-editor-insert-plugin needs its own Handlebars, not Meteor's\n// Handlebars. Fortunately, the local one is still available before Meteor's\n// takes over.\nHandlebars = window.Handlebars;\n","/* ===================================================\n *  jquery-sortable.js v0.9.12\n *  http://johnny.github.com/jquery-sortable/\n * ===================================================\n *  Copyright (c) 2012 Jonas von Andrian\n *  All rights reserved.\n *\n *  Redistribution and use in source and binary forms, with or without\n *  modification, are permitted provided that the following conditions are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * The name of the author may not be used to endorse or promote products\n *    derived from this software without specific prior written permission.\n *\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n *  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n *  DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY\n *  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n *  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n *  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n *  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n *  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n *  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n * ========================================================== */\n\n!function ( $, window, pluginName, undefined){\n  var eventNames,\n  containerDefaults = {\n    // If true, items can be dragged from this container\n    drag: true,\n    // If true, items can be droped onto this container\n    drop: true,\n    // Exclude items from being draggable, if the\n    // selector matches the item\n    exclude: \"\",\n    // If true, search for nested containers within an item\n    nested: true,\n    // If true, the items are assumed to be arranged vertically\n    vertical: true\n  }, // end container defaults\n  groupDefaults = {\n    // This is executed after the placeholder has been moved.\n    // $closestItemOrContainer contains the closest item, the placeholder\n    // has been put at or the closest empty Container, the placeholder has\n    // been appended to.\n    afterMove: function ($placeholder, container, $closestItemOrContainer) {\n    },\n    // The exact css path between the container and its items, e.g. \"> tbody\"\n    containerPath: \"\",\n    // The css selector of the containers\n    containerSelector: \"ol, ul\",\n    // Distance the mouse has to travel to start dragging\n    distance: 0,\n    // Time in milliseconds after mousedown until dragging should start.\n    // This option can be used to prevent unwanted drags when clicking on an element.\n    delay: 0,\n    // The css selector of the drag handle\n    handle: \"\",\n    // The exact css path between the item and its subcontainers\n    itemPath: \"\",\n    // The css selector of the items\n    itemSelector: \"li\",\n    // Check if the dragged item may be inside the container.\n    // Use with care, since the search for a valid container entails a depth first search\n    // and may be quite expensive.\n    isValidTarget: function ($item, container) {\n      return true\n    },\n    // Executed before onDrop if placeholder is detached.\n    // This happens if pullPlaceholder is set to false and the drop occurs outside a container.\n    onCancel: function ($item, container, _super, event) {\n    },\n    // Executed at the beginning of a mouse move event.\n    // The Placeholder has not been moved yet.\n    onDrag: function ($item, position, _super, event) {\n      $item.css(position)\n    },\n    // Called after the drag has been started,\n    // that is the mouse button is beeing held down and\n    // the mouse is moving.\n    // The container is the closest initialized container.\n    // Therefore it might not be the container, that actually contains the item.\n    onDragStart: function ($item, container, _super, event) {\n      $item.css({\n        height: $item.height(),\n        width: $item.width()\n      })\n      $item.addClass(\"dragged\")\n      $(\"body\").addClass(\"dragging\")\n    },\n    // Called when the mouse button is beeing released\n    onDrop: function ($item, container, _super, event) {\n      $item.removeClass(\"dragged\").removeAttr(\"style\")\n      $(\"body\").removeClass(\"dragging\")\n    },\n    // Called on mousedown. If falsy value is returned, the dragging will not start.\n    // If clicked on input element, ignore\n    onMousedown: function ($item, _super, event) {\n      if (!event.target.nodeName.match(/^(input|select)$/i)) {\n        event.preventDefault()\n        return true\n      }\n    },\n    // Template for the placeholder. Can be any valid jQuery input\n    // e.g. a string, a DOM element.\n    // The placeholder must have the class \"placeholder\"\n    placeholder: '<li class=\"placeholder\"/>',\n    // If true, the position of the placeholder is calculated on every mousemove.\n    // If false, it is only calculated when the mouse is above a container.\n    pullPlaceholder: true,\n    // Specifies serialization of the container group.\n    // The pair $parent/$children is either container/items or item/subcontainers.\n    serialize: function ($parent, $children, parentIsContainer) {\n      var result = $.extend({}, $parent.data())\n\n      if(parentIsContainer)\n        return [$children]\n      else if ($children[0]){\n        result.children = $children\n      }\n\n      delete result.subContainers\n      delete result.sortable\n\n      return result\n    },\n    // Set tolerance while dragging. Positive values decrease sensitivity,\n    // negative values increase it.\n    tolerance: 0\n  }, // end group defaults\n  containerGroups = {},\n  groupCounter = 0,\n  emptyBox = {\n    left: 0,\n    top: 0,\n    bottom: 0,\n    right:0\n  },\n  eventNames = {\n    start: \"touchstart.sortable mousedown.sortable\",\n    drop: \"touchend.sortable touchcancel.sortable mouseup.sortable\",\n    drag: \"touchmove.sortable mousemove.sortable\",\n    scroll: \"scroll.sortable\"\n  },\n  subContainerKey = \"subContainers\"\n\n  /*\n   * a is Array [left, right, top, bottom]\n   * b is array [left, top]\n   */\n  function d(a,b) {\n    var x = Math.max(0, a[0] - b[0], b[0] - a[1]),\n    y = Math.max(0, a[2] - b[1], b[1] - a[3])\n    return x+y;\n  }\n\n  function setDimensions(array, dimensions, tolerance, useOffset) {\n    var i = array.length,\n    offsetMethod = useOffset ? \"offset\" : \"position\"\n    tolerance = tolerance || 0\n\n    while(i--){\n      var el = array[i].el ? array[i].el : $(array[i]),\n      // use fitting method\n      pos = el[offsetMethod]()\n      pos.left += parseInt(el.css('margin-left'), 10)\n      pos.top += parseInt(el.css('margin-top'),10)\n      dimensions[i] = [\n        pos.left - tolerance,\n        pos.left + el.outerWidth() + tolerance,\n        pos.top - tolerance,\n        pos.top + el.outerHeight() + tolerance\n      ]\n    }\n  }\n\n  function getRelativePosition(pointer, element) {\n    var offset = element.offset()\n    return {\n      left: pointer.left - offset.left,\n      top: pointer.top - offset.top\n    }\n  }\n\n  function sortByDistanceDesc(dimensions, pointer, lastPointer) {\n    pointer = [pointer.left, pointer.top]\n    lastPointer = lastPointer && [lastPointer.left, lastPointer.top]\n\n    var dim,\n    i = dimensions.length,\n    distances = []\n\n    while(i--){\n      dim = dimensions[i]\n      distances[i] = [i,d(dim,pointer), lastPointer && d(dim, lastPointer)]\n    }\n    distances = distances.sort(function  (a,b) {\n      return b[1] - a[1] || b[2] - a[2] || b[0] - a[0]\n    })\n\n    // last entry is the closest\n    return distances\n  }\n\n  function ContainerGroup(options) {\n    this.options = $.extend({}, groupDefaults, options)\n    this.containers = []\n\n    if(!this.options.rootGroup){\n      this.scrollProxy = $.proxy(this.scroll, this)\n      this.dragProxy = $.proxy(this.drag, this)\n      this.dropProxy = $.proxy(this.drop, this)\n      this.placeholder = $(this.options.placeholder)\n\n      if(!options.isValidTarget)\n        this.options.isValidTarget = undefined\n    }\n  }\n\n  ContainerGroup.get = function  (options) {\n    if(!containerGroups[options.group]) {\n      if(options.group === undefined)\n        options.group = groupCounter ++\n\n      containerGroups[options.group] = new ContainerGroup(options)\n    }\n\n    return containerGroups[options.group]\n  }\n\n  ContainerGroup.prototype = {\n    dragInit: function  (e, itemContainer) {\n      this.$document = $(itemContainer.el[0].ownerDocument)\n\n      // get item to drag\n      this.item = $(e.target).closest(this.options.itemSelector)\n      this.itemContainer = itemContainer\n\n      if(this.item.is(this.options.exclude) ||\n         !this.options.onMousedown(this.item, groupDefaults.onMousedown, e)){\n        return\n      }\n\n      this.setPointer(e)\n      this.toggleListeners('on')\n\n      this.setupDelayTimer()\n      this.dragInitDone = true\n    },\n    drag: function  (e) {\n      if(!this.dragging){\n        if(!this.distanceMet(e) || !this.delayMet)\n          return\n\n        this.options.onDragStart(this.item, this.itemContainer, groupDefaults.onDragStart, e)\n        this.item.before(this.placeholder)\n        this.dragging = true\n      }\n\n      this.setPointer(e)\n      // place item under the cursor\n      this.options.onDrag(this.item,\n                          getRelativePosition(this.pointer, this.item.offsetParent()),\n                          groupDefaults.onDrag,\n                          e)\n\n      var x = e.pageX || e.originalEvent.pageX,\n      y = e.pageY || e.originalEvent.pageY,\n      box = this.sameResultBox,\n      t = this.options.tolerance\n\n      if(!box || box.top - t > y || box.bottom + t < y || box.left - t > x || box.right + t < x)\n        if(!this.searchValidTarget())\n          this.placeholder.detach()\n    },\n    drop: function  (e) {\n      this.toggleListeners('off')\n\n      this.dragInitDone = false\n\n      if(this.dragging){\n        // processing Drop, check if placeholder is detached\n        if(this.placeholder.closest(\"html\")[0])\n          this.placeholder.before(this.item).detach()\n        else\n          this.options.onCancel(this.item, this.itemContainer, groupDefaults.onCancel, e)\n\n        this.options.onDrop(this.item, this.getContainer(this.item), groupDefaults.onDrop, e)\n\n        // cleanup\n        this.clearDimensions()\n        this.clearOffsetParent()\n        this.lastAppendedItem = this.sameResultBox = undefined\n        this.dragging = false\n      }\n    },\n    searchValidTarget: function  (pointer, lastPointer) {\n      if(!pointer){\n        pointer = this.relativePointer || this.pointer\n        lastPointer = this.lastRelativePointer || this.lastPointer\n      }\n\n      var distances = sortByDistanceDesc(this.getContainerDimensions(),\n                                         pointer,\n                                         lastPointer),\n      i = distances.length\n\n      while(i--){\n        var index = distances[i][0],\n        distance = distances[i][1]\n\n        if(!distance || this.options.pullPlaceholder){\n          var container = this.containers[index]\n          if(!container.disabled){\n            if(!this.$getOffsetParent()){\n              var offsetParent = container.getItemOffsetParent()\n              pointer = getRelativePosition(pointer, offsetParent)\n              lastPointer = getRelativePosition(lastPointer, offsetParent)\n            }\n            if(container.searchValidTarget(pointer, lastPointer))\n              return true\n          }\n        }\n      }\n      if(this.sameResultBox)\n        this.sameResultBox = undefined\n    },\n    movePlaceholder: function  (container, item, method, sameResultBox) {\n      var lastAppendedItem = this.lastAppendedItem\n      if(!sameResultBox && lastAppendedItem && lastAppendedItem[0] === item[0])\n        return;\n\n      item[method](this.placeholder)\n      this.lastAppendedItem = item\n      this.sameResultBox = sameResultBox\n      this.options.afterMove(this.placeholder, container, item)\n    },\n    getContainerDimensions: function  () {\n      if(!this.containerDimensions)\n        setDimensions(this.containers, this.containerDimensions = [], this.options.tolerance, !this.$getOffsetParent())\n      return this.containerDimensions\n    },\n    getContainer: function  (element) {\n      return element.closest(this.options.containerSelector).data(pluginName)\n    },\n    $getOffsetParent: function  () {\n      if(this.offsetParent === undefined){\n        var i = this.containers.length - 1,\n        offsetParent = this.containers[i].getItemOffsetParent()\n\n        if(!this.options.rootGroup){\n          while(i--){\n            if(offsetParent[0] != this.containers[i].getItemOffsetParent()[0]){\n              // If every container has the same offset parent,\n              // use position() which is relative to this parent,\n              // otherwise use offset()\n              // compare #setDimensions\n              offsetParent = false\n              break;\n            }\n          }\n        }\n\n        this.offsetParent = offsetParent\n      }\n      return this.offsetParent\n    },\n    setPointer: function (e) {\n      var pointer = this.getPointer(e)\n\n      if(this.$getOffsetParent()){\n        var relativePointer = getRelativePosition(pointer, this.$getOffsetParent())\n        this.lastRelativePointer = this.relativePointer\n        this.relativePointer = relativePointer\n      }\n\n      this.lastPointer = this.pointer\n      this.pointer = pointer\n    },\n    distanceMet: function (e) {\n      var currentPointer = this.getPointer(e)\n      return (Math.max(\n        Math.abs(this.pointer.left - currentPointer.left),\n        Math.abs(this.pointer.top - currentPointer.top)\n      ) >= this.options.distance)\n    },\n    getPointer: function(e) {\n      return {\n        left: e.pageX || e.originalEvent.pageX,\n        top: e.pageY || e.originalEvent.pageY\n      }\n    },\n    setupDelayTimer: function () {\n      var that = this\n      this.delayMet = !this.options.delay\n\n      // init delay timer if needed\n      if (!this.delayMet) {\n        clearTimeout(this._mouseDelayTimer);\n        this._mouseDelayTimer = setTimeout(function() {\n          that.delayMet = true\n        }, this.options.delay)\n      }\n    },\n    scroll: function  (e) {\n      this.clearDimensions()\n      this.clearOffsetParent() // TODO is this needed?\n    },\n    toggleListeners: function (method) {\n      var that = this,\n      events = ['drag','drop','scroll']\n\n      $.each(events,function  (i,event) {\n        that.$document[method](eventNames[event], that[event + 'Proxy'])\n      })\n    },\n    clearOffsetParent: function () {\n      this.offsetParent = undefined\n    },\n    // Recursively clear container and item dimensions\n    clearDimensions: function  () {\n      this.traverse(function(object){\n        object._clearDimensions()\n      })\n    },\n    traverse: function(callback) {\n      callback(this)\n      var i = this.containers.length\n      while(i--){\n        this.containers[i].traverse(callback)\n      }\n    },\n    _clearDimensions: function(){\n      this.containerDimensions = undefined\n    },\n    _destroy: function () {\n      containerGroups[this.options.group] = undefined\n    }\n  }\n\n  function Container(element, options) {\n    this.el = element\n    this.options = $.extend( {}, containerDefaults, options)\n\n    this.group = ContainerGroup.get(this.options)\n    this.rootGroup = this.options.rootGroup || this.group\n    this.handle = this.rootGroup.options.handle || this.rootGroup.options.itemSelector\n\n    var itemPath = this.rootGroup.options.itemPath\n    this.target = itemPath ? this.el.find(itemPath) : this.el\n\n    this.target.on(eventNames.start, this.handle, $.proxy(this.dragInit, this))\n\n    if(this.options.drop)\n      this.group.containers.push(this)\n  }\n\n  Container.prototype = {\n    dragInit: function  (e) {\n      var rootGroup = this.rootGroup\n\n      if( !this.disabled &&\n          !rootGroup.dragInitDone &&\n          this.options.drag &&\n          this.isValidDrag(e)) {\n        rootGroup.dragInit(e, this)\n      }\n    },\n    isValidDrag: function(e) {\n      return e.which == 1 ||\n        e.type == \"touchstart\" && e.originalEvent.touches.length == 1\n    },\n    searchValidTarget: function  (pointer, lastPointer) {\n      var distances = sortByDistanceDesc(this.getItemDimensions(),\n                                         pointer,\n                                         lastPointer),\n      i = distances.length,\n      rootGroup = this.rootGroup,\n      validTarget = !rootGroup.options.isValidTarget ||\n        rootGroup.options.isValidTarget(rootGroup.item, this)\n\n      if(!i && validTarget){\n        rootGroup.movePlaceholder(this, this.target, \"append\")\n        return true\n      } else\n        while(i--){\n          var index = distances[i][0],\n          distance = distances[i][1]\n          if(!distance && this.hasChildGroup(index)){\n            var found = this.getContainerGroup(index).searchValidTarget(pointer, lastPointer)\n            if(found)\n              return true\n          }\n          else if(validTarget){\n            this.movePlaceholder(index, pointer)\n            return true\n          }\n        }\n    },\n    movePlaceholder: function  (index, pointer) {\n      var item = $(this.items[index]),\n      dim = this.itemDimensions[index],\n      method = \"after\",\n      width = item.outerWidth(),\n      height = item.outerHeight(),\n      offset = item.offset(),\n      sameResultBox = {\n        left: offset.left,\n        right: offset.left + width,\n        top: offset.top,\n        bottom: offset.top + height\n      }\n      if(this.options.vertical){\n        var yCenter = (dim[2] + dim[3]) / 2,\n        inUpperHalf = pointer.top <= yCenter\n        if(inUpperHalf){\n          method = \"before\"\n          sameResultBox.bottom -= height / 2\n        } else\n          sameResultBox.top += height / 2\n      } else {\n        var xCenter = (dim[0] + dim[1]) / 2,\n        inLeftHalf = pointer.left <= xCenter\n        if(inLeftHalf){\n          method = \"before\"\n          sameResultBox.right -= width / 2\n        } else\n          sameResultBox.left += width / 2\n      }\n      if(this.hasChildGroup(index))\n        sameResultBox = emptyBox\n      this.rootGroup.movePlaceholder(this, item, method, sameResultBox)\n    },\n    getItemDimensions: function  () {\n      if(!this.itemDimensions){\n        this.items = this.$getChildren(this.el, \"item\").filter(\":not(.placeholder, .dragged)\").get()\n        setDimensions(this.items, this.itemDimensions = [], this.options.tolerance)\n      }\n      return this.itemDimensions\n    },\n    getItemOffsetParent: function  () {\n      var offsetParent,\n      el = this.el\n      // Since el might be empty we have to check el itself and\n      // can not do something like el.children().first().offsetParent()\n      if(el.css(\"position\") === \"relative\" || el.css(\"position\") === \"absolute\"  || el.css(\"position\") === \"fixed\")\n        offsetParent = el\n      else\n        offsetParent = el.offsetParent()\n      return offsetParent\n    },\n    hasChildGroup: function (index) {\n      return this.options.nested && this.getContainerGroup(index)\n    },\n    getContainerGroup: function  (index) {\n      var childGroup = $.data(this.items[index], subContainerKey)\n      if( childGroup === undefined){\n        var childContainers = this.$getChildren(this.items[index], \"container\")\n        childGroup = false\n\n        if(childContainers[0]){\n          var options = $.extend({}, this.options, {\n            rootGroup: this.rootGroup,\n            group: groupCounter ++\n          })\n          childGroup = childContainers[pluginName](options).data(pluginName).group\n        }\n        $.data(this.items[index], subContainerKey, childGroup)\n      }\n      return childGroup\n    },\n    $getChildren: function (parent, type) {\n      var options = this.rootGroup.options,\n      path = options[type + \"Path\"],\n      selector = options[type + \"Selector\"]\n\n      parent = $(parent)\n      if(path)\n        parent = parent.find(path)\n\n      return parent.children(selector)\n    },\n    _serialize: function (parent, isContainer) {\n      var that = this,\n      childType = isContainer ? \"item\" : \"container\",\n\n      children = this.$getChildren(parent, childType).not(this.options.exclude).map(function () {\n        return that._serialize($(this), !isContainer)\n      }).get()\n\n      return this.rootGroup.options.serialize(parent, children, isContainer)\n    },\n    traverse: function(callback) {\n      $.each(this.items || [], function(item){\n        var group = $.data(this, subContainerKey)\n        if(group)\n          group.traverse(callback)\n      });\n\n      callback(this)\n    },\n    _clearDimensions: function  () {\n      this.itemDimensions = undefined\n    },\n    _destroy: function() {\n      var that = this;\n\n      this.target.off(eventNames.start, this.handle);\n      this.el.removeData(pluginName)\n\n      if(this.options.drop)\n        this.group.containers = $.grep(this.group.containers, function(val){\n          return val != that\n        })\n\n      $.each(this.items || [], function(){\n        $.removeData(this, subContainerKey)\n      })\n    }\n  }\n\n  var API = {\n    enable: function() {\n      this.traverse(function(object){\n        object.disabled = false\n      })\n    },\n    disable: function (){\n      this.traverse(function(object){\n        object.disabled = true\n      })\n    },\n    serialize: function () {\n      return this._serialize(this.el, true)\n    },\n    refresh: function() {\n      this.traverse(function(object){\n        object._clearDimensions()\n      })\n    },\n    destroy: function () {\n      this.traverse(function(object){\n        object._destroy();\n      })\n    }\n  }\n\n  $.extend(Container.prototype, API)\n\n  /**\n   * jQuery API\n   *\n   * Parameters are\n   *   either options on init\n   *   or a method name followed by arguments to pass to the method\n   */\n  $.fn[pluginName] = function(methodOrOptions) {\n    var args = Array.prototype.slice.call(arguments, 1)\n\n    return this.map(function(){\n      var $t = $(this),\n      object = $t.data(pluginName)\n\n      if(object && API[methodOrOptions])\n        return API[methodOrOptions].apply(object, args) || this\n      else if(!object && (methodOrOptions === undefined ||\n                          typeof methodOrOptions === \"object\"))\n        $t.data(pluginName, new Container($t, methodOrOptions))\n\n      return this\n    });\n  };\n\n}(jQuery, window, 'sortable');\n","/*! jQuery UI - v1.11.1+CommonJS - 2014-09-17\n* http://jqueryui.com\n* Includes: widget.js\n* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */\n\n(function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([ \"jquery\" ], factory );\n\n\t} else if (typeof exports === \"object\") {\n\t\t// Node/CommonJS:\n\t\tfactory(require(\"jquery\"));\n\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}(function( $ ) {\n/*!\n * jQuery UI Widget 1.11.1\n * http://jqueryui.com\n *\n * Copyright 2014 jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/jQuery.widget/\n */\n\n\nvar widget_uuid = 0,\n\twidget_slice = Array.prototype.slice;\n\n$.cleanData = (function( orig ) {\n\treturn function( elems ) {\n\t\tvar events, elem, i;\n\t\tfor ( i = 0; (elem = elems[i]) != null; i++ ) {\n\t\t\ttry {\n\n\t\t\t\t// Only trigger remove when necessary to save time\n\t\t\t\tevents = $._data( elem, \"events\" );\n\t\t\t\tif ( events && events.remove ) {\n\t\t\t\t\t$( elem ).triggerHandler( \"remove\" );\n\t\t\t\t}\n\n\t\t\t// http://bugs.jquery.com/ticket/8235\n\t\t\t} catch( e ) {}\n\t\t}\n\t\torig( elems );\n\t};\n})( $.cleanData );\n\n$.widget = function( name, base, prototype ) {\n\tvar fullName, existingConstructor, constructor, basePrototype,\n\t\t// proxiedPrototype allows the provided prototype to remain unmodified\n\t\t// so that it can be used as a mixin for multiple widgets (#8876)\n\t\tproxiedPrototype = {},\n\t\tnamespace = name.split( \".\" )[ 0 ];\n\n\tname = name.split( \".\" )[ 1 ];\n\tfullName = namespace + \"-\" + name;\n\n\tif ( !prototype ) {\n\t\tprototype = base;\n\t\tbase = $.Widget;\n\t}\n\n\t// create selector for plugin\n\t$.expr[ \":\" ][ fullName.toLowerCase() ] = function( elem ) {\n\t\treturn !!$.data( elem, fullName );\n\t};\n\n\t$[ namespace ] = $[ namespace ] || {};\n\texistingConstructor = $[ namespace ][ name ];\n\tconstructor = $[ namespace ][ name ] = function( options, element ) {\n\t\t// allow instantiation without \"new\" keyword\n\t\tif ( !this._createWidget ) {\n\t\t\treturn new constructor( options, element );\n\t\t}\n\n\t\t// allow instantiation without initializing for simple inheritance\n\t\t// must use \"new\" keyword (the code above always passes args)\n\t\tif ( arguments.length ) {\n\t\t\tthis._createWidget( options, element );\n\t\t}\n\t};\n\t// extend with the existing constructor to carry over any static properties\n\t$.extend( constructor, existingConstructor, {\n\t\tversion: prototype.version,\n\t\t// copy the object used to create the prototype in case we need to\n\t\t// redefine the widget later\n\t\t_proto: $.extend( {}, prototype ),\n\t\t// track widgets that inherit from this widget in case this widget is\n\t\t// redefined after a widget inherits from it\n\t\t_childConstructors: []\n\t});\n\n\tbasePrototype = new base();\n\t// we need to make the options hash a property directly on the new instance\n\t// otherwise we'll modify the options hash on the prototype that we're\n\t// inheriting from\n\tbasePrototype.options = $.widget.extend( {}, basePrototype.options );\n\t$.each( prototype, function( prop, value ) {\n\t\tif ( !$.isFunction( value ) ) {\n\t\t\tproxiedPrototype[ prop ] = value;\n\t\t\treturn;\n\t\t}\n\t\tproxiedPrototype[ prop ] = (function() {\n\t\t\tvar _super = function() {\n\t\t\t\t\treturn base.prototype[ prop ].apply( this, arguments );\n\t\t\t\t},\n\t\t\t\t_superApply = function( args ) {\n\t\t\t\t\treturn base.prototype[ prop ].apply( this, args );\n\t\t\t\t};\n\t\t\treturn function() {\n\t\t\t\tvar __super = this._super,\n\t\t\t\t\t__superApply = this._superApply,\n\t\t\t\t\treturnValue;\n\n\t\t\t\tthis._super = _super;\n\t\t\t\tthis._superApply = _superApply;\n\n\t\t\t\treturnValue = value.apply( this, arguments );\n\n\t\t\t\tthis._super = __super;\n\t\t\t\tthis._superApply = __superApply;\n\n\t\t\t\treturn returnValue;\n\t\t\t};\n\t\t})();\n\t});\n\tconstructor.prototype = $.widget.extend( basePrototype, {\n\t\t// TODO: remove support for widgetEventPrefix\n\t\t// always use the name + a colon as the prefix, e.g., draggable:start\n\t\t// don't prefix for widgets that aren't DOM-based\n\t\twidgetEventPrefix: existingConstructor ? (basePrototype.widgetEventPrefix || name) : name\n\t}, proxiedPrototype, {\n\t\tconstructor: constructor,\n\t\tnamespace: namespace,\n\t\twidgetName: name,\n\t\twidgetFullName: fullName\n\t});\n\n\t// If this widget is being redefined then we need to find all widgets that\n\t// are inheriting from it and redefine all of them so that they inherit from\n\t// the new version of this widget. We're essentially trying to replace one\n\t// level in the prototype chain.\n\tif ( existingConstructor ) {\n\t\t$.each( existingConstructor._childConstructors, function( i, child ) {\n\t\t\tvar childPrototype = child.prototype;\n\n\t\t\t// redefine the child widget using the same prototype that was\n\t\t\t// originally used, but inherit from the new version of the base\n\t\t\t$.widget( childPrototype.namespace + \".\" + childPrototype.widgetName, constructor, child._proto );\n\t\t});\n\t\t// remove the list of existing child constructors from the old constructor\n\t\t// so the old child constructors can be garbage collected\n\t\tdelete existingConstructor._childConstructors;\n\t} else {\n\t\tbase._childConstructors.push( constructor );\n\t}\n\n\t$.widget.bridge( name, constructor );\n\n\treturn constructor;\n};\n\n$.widget.extend = function( target ) {\n\tvar input = widget_slice.call( arguments, 1 ),\n\t\tinputIndex = 0,\n\t\tinputLength = input.length,\n\t\tkey,\n\t\tvalue;\n\tfor ( ; inputIndex < inputLength; inputIndex++ ) {\n\t\tfor ( key in input[ inputIndex ] ) {\n\t\t\tvalue = input[ inputIndex ][ key ];\n\t\t\tif ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {\n\t\t\t\t// Clone objects\n\t\t\t\tif ( $.isPlainObject( value ) ) {\n\t\t\t\t\ttarget[ key ] = $.isPlainObject( target[ key ] ) ?\n\t\t\t\t\t\t$.widget.extend( {}, target[ key ], value ) :\n\t\t\t\t\t\t// Don't extend strings, arrays, etc. with objects\n\t\t\t\t\t\t$.widget.extend( {}, value );\n\t\t\t\t// Copy everything else by reference\n\t\t\t\t} else {\n\t\t\t\t\ttarget[ key ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn target;\n};\n\n$.widget.bridge = function( name, object ) {\n\tvar fullName = object.prototype.widgetFullName || name;\n\t$.fn[ name ] = function( options ) {\n\t\tvar isMethodCall = typeof options === \"string\",\n\t\t\targs = widget_slice.call( arguments, 1 ),\n\t\t\treturnValue = this;\n\n\t\t// allow multiple hashes to be passed on init\n\t\toptions = !isMethodCall && args.length ?\n\t\t\t$.widget.extend.apply( null, [ options ].concat(args) ) :\n\t\t\toptions;\n\n\t\tif ( isMethodCall ) {\n\t\t\tthis.each(function() {\n\t\t\t\tvar methodValue,\n\t\t\t\t\tinstance = $.data( this, fullName );\n\t\t\t\tif ( options === \"instance\" ) {\n\t\t\t\t\treturnValue = instance;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif ( !instance ) {\n\t\t\t\t\treturn $.error( \"cannot call methods on \" + name + \" prior to initialization; \" +\n\t\t\t\t\t\t\"attempted to call method '\" + options + \"'\" );\n\t\t\t\t}\n\t\t\t\tif ( !$.isFunction( instance[options] ) || options.charAt( 0 ) === \"_\" ) {\n\t\t\t\t\treturn $.error( \"no such method '\" + options + \"' for \" + name + \" widget instance\" );\n\t\t\t\t}\n\t\t\t\tmethodValue = instance[ options ].apply( instance, args );\n\t\t\t\tif ( methodValue !== instance && methodValue !== undefined ) {\n\t\t\t\t\treturnValue = methodValue && methodValue.jquery ?\n\t\t\t\t\t\treturnValue.pushStack( methodValue.get() ) :\n\t\t\t\t\t\tmethodValue;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.each(function() {\n\t\t\t\tvar instance = $.data( this, fullName );\n\t\t\t\tif ( instance ) {\n\t\t\t\t\tinstance.option( options || {} );\n\t\t\t\t\tif ( instance._init ) {\n\t\t\t\t\t\tinstance._init();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$.data( this, fullName, new object( options, this ) );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn returnValue;\n\t};\n};\n\n$.Widget = function( /* options, element */ ) {};\n$.Widget._childConstructors = [];\n\n$.Widget.prototype = {\n\twidgetName: \"widget\",\n\twidgetEventPrefix: \"\",\n\tdefaultElement: \"<div>\",\n\toptions: {\n\t\tdisabled: false,\n\n\t\t// callbacks\n\t\tcreate: null\n\t},\n\t_createWidget: function( options, element ) {\n\t\telement = $( element || this.defaultElement || this )[ 0 ];\n\t\tthis.element = $( element );\n\t\tthis.uuid = widget_uuid++;\n\t\tthis.eventNamespace = \".\" + this.widgetName + this.uuid;\n\t\tthis.options = $.widget.extend( {},\n\t\t\tthis.options,\n\t\t\tthis._getCreateOptions(),\n\t\t\toptions );\n\n\t\tthis.bindings = $();\n\t\tthis.hoverable = $();\n\t\tthis.focusable = $();\n\n\t\tif ( element !== this ) {\n\t\t\t$.data( element, this.widgetFullName, this );\n\t\t\tthis._on( true, this.element, {\n\t\t\t\tremove: function( event ) {\n\t\t\t\t\tif ( event.target === element ) {\n\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.document = $( element.style ?\n\t\t\t\t// element within the document\n\t\t\t\telement.ownerDocument :\n\t\t\t\t// element is window or document\n\t\t\t\telement.document || element );\n\t\t\tthis.window = $( this.document[0].defaultView || this.document[0].parentWindow );\n\t\t}\n\n\t\tthis._create();\n\t\tthis._trigger( \"create\", null, this._getCreateEventData() );\n\t\tthis._init();\n\t},\n\t_getCreateOptions: $.noop,\n\t_getCreateEventData: $.noop,\n\t_create: $.noop,\n\t_init: $.noop,\n\n\tdestroy: function() {\n\t\tthis._destroy();\n\t\t// we can probably remove the unbind calls in 2.0\n\t\t// all event bindings should go through this._on()\n\t\tthis.element\n\t\t\t.unbind( this.eventNamespace )\n\t\t\t.removeData( this.widgetFullName )\n\t\t\t// support: jquery <1.6.3\n\t\t\t// http://bugs.jquery.com/ticket/9413\n\t\t\t.removeData( $.camelCase( this.widgetFullName ) );\n\t\tthis.widget()\n\t\t\t.unbind( this.eventNamespace )\n\t\t\t.removeAttr( \"aria-disabled\" )\n\t\t\t.removeClass(\n\t\t\t\tthis.widgetFullName + \"-disabled \" +\n\t\t\t\t\"ui-state-disabled\" );\n\n\t\t// clean up events and states\n\t\tthis.bindings.unbind( this.eventNamespace );\n\t\tthis.hoverable.removeClass( \"ui-state-hover\" );\n\t\tthis.focusable.removeClass( \"ui-state-focus\" );\n\t},\n\t_destroy: $.noop,\n\n\twidget: function() {\n\t\treturn this.element;\n\t},\n\n\toption: function( key, value ) {\n\t\tvar options = key,\n\t\t\tparts,\n\t\t\tcurOption,\n\t\t\ti;\n\n\t\tif ( arguments.length === 0 ) {\n\t\t\t// don't return a reference to the internal hash\n\t\t\treturn $.widget.extend( {}, this.options );\n\t\t}\n\n\t\tif ( typeof key === \"string\" ) {\n\t\t\t// handle nested keys, e.g., \"foo.bar\" => { foo: { bar: ___ } }\n\t\t\toptions = {};\n\t\t\tparts = key.split( \".\" );\n\t\t\tkey = parts.shift();\n\t\t\tif ( parts.length ) {\n\t\t\t\tcurOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );\n\t\t\t\tfor ( i = 0; i < parts.length - 1; i++ ) {\n\t\t\t\t\tcurOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};\n\t\t\t\t\tcurOption = curOption[ parts[ i ] ];\n\t\t\t\t}\n\t\t\t\tkey = parts.pop();\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn curOption[ key ] === undefined ? null : curOption[ key ];\n\t\t\t\t}\n\t\t\t\tcurOption[ key ] = value;\n\t\t\t} else {\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn this.options[ key ] === undefined ? null : this.options[ key ];\n\t\t\t\t}\n\t\t\t\toptions[ key ] = value;\n\t\t\t}\n\t\t}\n\n\t\tthis._setOptions( options );\n\n\t\treturn this;\n\t},\n\t_setOptions: function( options ) {\n\t\tvar key;\n\n\t\tfor ( key in options ) {\n\t\t\tthis._setOption( key, options[ key ] );\n\t\t}\n\n\t\treturn this;\n\t},\n\t_setOption: function( key, value ) {\n\t\tthis.options[ key ] = value;\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis.widget()\n\t\t\t\t.toggleClass( this.widgetFullName + \"-disabled\", !!value );\n\n\t\t\t// If the widget is becoming disabled, then nothing is interactive\n\t\t\tif ( value ) {\n\t\t\t\tthis.hoverable.removeClass( \"ui-state-hover\" );\n\t\t\t\tthis.focusable.removeClass( \"ui-state-focus\" );\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tenable: function() {\n\t\treturn this._setOptions({ disabled: false });\n\t},\n\tdisable: function() {\n\t\treturn this._setOptions({ disabled: true });\n\t},\n\n\t_on: function( suppressDisabledCheck, element, handlers ) {\n\t\tvar delegateElement,\n\t\t\tinstance = this;\n\n\t\t// no suppressDisabledCheck flag, shuffle arguments\n\t\tif ( typeof suppressDisabledCheck !== \"boolean\" ) {\n\t\t\thandlers = element;\n\t\t\telement = suppressDisabledCheck;\n\t\t\tsuppressDisabledCheck = false;\n\t\t}\n\n\t\t// no element argument, shuffle and use this.element\n\t\tif ( !handlers ) {\n\t\t\thandlers = element;\n\t\t\telement = this.element;\n\t\t\tdelegateElement = this.widget();\n\t\t} else {\n\t\t\telement = delegateElement = $( element );\n\t\t\tthis.bindings = this.bindings.add( element );\n\t\t}\n\n\t\t$.each( handlers, function( event, handler ) {\n\t\t\tfunction handlerProxy() {\n\t\t\t\t// allow widgets to customize the disabled handling\n\t\t\t\t// - disabled as an array instead of boolean\n\t\t\t\t// - disabled class as method for disabling individual parts\n\t\t\t\tif ( !suppressDisabledCheck &&\n\t\t\t\t\t\t( instance.options.disabled === true ||\n\t\t\t\t\t\t\t$( this ).hasClass( \"ui-state-disabled\" ) ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t\t.apply( instance, arguments );\n\t\t\t}\n\n\t\t\t// copy the guid so direct unbinding works\n\t\t\tif ( typeof handler !== \"string\" ) {\n\t\t\t\thandlerProxy.guid = handler.guid =\n\t\t\t\t\thandler.guid || handlerProxy.guid || $.guid++;\n\t\t\t}\n\n\t\t\tvar match = event.match( /^([\\w:-]*)\\s*(.*)$/ ),\n\t\t\t\teventName = match[1] + instance.eventNamespace,\n\t\t\t\tselector = match[2];\n\t\t\tif ( selector ) {\n\t\t\t\tdelegateElement.delegate( selector, eventName, handlerProxy );\n\t\t\t} else {\n\t\t\t\telement.bind( eventName, handlerProxy );\n\t\t\t}\n\t\t});\n\t},\n\n\t_off: function( element, eventName ) {\n\t\teventName = (eventName || \"\").split( \" \" ).join( this.eventNamespace + \" \" ) + this.eventNamespace;\n\t\telement.unbind( eventName ).undelegate( eventName );\n\t},\n\n\t_delay: function( handler, delay ) {\n\t\tfunction handlerProxy() {\n\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t.apply( instance, arguments );\n\t\t}\n\t\tvar instance = this;\n\t\treturn setTimeout( handlerProxy, delay || 0 );\n\t},\n\n\t_hoverable: function( element ) {\n\t\tthis.hoverable = this.hoverable.add( element );\n\t\tthis._on( element, {\n\t\t\tmouseenter: function( event ) {\n\t\t\t\t$( event.currentTarget ).addClass( \"ui-state-hover\" );\n\t\t\t},\n\t\t\tmouseleave: function( event ) {\n\t\t\t\t$( event.currentTarget ).removeClass( \"ui-state-hover\" );\n\t\t\t}\n\t\t});\n\t},\n\n\t_focusable: function( element ) {\n\t\tthis.focusable = this.focusable.add( element );\n\t\tthis._on( element, {\n\t\t\tfocusin: function( event ) {\n\t\t\t\t$( event.currentTarget ).addClass( \"ui-state-focus\" );\n\t\t\t},\n\t\t\tfocusout: function( event ) {\n\t\t\t\t$( event.currentTarget ).removeClass( \"ui-state-focus\" );\n\t\t\t}\n\t\t});\n\t},\n\n\t_trigger: function( type, event, data ) {\n\t\tvar prop, orig,\n\t\t\tcallback = this.options[ type ];\n\n\t\tdata = data || {};\n\t\tevent = $.Event( event );\n\t\tevent.type = ( type === this.widgetEventPrefix ?\n\t\t\ttype :\n\t\t\tthis.widgetEventPrefix + type ).toLowerCase();\n\t\t// the original event may come from any element\n\t\t// so we need to reset the target on the new event\n\t\tevent.target = this.element[ 0 ];\n\n\t\t// copy original event properties over to the new event\n\t\torig = event.originalEvent;\n\t\tif ( orig ) {\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tif ( !( prop in event ) ) {\n\t\t\t\t\tevent[ prop ] = orig[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.element.trigger( event, data );\n\t\treturn !( $.isFunction( callback ) &&\n\t\t\tcallback.apply( this.element[0], [ event ].concat( data ) ) === false ||\n\t\t\tevent.isDefaultPrevented() );\n\t}\n};\n\n$.each( { show: \"fadeIn\", hide: \"fadeOut\" }, function( method, defaultEffect ) {\n\t$.Widget.prototype[ \"_\" + method ] = function( element, options, callback ) {\n\t\tif ( typeof options === \"string\" ) {\n\t\t\toptions = { effect: options };\n\t\t}\n\t\tvar hasOptions,\n\t\t\teffectName = !options ?\n\t\t\t\tmethod :\n\t\t\t\toptions === true || typeof options === \"number\" ?\n\t\t\t\t\tdefaultEffect :\n\t\t\t\t\toptions.effect || defaultEffect;\n\t\toptions = options || {};\n\t\tif ( typeof options === \"number\" ) {\n\t\t\toptions = { duration: options };\n\t\t}\n\t\thasOptions = !$.isEmptyObject( options );\n\t\toptions.complete = callback;\n\t\tif ( options.delay ) {\n\t\t\telement.delay( options.delay );\n\t\t}\n\t\tif ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {\n\t\t\telement[ method ]( options );\n\t\t} else if ( effectName !== method && element[ effectName ] ) {\n\t\t\telement[ effectName ]( options.duration, options.easing, callback );\n\t\t} else {\n\t\t\telement.queue(function( next ) {\n\t\t\t\t$( this )[ method ]();\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback.call( element[ 0 ] );\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t});\n\t\t}\n\t};\n});\n\nvar widget = $.widget;\n\n\n\n}));\n","/*\n * jQuery Iframe Transport Plugin 1.8.3\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n */\n\n/* global define, require, window, document */\n\n(function (factory) {\n    'use strict';\n    if (typeof define === 'function' && define.amd) {\n        // Register as an anonymous AMD module:\n        define(['jquery'], factory);\n    } else if (typeof exports === 'object') {\n        // Node/CommonJS:\n        factory(require('jquery'));\n    } else {\n        // Browser globals:\n        factory(window.jQuery);\n    }\n}(function ($) {\n    'use strict';\n\n    // Helper variable to create unique names for the transport iframes:\n    var counter = 0;\n\n    // The iframe transport accepts four additional options:\n    // options.fileInput: a jQuery collection of file input fields\n    // options.paramName: the parameter name for the file form data,\n    //  overrides the name property of the file input field(s),\n    //  can be a string or an array of strings.\n    // options.formData: an array of objects with name and value properties,\n    //  equivalent to the return data of .serializeArray(), e.g.:\n    //  [{name: 'a', value: 1}, {name: 'b', value: 2}]\n    // options.initialIframeSrc: the URL of the initial iframe src,\n    //  by default set to \"javascript:false;\"\n    $.ajaxTransport('iframe', function (options) {\n        if (options.async) {\n            // javascript:false as initial iframe src\n            // prevents warning popups on HTTPS in IE6:\n            /*jshint scripturl: true */\n            var initialIframeSrc = options.initialIframeSrc || 'javascript:false;',\n            /*jshint scripturl: false */\n                form,\n                iframe,\n                addParamChar;\n            return {\n                send: function (_, completeCallback) {\n                    form = $('<form style=\"display:none;\"></form>');\n                    form.attr('accept-charset', options.formAcceptCharset);\n                    addParamChar = /\\?/.test(options.url) ? '&' : '?';\n                    // XDomainRequest only supports GET and POST:\n                    if (options.type === 'DELETE') {\n                        options.url = options.url + addParamChar + '_method=DELETE';\n                        options.type = 'POST';\n                    } else if (options.type === 'PUT') {\n                        options.url = options.url + addParamChar + '_method=PUT';\n                        options.type = 'POST';\n                    } else if (options.type === 'PATCH') {\n                        options.url = options.url + addParamChar + '_method=PATCH';\n                        options.type = 'POST';\n                    }\n                    // IE versions below IE8 cannot set the name property of\n                    // elements that have already been added to the DOM,\n                    // so we set the name along with the iframe HTML markup:\n                    counter += 1;\n                    iframe = $(\n                        '<iframe src=\"' + initialIframeSrc +\n                            '\" name=\"iframe-transport-' + counter + '\"></iframe>'\n                    ).bind('load', function () {\n                        var fileInputClones,\n                            paramNames = $.isArray(options.paramName) ?\n                                    options.paramName : [options.paramName];\n                        iframe\n                            .unbind('load')\n                            .bind('load', function () {\n                                var response;\n                                // Wrap in a try/catch block to catch exceptions thrown\n                                // when trying to access cross-domain iframe contents:\n                                try {\n                                    response = iframe.contents();\n                                    // Google Chrome and Firefox do not throw an\n                                    // exception when calling iframe.contents() on\n                                    // cross-domain requests, so we unify the response:\n                                    if (!response.length || !response[0].firstChild) {\n                                        throw new Error();\n                                    }\n                                } catch (e) {\n                                    response = undefined;\n                                }\n                                // The complete callback returns the\n                                // iframe content document as response object:\n                                completeCallback(\n                                    200,\n                                    'success',\n                                    {'iframe': response}\n                                );\n                                // Fix for IE endless progress bar activity bug\n                                // (happens on form submits to iframe targets):\n                                $('<iframe src=\"' + initialIframeSrc + '\"></iframe>')\n                                    .appendTo(form);\n                                window.setTimeout(function () {\n                                    // Removing the form in a setTimeout call\n                                    // allows Chrome's developer tools to display\n                                    // the response result\n                                    form.remove();\n                                }, 0);\n                            });\n                        form\n                            .prop('target', iframe.prop('name'))\n                            .prop('action', options.url)\n                            .prop('method', options.type);\n                        if (options.formData) {\n                            $.each(options.formData, function (index, field) {\n                                $('<input type=\"hidden\"/>')\n                                    .prop('name', field.name)\n                                    .val(field.value)\n                                    .appendTo(form);\n                            });\n                        }\n                        if (options.fileInput && options.fileInput.length &&\n                                options.type === 'POST') {\n                            fileInputClones = options.fileInput.clone();\n                            // Insert a clone for each file input field:\n                            options.fileInput.after(function (index) {\n                                return fileInputClones[index];\n                            });\n                            if (options.paramName) {\n                                options.fileInput.each(function (index) {\n                                    $(this).prop(\n                                        'name',\n                                        paramNames[index] || options.paramName\n                                    );\n                                });\n                            }\n                            // Appending the file input fields to the hidden form\n                            // removes them from their original location:\n                            form\n                                .append(options.fileInput)\n                                .prop('enctype', 'multipart/form-data')\n                                // enctype must be set as encoding for IE:\n                                .prop('encoding', 'multipart/form-data');\n                            // Remove the HTML5 form attribute from the input(s):\n                            options.fileInput.removeAttr('form');\n                        }\n                        form.submit();\n                        // Insert the file input fields at their original location\n                        // by replacing the clones with the originals:\n                        if (fileInputClones && fileInputClones.length) {\n                            options.fileInput.each(function (index, input) {\n                                var clone = $(fileInputClones[index]);\n                                // Restore the original name and form properties:\n                                $(input)\n                                    .prop('name', clone.prop('name'))\n                                    .attr('form', clone.attr('form'));\n                                clone.replaceWith(input);\n                            });\n                        }\n                    });\n                    form.append(iframe).appendTo(document.body);\n                },\n                abort: function () {\n                    if (iframe) {\n                        // javascript:false as iframe src aborts the request\n                        // and prevents warning popups on HTTPS in IE6.\n                        // concat is used to avoid the \"Script URL\" JSLint error:\n                        iframe\n                            .unbind('load')\n                            .prop('src', initialIframeSrc);\n                    }\n                    if (form) {\n                        form.remove();\n                    }\n                }\n            };\n        }\n    });\n\n    // The iframe transport returns the iframe content document as response.\n    // The following adds converters from iframe to text, json, html, xml\n    // and script.\n    // Please note that the Content-Type for JSON responses has to be text/plain\n    // or text/html, if the browser doesn't include application/json in the\n    // Accept header, else IE will show a download dialog.\n    // The Content-Type for XML responses on the other hand has to be always\n    // application/xml or text/xml, so IE properly parses the XML response.\n    // See also\n    // https://github.com/blueimp/jQuery-File-Upload/wiki/Setup#content-type-negotiation\n    $.ajaxSetup({\n        converters: {\n            'iframe text': function (iframe) {\n                return iframe && $(iframe[0].body).text();\n            },\n            'iframe json': function (iframe) {\n                return iframe && $.parseJSON($(iframe[0].body).text());\n            },\n            'iframe html': function (iframe) {\n                return iframe && $(iframe[0].body).html();\n            },\n            'iframe xml': function (iframe) {\n                var xmlDoc = iframe && iframe[0];\n                return xmlDoc && $.isXMLDoc(xmlDoc) ? xmlDoc :\n                        $.parseXML((xmlDoc.XMLDocument && xmlDoc.XMLDocument.xml) ||\n                            $(xmlDoc.body).html());\n            },\n            'iframe script': function (iframe) {\n                return iframe && $.globalEval($(iframe[0].body).text());\n            }\n        }\n    });\n\n}));\n","/*\n * jQuery File Upload Plugin 5.42.3\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2010, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n */\n\n/* jshint nomen:false */\n/* global define, require, window, document, location, Blob, FormData */\n\n(function (factory) {\n    'use strict';\n    if (typeof define === 'function' && define.amd) {\n        // Register as an anonymous AMD module:\n        define([\n            'jquery',\n            'jquery.ui.widget'\n        ], factory);\n    } else if (typeof exports === 'object') {\n        // Node/CommonJS:\n        factory(\n            require('jquery'),\n            require('./vendor/jquery.ui.widget')\n        );\n    } else {\n        // Browser globals:\n        factory(window.jQuery);\n    }\n}(function ($) {\n    'use strict';\n\n    // Detect file input support, based on\n    // http://viljamis.com/blog/2012/file-upload-support-on-mobile/\n    $.support.fileInput = !(new RegExp(\n        // Handle devices which give false positives for the feature detection:\n        '(Android (1\\\\.[0156]|2\\\\.[01]))' +\n            '|(Windows Phone (OS 7|8\\\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)' +\n            '|(w(eb)?OSBrowser)|(webOS)' +\n            '|(Kindle/(1\\\\.0|2\\\\.[05]|3\\\\.0))'\n    ).test(window.navigator.userAgent) ||\n        // Feature detection for all other devices:\n        $('<input type=\"file\">').prop('disabled'));\n\n    // The FileReader API is not actually used, but works as feature detection,\n    // as some Safari versions (5?) support XHR file uploads via the FormData API,\n    // but not non-multipart XHR file uploads.\n    // window.XMLHttpRequestUpload is not available on IE10, so we check for\n    // window.ProgressEvent instead to detect XHR2 file upload capability:\n    $.support.xhrFileUpload = !!(window.ProgressEvent && window.FileReader);\n    $.support.xhrFormDataFileUpload = !!window.FormData;\n\n    // Detect support for Blob slicing (required for chunked uploads):\n    $.support.blobSlice = window.Blob && (Blob.prototype.slice ||\n        Blob.prototype.webkitSlice || Blob.prototype.mozSlice);\n\n    // Helper function to create drag handlers for dragover/dragenter/dragleave:\n    function getDragHandler(type) {\n        var isDragOver = type === 'dragover';\n        return function (e) {\n            e.dataTransfer = e.originalEvent && e.originalEvent.dataTransfer;\n            var dataTransfer = e.dataTransfer;\n            if (dataTransfer && $.inArray('Files', dataTransfer.types) !== -1 &&\n                    this._trigger(\n                        type,\n                        $.Event(type, {delegatedEvent: e})\n                    ) !== false) {\n                e.preventDefault();\n                if (isDragOver) {\n                    dataTransfer.dropEffect = 'copy';\n                }\n            }\n        };\n    }\n\n    // The fileupload widget listens for change events on file input fields defined\n    // via fileInput setting and paste or drop events of the given dropZone.\n    // In addition to the default jQuery Widget methods, the fileupload widget\n    // exposes the \"add\" and \"send\" methods, to add or directly send files using\n    // the fileupload API.\n    // By default, files added via file input selection, paste, drag & drop or\n    // \"add\" method are uploaded immediately, but it is possible to override\n    // the \"add\" callback option to queue file uploads.\n    $.widget('blueimp.fileupload', {\n\n        options: {\n            // The drop target element(s), by the default the complete document.\n            // Set to null to disable drag & drop support:\n            dropZone: $(document),\n            // The paste target element(s), by the default undefined.\n            // Set to a DOM node or jQuery object to enable file pasting:\n            pasteZone: undefined,\n            // The file input field(s), that are listened to for change events.\n            // If undefined, it is set to the file input fields inside\n            // of the widget element on plugin initialization.\n            // Set to null to disable the change listener.\n            fileInput: undefined,\n            // By default, the file input field is replaced with a clone after\n            // each input field change event. This is required for iframe transport\n            // queues and allows change events to be fired for the same file\n            // selection, but can be disabled by setting the following option to false:\n            replaceFileInput: true,\n            // The parameter name for the file form data (the request argument name).\n            // If undefined or empty, the name property of the file input field is\n            // used, or \"files[]\" if the file input name property is also empty,\n            // can be a string or an array of strings:\n            paramName: undefined,\n            // By default, each file of a selection is uploaded using an individual\n            // request for XHR type uploads. Set to false to upload file\n            // selections in one request each:\n            singleFileUploads: true,\n            // To limit the number of files uploaded with one XHR request,\n            // set the following option to an integer greater than 0:\n            limitMultiFileUploads: undefined,\n            // The following option limits the number of files uploaded with one\n            // XHR request to keep the request size under or equal to the defined\n            // limit in bytes:\n            limitMultiFileUploadSize: undefined,\n            // Multipart file uploads add a number of bytes to each uploaded file,\n            // therefore the following option adds an overhead for each file used\n            // in the limitMultiFileUploadSize configuration:\n            limitMultiFileUploadSizeOverhead: 512,\n            // Set the following option to true to issue all file upload requests\n            // in a sequential order:\n            sequentialUploads: false,\n            // To limit the number of concurrent uploads,\n            // set the following option to an integer greater than 0:\n            limitConcurrentUploads: undefined,\n            // Set the following option to true to force iframe transport uploads:\n            forceIframeTransport: false,\n            // Set the following option to the location of a redirect url on the\n            // origin server, for cross-domain iframe transport uploads:\n            redirect: undefined,\n            // The parameter name for the redirect url, sent as part of the form\n            // data and set to 'redirect' if this option is empty:\n            redirectParamName: undefined,\n            // Set the following option to the location of a postMessage window,\n            // to enable postMessage transport uploads:\n            postMessage: undefined,\n            // By default, XHR file uploads are sent as multipart/form-data.\n            // The iframe transport is always using multipart/form-data.\n            // Set to false to enable non-multipart XHR uploads:\n            multipart: true,\n            // To upload large files in smaller chunks, set the following option\n            // to a preferred maximum chunk size. If set to 0, null or undefined,\n            // or the browser does not support the required Blob API, files will\n            // be uploaded as a whole.\n            maxChunkSize: undefined,\n            // When a non-multipart upload or a chunked multipart upload has been\n            // aborted, this option can be used to resume the upload by setting\n            // it to the size of the already uploaded bytes. This option is most\n            // useful when modifying the options object inside of the \"add\" or\n            // \"send\" callbacks, as the options are cloned for each file upload.\n            uploadedBytes: undefined,\n            // By default, failed (abort or error) file uploads are removed from the\n            // global progress calculation. Set the following option to false to\n            // prevent recalculating the global progress data:\n            recalculateProgress: true,\n            // Interval in milliseconds to calculate and trigger progress events:\n            progressInterval: 100,\n            // Interval in milliseconds to calculate progress bitrate:\n            bitrateInterval: 500,\n            // By default, uploads are started automatically when adding files:\n            autoUpload: true,\n\n            // Error and info messages:\n            messages: {\n                uploadedBytes: 'Uploaded bytes exceed file size'\n            },\n\n            // Translation function, gets the message key to be translated\n            // and an object with context specific data as arguments:\n            i18n: function (message, context) {\n                message = this.messages[message] || message.toString();\n                if (context) {\n                    $.each(context, function (key, value) {\n                        message = message.replace('{' + key + '}', value);\n                    });\n                }\n                return message;\n            },\n\n            // Additional form data to be sent along with the file uploads can be set\n            // using this option, which accepts an array of objects with name and\n            // value properties, a function returning such an array, a FormData\n            // object (for XHR file uploads), or a simple object.\n            // The form of the first fileInput is given as parameter to the function:\n            formData: function (form) {\n                return form.serializeArray();\n            },\n\n            // The add callback is invoked as soon as files are added to the fileupload\n            // widget (via file input selection, drag & drop, paste or add API call).\n            // If the singleFileUploads option is enabled, this callback will be\n            // called once for each file in the selection for XHR file uploads, else\n            // once for each file selection.\n            //\n            // The upload starts when the submit method is invoked on the data parameter.\n            // The data object contains a files property holding the added files\n            // and allows you to override plugin options as well as define ajax settings.\n            //\n            // Listeners for this callback can also be bound the following way:\n            // .bind('fileuploadadd', func);\n            //\n            // data.submit() returns a Promise object and allows to attach additional\n            // handlers using jQuery's Deferred callbacks:\n            // data.submit().done(func).fail(func).always(func);\n            add: function (e, data) {\n                if (e.isDefaultPrevented()) {\n                    return false;\n                }\n                if (data.autoUpload || (data.autoUpload !== false &&\n                        $(this).fileupload('option', 'autoUpload'))) {\n                    data.process().done(function () {\n                        data.submit();\n                    });\n                }\n            },\n\n            // Other callbacks:\n\n            // Callback for the submit event of each file upload:\n            // submit: function (e, data) {}, // .bind('fileuploadsubmit', func);\n\n            // Callback for the start of each file upload request:\n            // send: function (e, data) {}, // .bind('fileuploadsend', func);\n\n            // Callback for successful uploads:\n            // done: function (e, data) {}, // .bind('fileuploaddone', func);\n\n            // Callback for failed (abort or error) uploads:\n            // fail: function (e, data) {}, // .bind('fileuploadfail', func);\n\n            // Callback for completed (success, abort or error) requests:\n            // always: function (e, data) {}, // .bind('fileuploadalways', func);\n\n            // Callback for upload progress events:\n            // progress: function (e, data) {}, // .bind('fileuploadprogress', func);\n\n            // Callback for global upload progress events:\n            // progressall: function (e, data) {}, // .bind('fileuploadprogressall', func);\n\n            // Callback for uploads start, equivalent to the global ajaxStart event:\n            // start: function (e) {}, // .bind('fileuploadstart', func);\n\n            // Callback for uploads stop, equivalent to the global ajaxStop event:\n            // stop: function (e) {}, // .bind('fileuploadstop', func);\n\n            // Callback for change events of the fileInput(s):\n            // change: function (e, data) {}, // .bind('fileuploadchange', func);\n\n            // Callback for paste events to the pasteZone(s):\n            // paste: function (e, data) {}, // .bind('fileuploadpaste', func);\n\n            // Callback for drop events of the dropZone(s):\n            // drop: function (e, data) {}, // .bind('fileuploaddrop', func);\n\n            // Callback for dragover events of the dropZone(s):\n            // dragover: function (e) {}, // .bind('fileuploaddragover', func);\n\n            // Callback for the start of each chunk upload request:\n            // chunksend: function (e, data) {}, // .bind('fileuploadchunksend', func);\n\n            // Callback for successful chunk uploads:\n            // chunkdone: function (e, data) {}, // .bind('fileuploadchunkdone', func);\n\n            // Callback for failed (abort or error) chunk uploads:\n            // chunkfail: function (e, data) {}, // .bind('fileuploadchunkfail', func);\n\n            // Callback for completed (success, abort or error) chunk upload requests:\n            // chunkalways: function (e, data) {}, // .bind('fileuploadchunkalways', func);\n\n            // The plugin options are used as settings object for the ajax calls.\n            // The following are jQuery ajax settings required for the file uploads:\n            processData: false,\n            contentType: false,\n            cache: false\n        },\n\n        // A list of options that require reinitializing event listeners and/or\n        // special initialization code:\n        _specialOptions: [\n            'fileInput',\n            'dropZone',\n            'pasteZone',\n            'multipart',\n            'forceIframeTransport'\n        ],\n\n        _blobSlice: $.support.blobSlice && function () {\n            var slice = this.slice || this.webkitSlice || this.mozSlice;\n            return slice.apply(this, arguments);\n        },\n\n        _BitrateTimer: function () {\n            this.timestamp = ((Date.now) ? Date.now() : (new Date()).getTime());\n            this.loaded = 0;\n            this.bitrate = 0;\n            this.getBitrate = function (now, loaded, interval) {\n                var timeDiff = now - this.timestamp;\n                if (!this.bitrate || !interval || timeDiff > interval) {\n                    this.bitrate = (loaded - this.loaded) * (1000 / timeDiff) * 8;\n                    this.loaded = loaded;\n                    this.timestamp = now;\n                }\n                return this.bitrate;\n            };\n        },\n\n        _isXHRUpload: function (options) {\n            return !options.forceIframeTransport &&\n                ((!options.multipart && $.support.xhrFileUpload) ||\n                $.support.xhrFormDataFileUpload);\n        },\n\n        _getFormData: function (options) {\n            var formData;\n            if ($.type(options.formData) === 'function') {\n                return options.formData(options.form);\n            }\n            if ($.isArray(options.formData)) {\n                return options.formData;\n            }\n            if ($.type(options.formData) === 'object') {\n                formData = [];\n                $.each(options.formData, function (name, value) {\n                    formData.push({name: name, value: value});\n                });\n                return formData;\n            }\n            return [];\n        },\n\n        _getTotal: function (files) {\n            var total = 0;\n            $.each(files, function (index, file) {\n                total += file.size || 1;\n            });\n            return total;\n        },\n\n        _initProgressObject: function (obj) {\n            var progress = {\n                loaded: 0,\n                total: 0,\n                bitrate: 0\n            };\n            if (obj._progress) {\n                $.extend(obj._progress, progress);\n            } else {\n                obj._progress = progress;\n            }\n        },\n\n        _initResponseObject: function (obj) {\n            var prop;\n            if (obj._response) {\n                for (prop in obj._response) {\n                    if (obj._response.hasOwnProperty(prop)) {\n                        delete obj._response[prop];\n                    }\n                }\n            } else {\n                obj._response = {};\n            }\n        },\n\n        _onProgress: function (e, data) {\n            if (e.lengthComputable) {\n                var now = ((Date.now) ? Date.now() : (new Date()).getTime()),\n                    loaded;\n                if (data._time && data.progressInterval &&\n                        (now - data._time < data.progressInterval) &&\n                        e.loaded !== e.total) {\n                    return;\n                }\n                data._time = now;\n                loaded = Math.floor(\n                    e.loaded / e.total * (data.chunkSize || data._progress.total)\n                ) + (data.uploadedBytes || 0);\n                // Add the difference from the previously loaded state\n                // to the global loaded counter:\n                this._progress.loaded += (loaded - data._progress.loaded);\n                this._progress.bitrate = this._bitrateTimer.getBitrate(\n                    now,\n                    this._progress.loaded,\n                    data.bitrateInterval\n                );\n                data._progress.loaded = data.loaded = loaded;\n                data._progress.bitrate = data.bitrate = data._bitrateTimer.getBitrate(\n                    now,\n                    loaded,\n                    data.bitrateInterval\n                );\n                // Trigger a custom progress event with a total data property set\n                // to the file size(s) of the current upload and a loaded data\n                // property calculated accordingly:\n                this._trigger(\n                    'progress',\n                    $.Event('progress', {delegatedEvent: e}),\n                    data\n                );\n                // Trigger a global progress event for all current file uploads,\n                // including ajax calls queued for sequential file uploads:\n                this._trigger(\n                    'progressall',\n                    $.Event('progressall', {delegatedEvent: e}),\n                    this._progress\n                );\n            }\n        },\n\n        _initProgressListener: function (options) {\n            var that = this,\n                xhr = options.xhr ? options.xhr() : $.ajaxSettings.xhr();\n            // Accesss to the native XHR object is required to add event listeners\n            // for the upload progress event:\n            if (xhr.upload) {\n                $(xhr.upload).bind('progress', function (e) {\n                    var oe = e.originalEvent;\n                    // Make sure the progress event properties get copied over:\n                    e.lengthComputable = oe.lengthComputable;\n                    e.loaded = oe.loaded;\n                    e.total = oe.total;\n                    that._onProgress(e, options);\n                });\n                options.xhr = function () {\n                    return xhr;\n                };\n            }\n        },\n\n        _isInstanceOf: function (type, obj) {\n            // Cross-frame instanceof check\n            return Object.prototype.toString.call(obj) === '[object ' + type + ']';\n        },\n\n        _initXHRData: function (options) {\n            var that = this,\n                formData,\n                file = options.files[0],\n                // Ignore non-multipart setting if not supported:\n                multipart = options.multipart || !$.support.xhrFileUpload,\n                paramName = $.type(options.paramName) === 'array' ?\n                    options.paramName[0] : options.paramName;\n            options.headers = $.extend({}, options.headers);\n            if (options.contentRange) {\n                options.headers['Content-Range'] = options.contentRange;\n            }\n            if (!multipart || options.blob || !this._isInstanceOf('File', file)) {\n                options.headers['Content-Disposition'] = 'attachment; filename=\"' +\n                    encodeURI(file.name) + '\"';\n            }\n            if (!multipart) {\n                options.contentType = file.type || 'application/octet-stream';\n                options.data = options.blob || file;\n            } else if ($.support.xhrFormDataFileUpload) {\n                if (options.postMessage) {\n                    // window.postMessage does not allow sending FormData\n                    // objects, so we just add the File/Blob objects to\n                    // the formData array and let the postMessage window\n                    // create the FormData object out of this array:\n                    formData = this._getFormData(options);\n                    if (options.blob) {\n                        formData.push({\n                            name: paramName,\n                            value: options.blob\n                        });\n                    } else {\n                        $.each(options.files, function (index, file) {\n                            formData.push({\n                                name: ($.type(options.paramName) === 'array' &&\n                                    options.paramName[index]) || paramName,\n                                value: file\n                            });\n                        });\n                    }\n                } else {\n                    if (that._isInstanceOf('FormData', options.formData)) {\n                        formData = options.formData;\n                    } else {\n                        formData = new FormData();\n                        $.each(this._getFormData(options), function (index, field) {\n                            formData.append(field.name, field.value);\n                        });\n                    }\n                    if (options.blob) {\n                        formData.append(paramName, options.blob, file.name);\n                    } else {\n                        $.each(options.files, function (index, file) {\n                            // This check allows the tests to run with\n                            // dummy objects:\n                            if (that._isInstanceOf('File', file) ||\n                                    that._isInstanceOf('Blob', file)) {\n                                formData.append(\n                                    ($.type(options.paramName) === 'array' &&\n                                        options.paramName[index]) || paramName,\n                                    file,\n                                    file.uploadName || file.name\n                                );\n                            }\n                        });\n                    }\n                }\n                options.data = formData;\n            }\n            // Blob reference is not needed anymore, free memory:\n            options.blob = null;\n        },\n\n        _initIframeSettings: function (options) {\n            var targetHost = $('<a></a>').prop('href', options.url).prop('host');\n            // Setting the dataType to iframe enables the iframe transport:\n            options.dataType = 'iframe ' + (options.dataType || '');\n            // The iframe transport accepts a serialized array as form data:\n            options.formData = this._getFormData(options);\n            // Add redirect url to form data on cross-domain uploads:\n            if (options.redirect && targetHost && targetHost !== location.host) {\n                options.formData.push({\n                    name: options.redirectParamName || 'redirect',\n                    value: options.redirect\n                });\n            }\n        },\n\n        _initDataSettings: function (options) {\n            if (this._isXHRUpload(options)) {\n                if (!this._chunkedUpload(options, true)) {\n                    if (!options.data) {\n                        this._initXHRData(options);\n                    }\n                    this._initProgressListener(options);\n                }\n                if (options.postMessage) {\n                    // Setting the dataType to postmessage enables the\n                    // postMessage transport:\n                    options.dataType = 'postmessage ' + (options.dataType || '');\n                }\n            } else {\n                this._initIframeSettings(options);\n            }\n        },\n\n        _getParamName: function (options) {\n            var fileInput = $(options.fileInput),\n                paramName = options.paramName;\n            if (!paramName) {\n                paramName = [];\n                fileInput.each(function () {\n                    var input = $(this),\n                        name = input.prop('name') || 'files[]',\n                        i = (input.prop('files') || [1]).length;\n                    while (i) {\n                        paramName.push(name);\n                        i -= 1;\n                    }\n                });\n                if (!paramName.length) {\n                    paramName = [fileInput.prop('name') || 'files[]'];\n                }\n            } else if (!$.isArray(paramName)) {\n                paramName = [paramName];\n            }\n            return paramName;\n        },\n\n        _initFormSettings: function (options) {\n            // Retrieve missing options from the input field and the\n            // associated form, if available:\n            if (!options.form || !options.form.length) {\n                options.form = $(options.fileInput.prop('form'));\n                // If the given file input doesn't have an associated form,\n                // use the default widget file input's form:\n                if (!options.form.length) {\n                    options.form = $(this.options.fileInput.prop('form'));\n                }\n            }\n            options.paramName = this._getParamName(options);\n            if (!options.url) {\n                options.url = options.form.prop('action') || location.href;\n            }\n            // The HTTP request method must be \"POST\" or \"PUT\":\n            options.type = (options.type ||\n                ($.type(options.form.prop('method')) === 'string' &&\n                    options.form.prop('method')) || ''\n                ).toUpperCase();\n            if (options.type !== 'POST' && options.type !== 'PUT' &&\n                    options.type !== 'PATCH') {\n                options.type = 'POST';\n            }\n            if (!options.formAcceptCharset) {\n                options.formAcceptCharset = options.form.attr('accept-charset');\n            }\n        },\n\n        _getAJAXSettings: function (data) {\n            var options = $.extend({}, this.options, data);\n            this._initFormSettings(options);\n            this._initDataSettings(options);\n            return options;\n        },\n\n        // jQuery 1.6 doesn't provide .state(),\n        // while jQuery 1.8+ removed .isRejected() and .isResolved():\n        _getDeferredState: function (deferred) {\n            if (deferred.state) {\n                return deferred.state();\n            }\n            if (deferred.isResolved()) {\n                return 'resolved';\n            }\n            if (deferred.isRejected()) {\n                return 'rejected';\n            }\n            return 'pending';\n        },\n\n        // Maps jqXHR callbacks to the equivalent\n        // methods of the given Promise object:\n        _enhancePromise: function (promise) {\n            promise.success = promise.done;\n            promise.error = promise.fail;\n            promise.complete = promise.always;\n            return promise;\n        },\n\n        // Creates and returns a Promise object enhanced with\n        // the jqXHR methods abort, success, error and complete:\n        _getXHRPromise: function (resolveOrReject, context, args) {\n            var dfd = $.Deferred(),\n                promise = dfd.promise();\n            context = context || this.options.context || promise;\n            if (resolveOrReject === true) {\n                dfd.resolveWith(context, args);\n            } else if (resolveOrReject === false) {\n                dfd.rejectWith(context, args);\n            }\n            promise.abort = dfd.promise;\n            return this._enhancePromise(promise);\n        },\n\n        // Adds convenience methods to the data callback argument:\n        _addConvenienceMethods: function (e, data) {\n            var that = this,\n                getPromise = function (args) {\n                    return $.Deferred().resolveWith(that, args).promise();\n                };\n            data.process = function (resolveFunc, rejectFunc) {\n                if (resolveFunc || rejectFunc) {\n                    data._processQueue = this._processQueue =\n                        (this._processQueue || getPromise([this])).pipe(\n                            function () {\n                                if (data.errorThrown) {\n                                    return $.Deferred()\n                                        .rejectWith(that, [data]).promise();\n                                }\n                                return getPromise(arguments);\n                            }\n                        ).pipe(resolveFunc, rejectFunc);\n                }\n                return this._processQueue || getPromise([this]);\n            };\n            data.submit = function () {\n                if (this.state() !== 'pending') {\n                    data.jqXHR = this.jqXHR =\n                        (that._trigger(\n                            'submit',\n                            $.Event('submit', {delegatedEvent: e}),\n                            this\n                        ) !== false) && that._onSend(e, this);\n                }\n                return this.jqXHR || that._getXHRPromise();\n            };\n            data.abort = function () {\n                if (this.jqXHR) {\n                    return this.jqXHR.abort();\n                }\n                this.errorThrown = 'abort';\n                that._trigger('fail', null, this);\n                return that._getXHRPromise(false);\n            };\n            data.state = function () {\n                if (this.jqXHR) {\n                    return that._getDeferredState(this.jqXHR);\n                }\n                if (this._processQueue) {\n                    return that._getDeferredState(this._processQueue);\n                }\n            };\n            data.processing = function () {\n                return !this.jqXHR && this._processQueue && that\n                    ._getDeferredState(this._processQueue) === 'pending';\n            };\n            data.progress = function () {\n                return this._progress;\n            };\n            data.response = function () {\n                return this._response;\n            };\n        },\n\n        // Parses the Range header from the server response\n        // and returns the uploaded bytes:\n        _getUploadedBytes: function (jqXHR) {\n            var range = jqXHR.getResponseHeader('Range'),\n                parts = range && range.split('-'),\n                upperBytesPos = parts && parts.length > 1 &&\n                    parseInt(parts[1], 10);\n            return upperBytesPos && upperBytesPos + 1;\n        },\n\n        // Uploads a file in multiple, sequential requests\n        // by splitting the file up in multiple blob chunks.\n        // If the second parameter is true, only tests if the file\n        // should be uploaded in chunks, but does not invoke any\n        // upload requests:\n        _chunkedUpload: function (options, testOnly) {\n            options.uploadedBytes = options.uploadedBytes || 0;\n            var that = this,\n                file = options.files[0],\n                fs = file.size,\n                ub = options.uploadedBytes,\n                mcs = options.maxChunkSize || fs,\n                slice = this._blobSlice,\n                dfd = $.Deferred(),\n                promise = dfd.promise(),\n                jqXHR,\n                upload;\n            if (!(this._isXHRUpload(options) && slice && (ub || mcs < fs)) ||\n                    options.data) {\n                return false;\n            }\n            if (testOnly) {\n                return true;\n            }\n            if (ub >= fs) {\n                file.error = options.i18n('uploadedBytes');\n                return this._getXHRPromise(\n                    false,\n                    options.context,\n                    [null, 'error', file.error]\n                );\n            }\n            // The chunk upload method:\n            upload = function () {\n                // Clone the options object for each chunk upload:\n                var o = $.extend({}, options),\n                    currentLoaded = o._progress.loaded;\n                o.blob = slice.call(\n                    file,\n                    ub,\n                    ub + mcs,\n                    file.type\n                );\n                // Store the current chunk size, as the blob itself\n                // will be dereferenced after data processing:\n                o.chunkSize = o.blob.size;\n                // Expose the chunk bytes position range:\n                o.contentRange = 'bytes ' + ub + '-' +\n                    (ub + o.chunkSize - 1) + '/' + fs;\n                // Process the upload data (the blob and potential form data):\n                that._initXHRData(o);\n                // Add progress listeners for this chunk upload:\n                that._initProgressListener(o);\n                jqXHR = ((that._trigger('chunksend', null, o) !== false && $.ajax(o)) ||\n                        that._getXHRPromise(false, o.context))\n                    .done(function (result, textStatus, jqXHR) {\n                        ub = that._getUploadedBytes(jqXHR) ||\n                            (ub + o.chunkSize);\n                        // Create a progress event if no final progress event\n                        // with loaded equaling total has been triggered\n                        // for this chunk:\n                        if (currentLoaded + o.chunkSize - o._progress.loaded) {\n                            that._onProgress($.Event('progress', {\n                                lengthComputable: true,\n                                loaded: ub - o.uploadedBytes,\n                                total: ub - o.uploadedBytes\n                            }), o);\n                        }\n                        options.uploadedBytes = o.uploadedBytes = ub;\n                        o.result = result;\n                        o.textStatus = textStatus;\n                        o.jqXHR = jqXHR;\n                        that._trigger('chunkdone', null, o);\n                        that._trigger('chunkalways', null, o);\n                        if (ub < fs) {\n                            // File upload not yet complete,\n                            // continue with the next chunk:\n                            upload();\n                        } else {\n                            dfd.resolveWith(\n                                o.context,\n                                [result, textStatus, jqXHR]\n                            );\n                        }\n                    })\n                    .fail(function (jqXHR, textStatus, errorThrown) {\n                        o.jqXHR = jqXHR;\n                        o.textStatus = textStatus;\n                        o.errorThrown = errorThrown;\n                        that._trigger('chunkfail', null, o);\n                        that._trigger('chunkalways', null, o);\n                        dfd.rejectWith(\n                            o.context,\n                            [jqXHR, textStatus, errorThrown]\n                        );\n                    });\n            };\n            this._enhancePromise(promise);\n            promise.abort = function () {\n                return jqXHR.abort();\n            };\n            upload();\n            return promise;\n        },\n\n        _beforeSend: function (e, data) {\n            if (this._active === 0) {\n                // the start callback is triggered when an upload starts\n                // and no other uploads are currently running,\n                // equivalent to the global ajaxStart event:\n                this._trigger('start');\n                // Set timer for global bitrate progress calculation:\n                this._bitrateTimer = new this._BitrateTimer();\n                // Reset the global progress values:\n                this._progress.loaded = this._progress.total = 0;\n                this._progress.bitrate = 0;\n            }\n            // Make sure the container objects for the .response() and\n            // .progress() methods on the data object are available\n            // and reset to their initial state:\n            this._initResponseObject(data);\n            this._initProgressObject(data);\n            data._progress.loaded = data.loaded = data.uploadedBytes || 0;\n            data._progress.total = data.total = this._getTotal(data.files) || 1;\n            data._progress.bitrate = data.bitrate = 0;\n            this._active += 1;\n            // Initialize the global progress values:\n            this._progress.loaded += data.loaded;\n            this._progress.total += data.total;\n        },\n\n        _onDone: function (result, textStatus, jqXHR, options) {\n            var total = options._progress.total,\n                response = options._response;\n            if (options._progress.loaded < total) {\n                // Create a progress event if no final progress event\n                // with loaded equaling total has been triggered:\n                this._onProgress($.Event('progress', {\n                    lengthComputable: true,\n                    loaded: total,\n                    total: total\n                }), options);\n            }\n            response.result = options.result = result;\n            response.textStatus = options.textStatus = textStatus;\n            response.jqXHR = options.jqXHR = jqXHR;\n            this._trigger('done', null, options);\n        },\n\n        _onFail: function (jqXHR, textStatus, errorThrown, options) {\n            var response = options._response;\n            if (options.recalculateProgress) {\n                // Remove the failed (error or abort) file upload from\n                // the global progress calculation:\n                this._progress.loaded -= options._progress.loaded;\n                this._progress.total -= options._progress.total;\n            }\n            response.jqXHR = options.jqXHR = jqXHR;\n            response.textStatus = options.textStatus = textStatus;\n            response.errorThrown = options.errorThrown = errorThrown;\n            this._trigger('fail', null, options);\n        },\n\n        _onAlways: function (jqXHRorResult, textStatus, jqXHRorError, options) {\n            // jqXHRorResult, textStatus and jqXHRorError are added to the\n            // options object via done and fail callbacks\n            this._trigger('always', null, options);\n        },\n\n        _onSend: function (e, data) {\n            if (!data.submit) {\n                this._addConvenienceMethods(e, data);\n            }\n            var that = this,\n                jqXHR,\n                aborted,\n                slot,\n                pipe,\n                options = that._getAJAXSettings(data),\n                send = function () {\n                    that._sending += 1;\n                    // Set timer for bitrate progress calculation:\n                    options._bitrateTimer = new that._BitrateTimer();\n                    jqXHR = jqXHR || (\n                        ((aborted || that._trigger(\n                            'send',\n                            $.Event('send', {delegatedEvent: e}),\n                            options\n                        ) === false) &&\n                        that._getXHRPromise(false, options.context, aborted)) ||\n                        that._chunkedUpload(options) || $.ajax(options)\n                    ).done(function (result, textStatus, jqXHR) {\n                        that._onDone(result, textStatus, jqXHR, options);\n                    }).fail(function (jqXHR, textStatus, errorThrown) {\n                        that._onFail(jqXHR, textStatus, errorThrown, options);\n                    }).always(function (jqXHRorResult, textStatus, jqXHRorError) {\n                        that._onAlways(\n                            jqXHRorResult,\n                            textStatus,\n                            jqXHRorError,\n                            options\n                        );\n                        that._sending -= 1;\n                        that._active -= 1;\n                        if (options.limitConcurrentUploads &&\n                                options.limitConcurrentUploads > that._sending) {\n                            // Start the next queued upload,\n                            // that has not been aborted:\n                            var nextSlot = that._slots.shift();\n                            while (nextSlot) {\n                                if (that._getDeferredState(nextSlot) === 'pending') {\n                                    nextSlot.resolve();\n                                    break;\n                                }\n                                nextSlot = that._slots.shift();\n                            }\n                        }\n                        if (that._active === 0) {\n                            // The stop callback is triggered when all uploads have\n                            // been completed, equivalent to the global ajaxStop event:\n                            that._trigger('stop');\n                        }\n                    });\n                    return jqXHR;\n                };\n            this._beforeSend(e, options);\n            if (this.options.sequentialUploads ||\n                    (this.options.limitConcurrentUploads &&\n                    this.options.limitConcurrentUploads <= this._sending)) {\n                if (this.options.limitConcurrentUploads > 1) {\n                    slot = $.Deferred();\n                    this._slots.push(slot);\n                    pipe = slot.pipe(send);\n                } else {\n                    this._sequence = this._sequence.pipe(send, send);\n                    pipe = this._sequence;\n                }\n                // Return the piped Promise object, enhanced with an abort method,\n                // which is delegated to the jqXHR object of the current upload,\n                // and jqXHR callbacks mapped to the equivalent Promise methods:\n                pipe.abort = function () {\n                    aborted = [undefined, 'abort', 'abort'];\n                    if (!jqXHR) {\n                        if (slot) {\n                            slot.rejectWith(options.context, aborted);\n                        }\n                        return send();\n                    }\n                    return jqXHR.abort();\n                };\n                return this._enhancePromise(pipe);\n            }\n            return send();\n        },\n\n        _onAdd: function (e, data) {\n            var that = this,\n                result = true,\n                options = $.extend({}, this.options, data),\n                files = data.files,\n                filesLength = files.length,\n                limit = options.limitMultiFileUploads,\n                limitSize = options.limitMultiFileUploadSize,\n                overhead = options.limitMultiFileUploadSizeOverhead,\n                batchSize = 0,\n                paramName = this._getParamName(options),\n                paramNameSet,\n                paramNameSlice,\n                fileSet,\n                i,\n                j = 0;\n            if (limitSize && (!filesLength || files[0].size === undefined)) {\n                limitSize = undefined;\n            }\n            if (!(options.singleFileUploads || limit || limitSize) ||\n                    !this._isXHRUpload(options)) {\n                fileSet = [files];\n                paramNameSet = [paramName];\n            } else if (!(options.singleFileUploads || limitSize) && limit) {\n                fileSet = [];\n                paramNameSet = [];\n                for (i = 0; i < filesLength; i += limit) {\n                    fileSet.push(files.slice(i, i + limit));\n                    paramNameSlice = paramName.slice(i, i + limit);\n                    if (!paramNameSlice.length) {\n                        paramNameSlice = paramName;\n                    }\n                    paramNameSet.push(paramNameSlice);\n                }\n            } else if (!options.singleFileUploads && limitSize) {\n                fileSet = [];\n                paramNameSet = [];\n                for (i = 0; i < filesLength; i = i + 1) {\n                    batchSize += files[i].size + overhead;\n                    if (i + 1 === filesLength ||\n                            ((batchSize + files[i + 1].size + overhead) > limitSize) ||\n                            (limit && i + 1 - j >= limit)) {\n                        fileSet.push(files.slice(j, i + 1));\n                        paramNameSlice = paramName.slice(j, i + 1);\n                        if (!paramNameSlice.length) {\n                            paramNameSlice = paramName;\n                        }\n                        paramNameSet.push(paramNameSlice);\n                        j = i + 1;\n                        batchSize = 0;\n                    }\n                }\n            } else {\n                paramNameSet = paramName;\n            }\n            data.originalFiles = files;\n            $.each(fileSet || files, function (index, element) {\n                var newData = $.extend({}, data);\n                newData.files = fileSet ? element : [element];\n                newData.paramName = paramNameSet[index];\n                that._initResponseObject(newData);\n                that._initProgressObject(newData);\n                that._addConvenienceMethods(e, newData);\n                result = that._trigger(\n                    'add',\n                    $.Event('add', {delegatedEvent: e}),\n                    newData\n                );\n                return result;\n            });\n            return result;\n        },\n\n        _replaceFileInput: function (data) {\n            var input = data.fileInput,\n                inputClone = input.clone(true);\n            // Add a reference for the new cloned file input to the data argument:\n            data.fileInputClone = inputClone;\n            $('<form></form>').append(inputClone)[0].reset();\n            // Detaching allows to insert the fileInput on another form\n            // without loosing the file input value:\n            input.after(inputClone).detach();\n            // Avoid memory leaks with the detached file input:\n            $.cleanData(input.unbind('remove'));\n            // Replace the original file input element in the fileInput\n            // elements set with the clone, which has been copied including\n            // event handlers:\n            this.options.fileInput = this.options.fileInput.map(function (i, el) {\n                if (el === input[0]) {\n                    return inputClone[0];\n                }\n                return el;\n            });\n            // If the widget has been initialized on the file input itself,\n            // override this.element with the file input clone:\n            if (input[0] === this.element[0]) {\n                this.element = inputClone;\n            }\n        },\n\n        _handleFileTreeEntry: function (entry, path) {\n            var that = this,\n                dfd = $.Deferred(),\n                errorHandler = function (e) {\n                    if (e && !e.entry) {\n                        e.entry = entry;\n                    }\n                    // Since $.when returns immediately if one\n                    // Deferred is rejected, we use resolve instead.\n                    // This allows valid files and invalid items\n                    // to be returned together in one set:\n                    dfd.resolve([e]);\n                },\n                successHandler = function (entries) {\n                    that._handleFileTreeEntries(\n                        entries,\n                        path + entry.name + '/'\n                    ).done(function (files) {\n                        dfd.resolve(files);\n                    }).fail(errorHandler);\n                },\n                readEntries = function () {\n                    dirReader.readEntries(function (results) {\n                        if (!results.length) {\n                            successHandler(entries);\n                        } else {\n                            entries = entries.concat(results);\n                            readEntries();\n                        }\n                    }, errorHandler);\n                },\n                dirReader, entries = [];\n            path = path || '';\n            if (entry.isFile) {\n                if (entry._file) {\n                    // Workaround for Chrome bug #149735\n                    entry._file.relativePath = path;\n                    dfd.resolve(entry._file);\n                } else {\n                    entry.file(function (file) {\n                        file.relativePath = path;\n                        dfd.resolve(file);\n                    }, errorHandler);\n                }\n            } else if (entry.isDirectory) {\n                dirReader = entry.createReader();\n                readEntries();\n            } else {\n                // Return an empy list for file system items\n                // other than files or directories:\n                dfd.resolve([]);\n            }\n            return dfd.promise();\n        },\n\n        _handleFileTreeEntries: function (entries, path) {\n            var that = this;\n            return $.when.apply(\n                $,\n                $.map(entries, function (entry) {\n                    return that._handleFileTreeEntry(entry, path);\n                })\n            ).pipe(function () {\n                return Array.prototype.concat.apply(\n                    [],\n                    arguments\n                );\n            });\n        },\n\n        _getDroppedFiles: function (dataTransfer) {\n            dataTransfer = dataTransfer || {};\n            var items = dataTransfer.items;\n            if (items && items.length && (items[0].webkitGetAsEntry ||\n                    items[0].getAsEntry)) {\n                return this._handleFileTreeEntries(\n                    $.map(items, function (item) {\n                        var entry;\n                        if (item.webkitGetAsEntry) {\n                            entry = item.webkitGetAsEntry();\n                            if (entry) {\n                                // Workaround for Chrome bug #149735:\n                                entry._file = item.getAsFile();\n                            }\n                            return entry;\n                        }\n                        return item.getAsEntry();\n                    })\n                );\n            }\n            return $.Deferred().resolve(\n                $.makeArray(dataTransfer.files)\n            ).promise();\n        },\n\n        _getSingleFileInputFiles: function (fileInput) {\n            fileInput = $(fileInput);\n            var entries = fileInput.prop('webkitEntries') ||\n                    fileInput.prop('entries'),\n                files,\n                value;\n            if (entries && entries.length) {\n                return this._handleFileTreeEntries(entries);\n            }\n            files = $.makeArray(fileInput.prop('files'));\n            if (!files.length) {\n                value = fileInput.prop('value');\n                if (!value) {\n                    return $.Deferred().resolve([]).promise();\n                }\n                // If the files property is not available, the browser does not\n                // support the File API and we add a pseudo File object with\n                // the input value as name with path information removed:\n                files = [{name: value.replace(/^.*\\\\/, '')}];\n            } else if (files[0].name === undefined && files[0].fileName) {\n                // File normalization for Safari 4 and Firefox 3:\n                $.each(files, function (index, file) {\n                    file.name = file.fileName;\n                    file.size = file.fileSize;\n                });\n            }\n            return $.Deferred().resolve(files).promise();\n        },\n\n        _getFileInputFiles: function (fileInput) {\n            if (!(fileInput instanceof $) || fileInput.length === 1) {\n                return this._getSingleFileInputFiles(fileInput);\n            }\n            return $.when.apply(\n                $,\n                $.map(fileInput, this._getSingleFileInputFiles)\n            ).pipe(function () {\n                return Array.prototype.concat.apply(\n                    [],\n                    arguments\n                );\n            });\n        },\n\n        _onChange: function (e) {\n            var that = this,\n                data = {\n                    fileInput: $(e.target),\n                    form: $(e.target.form)\n                };\n            this._getFileInputFiles(data.fileInput).always(function (files) {\n                data.files = files;\n                if (that.options.replaceFileInput) {\n                    that._replaceFileInput(data);\n                }\n                if (that._trigger(\n                        'change',\n                        $.Event('change', {delegatedEvent: e}),\n                        data\n                    ) !== false) {\n                    that._onAdd(e, data);\n                }\n            });\n        },\n\n        _onPaste: function (e) {\n            var items = e.originalEvent && e.originalEvent.clipboardData &&\n                    e.originalEvent.clipboardData.items,\n                data = {files: []};\n            if (items && items.length) {\n                $.each(items, function (index, item) {\n                    var file = item.getAsFile && item.getAsFile();\n                    if (file) {\n                        data.files.push(file);\n                    }\n                });\n                if (this._trigger(\n                        'paste',\n                        $.Event('paste', {delegatedEvent: e}),\n                        data\n                    ) !== false) {\n                    this._onAdd(e, data);\n                }\n            }\n        },\n\n        _onDrop: function (e) {\n            e.dataTransfer = e.originalEvent && e.originalEvent.dataTransfer;\n            var that = this,\n                dataTransfer = e.dataTransfer,\n                data = {};\n            if (dataTransfer && dataTransfer.files && dataTransfer.files.length) {\n                e.preventDefault();\n                this._getDroppedFiles(dataTransfer).always(function (files) {\n                    data.files = files;\n                    if (that._trigger(\n                            'drop',\n                            $.Event('drop', {delegatedEvent: e}),\n                            data\n                        ) !== false) {\n                        that._onAdd(e, data);\n                    }\n                });\n            }\n        },\n\n        _onDragOver: getDragHandler('dragover'),\n\n        _onDragEnter: getDragHandler('dragenter'),\n\n        _onDragLeave: getDragHandler('dragleave'),\n\n        _initEventHandlers: function () {\n            if (this._isXHRUpload(this.options)) {\n                this._on(this.options.dropZone, {\n                    dragover: this._onDragOver,\n                    drop: this._onDrop,\n                    // event.preventDefault() on dragenter is required for IE10+:\n                    dragenter: this._onDragEnter,\n                    // dragleave is not required, but added for completeness:\n                    dragleave: this._onDragLeave\n                });\n                this._on(this.options.pasteZone, {\n                    paste: this._onPaste\n                });\n            }\n            if ($.support.fileInput) {\n                this._on(this.options.fileInput, {\n                    change: this._onChange\n                });\n            }\n        },\n\n        _destroyEventHandlers: function () {\n            this._off(this.options.dropZone, 'dragenter dragleave dragover drop');\n            this._off(this.options.pasteZone, 'paste');\n            this._off(this.options.fileInput, 'change');\n        },\n\n        _setOption: function (key, value) {\n            var reinit = $.inArray(key, this._specialOptions) !== -1;\n            if (reinit) {\n                this._destroyEventHandlers();\n            }\n            this._super(key, value);\n            if (reinit) {\n                this._initSpecialOptions();\n                this._initEventHandlers();\n            }\n        },\n\n        _initSpecialOptions: function () {\n            var options = this.options;\n            if (options.fileInput === undefined) {\n                options.fileInput = this.element.is('input[type=\"file\"]') ?\n                        this.element : this.element.find('input[type=\"file\"]');\n            } else if (!(options.fileInput instanceof $)) {\n                options.fileInput = $(options.fileInput);\n            }\n            if (!(options.dropZone instanceof $)) {\n                options.dropZone = $(options.dropZone);\n            }\n            if (!(options.pasteZone instanceof $)) {\n                options.pasteZone = $(options.pasteZone);\n            }\n        },\n\n        _getRegExp: function (str) {\n            var parts = str.split('/'),\n                modifiers = parts.pop();\n            parts.shift();\n            return new RegExp(parts.join('/'), modifiers);\n        },\n\n        _isRegExpOption: function (key, value) {\n            return key !== 'url' && $.type(value) === 'string' &&\n                /^\\/.*\\/[igm]{0,3}$/.test(value);\n        },\n\n        _initDataAttributes: function () {\n            var that = this,\n                options = this.options,\n                data = this.element.data();\n            // Initialize options set via HTML5 data-attributes:\n            $.each(\n                this.element[0].attributes,\n                function (index, attr) {\n                    var key = attr.name.toLowerCase(),\n                        value;\n                    if (/^data-/.test(key)) {\n                        // Convert hyphen-ated key to camelCase:\n                        key = key.slice(5).replace(/-[a-z]/g, function (str) {\n                            return str.charAt(1).toUpperCase();\n                        });\n                        value = data[key];\n                        if (that._isRegExpOption(key, value)) {\n                            value = that._getRegExp(value);\n                        }\n                        options[key] = value;\n                    }\n                }\n            );\n        },\n\n        _create: function () {\n            this._initDataAttributes();\n            this._initSpecialOptions();\n            this._slots = [];\n            this._sequence = this._getXHRPromise(true);\n            this._sending = this._active = 0;\n            this._initProgressObject(this);\n            this._initEventHandlers();\n        },\n\n        // This method is exposed to the widget API and allows to query\n        // the number of active uploads:\n        active: function () {\n            return this._active;\n        },\n\n        // This method is exposed to the widget API and allows to query\n        // the widget upload progress.\n        // It returns an object with loaded, total and bitrate properties\n        // for the running uploads:\n        progress: function () {\n            return this._progress;\n        },\n\n        // This method is exposed to the widget API and allows adding files\n        // using the fileupload API. The data parameter accepts an object which\n        // must have a files property and can contain additional options:\n        // .fileupload('add', {files: filesList});\n        add: function (data) {\n            var that = this;\n            if (!data || this.options.disabled) {\n                return;\n            }\n            if (data.fileInput && !data.files) {\n                this._getFileInputFiles(data.fileInput).always(function (files) {\n                    data.files = files;\n                    that._onAdd(null, data);\n                });\n            } else {\n                data.files = $.makeArray(data.files);\n                this._onAdd(null, data);\n            }\n        },\n\n        // This method is exposed to the widget API and allows sending files\n        // using the fileupload API. The data parameter accepts an object which\n        // must have a files or fileInput property and can contain additional options:\n        // .fileupload('send', {files: filesList});\n        // The method returns a Promise object for the file upload call.\n        send: function (data) {\n            if (data && !this.options.disabled) {\n                if (data.fileInput && !data.files) {\n                    var that = this,\n                        dfd = $.Deferred(),\n                        promise = dfd.promise(),\n                        jqXHR,\n                        aborted;\n                    promise.abort = function () {\n                        aborted = true;\n                        if (jqXHR) {\n                            return jqXHR.abort();\n                        }\n                        dfd.reject(null, 'abort', 'abort');\n                        return promise;\n                    };\n                    this._getFileInputFiles(data.fileInput).always(\n                        function (files) {\n                            if (aborted) {\n                                return;\n                            }\n                            if (!files.length) {\n                                dfd.reject();\n                                return;\n                            }\n                            data.files = files;\n                            jqXHR = that._onSend(null, data);\n                            jqXHR.then(\n                                function (result, textStatus, jqXHR) {\n                                    dfd.resolve(result, textStatus, jqXHR);\n                                },\n                                function (jqXHR, textStatus, errorThrown) {\n                                    dfd.reject(jqXHR, textStatus, errorThrown);\n                                }\n                            );\n                        }\n                    );\n                    return this._enhancePromise(promise);\n                }\n                data.files = $.makeArray(data.files);\n                if (data.files.length) {\n                    return this._onSend(null, data);\n                }\n            }\n            return this._getXHRPromise(false, data && data.context);\n        }\n\n    });\n\n}));\n","/*! \n * medium-editor-insert-plugin v1.7.0 - jQuery insert plugin for MediumEditor\n *\n * https://github.com/orthes/medium-editor-insert-plugin\n * \n * Copyright (c) 2014 Pavel Linkesch (http://linkesch.sk)\n * Released under the MIT license\n */\n\nthis[\"MediumInsert\"] = this[\"MediumInsert\"] || {};\nthis[\"MediumInsert\"][\"Templates\"] = this[\"MediumInsert\"][\"Templates\"] || {};\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/core-buttons.hbs\"] = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n  var stack1, helper, lambda=this.lambda, escapeExpression=this.escapeExpression, functionType=\"function\", helperMissing=helpers.helperMissing, buffer = \"            <li><a data-addon=\\\"\"\n    + escapeExpression(lambda((data && data.key), depth0))\n    + \"\\\" data-action=\\\"add\\\" class=\\\"medium-insert-action\\\">\";\n  stack1 = ((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"label\",\"hash\":{},\"data\":data}) : helper));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"</a></li>\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var stack1, buffer = \"<div class=\\\"medium-insert-buttons\\\" contenteditable=\\\"false\\\" style=\\\"display: none\\\">\\n    <a class=\\\"medium-insert-buttons-show\\\">+</a>\\n    <ul class=\\\"medium-insert-buttons-addons\\\" style=\\\"display: none\\\">\\n\";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.addons : depth0), {\"name\":\"each\",\"hash\":{},\"fn\":this.program(1, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"    </ul>\\n</div>\\n\";\n},\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/core-caption.hbs\"] = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var helper, functionType=\"function\", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return \"<figcaption contenteditable=\\\"true\\\" class=\\\"medium-insert-caption-placeholder\\\" data-placeholder=\\\"\"\n    + escapeExpression(((helper = (helper = helpers.placeholder || (depth0 != null ? depth0.placeholder : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"placeholder\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\"></figcaption>\";\n},\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/core-empty-line.hbs\"] = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<p><br></p>\\n\";\n  },\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/embeds-toolbar.hbs\"] = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n  var stack1, buffer = \"    <div class=\\\"medium-insert-embeds-toolbar medium-editor-toolbar medium-toolbar-arrow-under medium-editor-toolbar-active\\\">\\n        <ul class=\\\"medium-editor-toolbar-actions clearfix\\\">\\n\";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.styles : depth0), {\"name\":\"each\",\"hash\":{},\"fn\":this.program(2, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"        </ul>\\n    </div>\\n\";\n},\"2\":function(depth0,helpers,partials,data) {\n  var stack1, buffer = \"\";\n  stack1 = helpers['if'].call(depth0, (depth0 != null ? depth0.label : depth0), {\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"3\":function(depth0,helpers,partials,data) {\n  var stack1, helper, lambda=this.lambda, escapeExpression=this.escapeExpression, functionType=\"function\", helperMissing=helpers.helperMissing, buffer = \"                    <li>\\n                        <button class=\\\"medium-editor-action\\\" data-action=\\\"\"\n    + escapeExpression(lambda((data && data.key), depth0))\n    + \"\\\">\";\n  stack1 = ((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"label\",\"hash\":{},\"data\":data}) : helper));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"</button>\\n                    </li>\\n\";\n},\"5\":function(depth0,helpers,partials,data) {\n  var stack1, buffer = \"    <div class=\\\"medium-insert-embeds-toolbar2 medium-editor-toolbar medium-editor-toolbar-active\\\">\\n        <ul class=\\\"medium-editor-toolbar-actions clearfix\\\">\\n\";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.actions : depth0), {\"name\":\"each\",\"hash\":{},\"fn\":this.program(2, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"        </ul>\\n    </div>\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var stack1, buffer = \"\";\n  stack1 = helpers['if'].call(depth0, (depth0 != null ? depth0.styles : depth0), {\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += \"\\n\";\n  stack1 = helpers['if'].call(depth0, (depth0 != null ? depth0.actions : depth0), {\"name\":\"if\",\"hash\":{},\"fn\":this.program(5, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/embeds-wrapper.hbs\"] = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType=\"function\", helperMissing=helpers.helperMissing, buffer = \"<div class=\\\"medium-insert-embeds\\\" contenteditable=\\\"false\\\">\\n\t<figure>\\n\t\t<div class=\\\"medium-insert-embed\\\">\\n\t\t\t\";\n  stack1 = ((helper = (helper = helpers.html || (depth0 != null ? depth0.html : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"html\",\"hash\":{},\"data\":data}) : helper));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"\\n\t\t</div>\\n\t</figure>\\n\t<div class=\\\"medium-insert-embeds-overlay\\\"></div>\\n</div>\";\n},\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/images-fileupload.hbs\"] = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<input type=\\\"file\\\" multiple>\";\n  },\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/images-image.hbs\"] = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n  return \"        <div class=\\\"medium-insert-images-progress\\\"></div>\\n\";\n  },\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType=\"function\", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = \"<figure contenteditable=\\\"false\\\">\\n    <img src=\\\"\"\n    + escapeExpression(((helper = (helper = helpers.img || (depth0 != null ? depth0.img : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"img\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" alt=\\\"\\\">\\n\";\n  stack1 = helpers['if'].call(depth0, (depth0 != null ? depth0.progress : depth0), {\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"</figure>\";\n},\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/images-progressbar.hbs\"] = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  return \"<progress min=\\\"0\\\" max=\\\"100\\\" value=\\\"0\\\">0</progress>\";\n  },\"useData\":true});\n\nthis[\"MediumInsert\"][\"Templates\"][\"src/js/templates/images-toolbar.hbs\"] = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n  var stack1, buffer = \"\";\n  stack1 = helpers['if'].call(depth0, (depth0 != null ? depth0.label : depth0), {\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"2\":function(depth0,helpers,partials,data) {\n  var stack1, helper, lambda=this.lambda, escapeExpression=this.escapeExpression, functionType=\"function\", helperMissing=helpers.helperMissing, buffer = \"                <li>\\n                    <button class=\\\"medium-editor-action\\\" data-action=\\\"\"\n    + escapeExpression(lambda((data && data.key), depth0))\n    + \"\\\">\";\n  stack1 = ((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"label\",\"hash\":{},\"data\":data}) : helper));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"</button>\\n                </li>\\n\";\n},\"4\":function(depth0,helpers,partials,data) {\n  var stack1, buffer = \"\t<div class=\\\"medium-insert-images-toolbar2 medium-editor-toolbar medium-editor-toolbar-active\\\">\\n\t\t<ul class=\\\"medium-editor-toolbar-actions clearfix\\\">\\n\";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.actions : depth0), {\"name\":\"each\",\"hash\":{},\"fn\":this.program(5, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"    \t</ul>\\n    </div>\\n\";\n},\"5\":function(depth0,helpers,partials,data) {\n  var stack1, buffer = \"\";\n  stack1 = helpers['if'].call(depth0, (depth0 != null ? depth0.label : depth0), {\"name\":\"if\",\"hash\":{},\"fn\":this.program(6, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"6\":function(depth0,helpers,partials,data) {\n  var stack1, helper, lambda=this.lambda, escapeExpression=this.escapeExpression, functionType=\"function\", helperMissing=helpers.helperMissing, buffer = \"        \t        <li>\\n        \t            <button class=\\\"medium-editor-action\\\" data-action=\\\"\"\n    + escapeExpression(lambda((data && data.key), depth0))\n    + \"\\\">\";\n  stack1 = ((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {\"name\":\"label\",\"hash\":{},\"data\":data}) : helper));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + \"</button>\\n        \t        </li>\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n  var stack1, buffer = \"<div class=\\\"medium-insert-images-toolbar medium-editor-toolbar medium-toolbar-arrow-under medium-editor-toolbar-active\\\">\\n    <ul class=\\\"medium-editor-toolbar-actions clearfix\\\">\\n\";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.styles : depth0), {\"name\":\"each\",\"hash\":{},\"fn\":this.program(1, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += \"    </ul>\\n</div>\\n\\n\";\n  stack1 = helpers['if'].call(depth0, (depth0 != null ? depth0.actions : depth0), {\"name\":\"if\",\"hash\":{},\"fn\":this.program(4, data),\"inverse\":this.noop,\"data\":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},\"useData\":true});\n;(function ($, window, document, undefined) {\n\n    'use strict';\n\n    /** Default values */\n    var pluginName = 'mediumInsert',\n        defaults = {\n            editor: null,\n            enabled: true,\n            addons: {\n                images: true, // boolean or object containing configuration\n                embeds: true\n            }\n        };\n\n    /**\n     * Capitalize first character\n     *\n     * @param {string} str\n     * @return {string}\n     */\n\n    function ucfirst (str) {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    }\n\n    /**\n     * Core plugin's object\n     *\n     * Sets options, variables and calls init() function\n     *\n     * @constructor\n     * @param {DOM} el - DOM element to init the plugin on\n     * @param {object} options - Options to override defaults\n     * @return {void}\n     */\n\n    function Core (el, options) {\n        var editor;\n\n        this.el = el;\n        this.$el = $(el);\n        this.templates = window.MediumInsert.Templates;\n\n        if (options) {\n            // Fix #142\n            // Avoid deep copying editor object, because since v2.3.0 it contains circular references which causes jQuery.extend to break\n            // Instead copy editor object to this.options manually\n            editor = options.editor;\n            options.editor = null;\n        }\n        this.options = $.extend(true, {}, defaults, options);\n        this.options.editor = editor;\n\n        this._defaults = defaults;\n        this._name = pluginName;\n\n        // Extend editor's functions\n        if (this.options && this.options.editor) {\n            // Deprecated in editor\n            this.options.editor._deactivate = this.options.editor.deactivate;\n            this.options.editor._activate = this.options.editor.activate;\n            this.options.editor.deactivate = this.editorDeactivate;\n            this.options.editor.activate = this.editorActivate;\n\n            this.options.editor._serialize = this.options.editor.serialize;\n            this.options.editor._destroy = this.options.editor.destroy;\n            this.options.editor._setup = this.options.editor.setup;\n            this.options.editor._hideInsertButtons = this.hideButtons;\n            this.options.editor.serialize = this.editorSerialize;\n            this.options.editor.destroy = this.editorDestroy;\n            this.options.editor.setup = this.editorSetup;\n            this.options.editor.placeholders.updatePlaceholder = this.editorUpdatePlaceholder;\n        }\n    }\n\n    /**\n     * Initialization\n     *\n     * @return {void}\n     */\n\n    Core.prototype.init = function () {\n        this.$el.addClass('medium-editor-insert-plugin');\n\n        if (typeof this.options.addons !== 'object' || Object.keys(this.options.addons).length === 0) {\n            this.disable();\n        }\n\n        this.initAddons();\n        this.clean();\n        this.events();\n    };\n\n    /**\n     * Event listeners\n     *\n     * @return {void}\n     */\n\n    Core.prototype.events = function () {\n        var that = this;\n\n        this.$el\n            .on('dragover drop', function (e) {\n                e.preventDefault();\n            })\n            .on('keyup click', $.proxy(this, 'toggleButtons'))\n            .on('selectstart mousedown', '.medium-insert, .medium-insert-buttons', $.proxy(this, 'disableSelection'))\n            .on('click', '.medium-insert-buttons-show', $.proxy(this, 'toggleAddons'))\n            .on('click', '.medium-insert-action', $.proxy(this, 'addonAction'))\n            .on('paste', '.medium-insert-caption-placeholder', function (e) {\n                $.proxy(that, 'removeCaptionPlaceholder')($(e.target));\n            });\n\n        $(window).on('resize', $.proxy(this, 'positionButtons', null));\n    };\n\n    /**\n     * Return editor instance\n     *\n     * @return {object} MediumEditor\n     */\n\n    Core.prototype.getEditor = function () {\n        return this.options.editor;\n    };\n\n    /**\n     * Extend editor's serialize function\n     *\n     * @return {object} Serialized data\n     */\n\n    Core.prototype.editorSerialize = function () {\n        var data = this._serialize();\n\n        $.each(data, function (key) {\n            var $data = $('<div />').html(data[key].value);\n\n            $data.find('.medium-insert-buttons').remove();\n\n            data[key].value = $data.html();\n        });\n\n        return data;\n    };\n\n    /**\n     * Extend editor's deactivate function to deactivate this plugin too\n     *\n     * @deprecated\n     * @return {void}\n     */\n\n    Core.prototype.editorDeactivate = function () {\n        $.each(this.elements, function (key, el) {\n            $(el).data('plugin_' + pluginName).disable();\n        });\n\n        this._deactivate();\n    };\n\n    /**\n     * Extend editor's activate function to activate this plugin too\n     *\n     * @deprecated\n     * @return {void}\n     */\n\n    Core.prototype.editorActivate = function () {\n        this._activate();\n\n        $.each(this.elements, function (key, el) {\n            $(el).data('plugin_' + pluginName).enable();\n        });\n    };\n\n    /**\n     * Extend editor's destroy function to deactivate this plugin too\n     *\n     * @return {void}\n     */\n\n    Core.prototype.editorDestroy = function () {\n        $.each(this.elements, function (key, el) {\n            $(el).data('plugin_' + pluginName).disable();\n        });\n\n        this._destroy();\n    };\n\n    /**\n     * Extend editor's setup function to activate this plugin too\n     *\n     * @return {void}\n     */\n\n    Core.prototype.editorSetup = function () {\n        this._setup();\n\n        $.each(this.elements, function (key, el) {\n            $(el).data('plugin_' + pluginName).enable();\n        });\n    };\n\n    /**\n     * Extend editor's placeholder.updatePlaceholder function to show placeholder dispite of the plugin buttons\n     *\n     * @return {void}\n     */\n\n    Core.prototype.editorUpdatePlaceholder = function (el) {\n        var $clone = $(el).clone(),\n            cloneHtml;\n\n        $clone.find('.medium-insert-buttons').remove();\n        cloneHtml = $clone.html().replace(/^\\s+|\\s+$/g, '').replace(/^<p( class=\"medium-insert-active\")?><br><\\/p>$/, '');\n\n        if (!(el.querySelector('img')) &&\n            !(el.querySelector('blockquote')) &&\n            cloneHtml === '') {\n\n            this.showPlaceholder(el);\n            this.base._hideInsertButtons($(el));\n        } else {\n            this.hidePlaceholder(el);\n        }\n    };\n\n    /**\n     * Deselects selected text\n     *\n     * @return {void}\n     */\n\n    Core.prototype.deselect = function () {\n        document.getSelection().removeAllRanges();\n    };\n\n    /**\n     * Disables the plugin\n     *\n     * @return {void}\n     */\n\n    Core.prototype.disable = function () {\n        this.options.enabled = false;\n\n        this.$el.find('.medium-insert-buttons').addClass('hide');\n    };\n\n    /**\n     * Enables the plugin\n     *\n     * @return {void}\n     */\n\n    Core.prototype.enable = function () {\n        this.options.enabled = true;\n\n        this.$el.find('.medium-insert-buttons').removeClass('hide');\n    };\n\n    /**\n     * Disables selectstart mousedown events on plugin elements except images\n     *\n     * @return {void}\n     */\n\n    Core.prototype.disableSelection = function (e) {\n        var $el = $(e.target);\n\n        if ($el.is('img') === false || $el.hasClass('medium-insert-buttons-show')) {\n            e.preventDefault();\n        }\n    };\n\n    /**\n     * Initialize addons\n     *\n     * @return {void}\n     */\n\n    Core.prototype.initAddons = function () {\n        var that = this;\n\n        if (!this.options.addons || this.options.addons.length === 0) {\n            return;\n        }\n\n        $.each(this.options.addons, function (addon, options) {\n            var addonName = pluginName + ucfirst(addon);\n\n            if (options === false) {\n                delete that.options.addons[addon];\n                return;\n            }\n\n            that.$el[addonName](options);\n            that.options.addons[addon] = that.$el.data('plugin_'+ addonName).options;\n        });\n    };\n\n    /**\n     * Cleans a content of the editor\n     *\n     * @return {void}\n     */\n\n    Core.prototype.clean = function () {\n        var that = this,\n            $buttons, $lastEl, $text;\n\n        if (this.options.enabled === false) {\n            return;\n        }\n\n        // Fix #39\n        // After deleting all content (ctrl+A and delete) in Firefox, all content is deleted and only <br> appears\n        // To force placeholder to appear, set <p><br></p> as content of the $el\n\n        if (this.$el.html().trim() === '' || this.$el.html().trim() === '<br>') {\n            this.$el.html(this.templates['src/js/templates/core-empty-line.hbs']().trim());\n        }\n\n        // Fix #29\n        // Wrap content text in <p></p> to avoid Firefox problems\n        $text = this.$el\n            .contents()\n            .filter(function () {\n                return this.nodeName === '#text' && $.trim($(this).text()) !== '';\n            });\n\n        $text.each(function () {\n            $(this).wrap('<p />');\n\n            // Fix #145\n            // Move caret at the end of the element that's being wrapped\n            that.moveCaret($(this).parent(), $(this).text().length);\n        });\n\n        this.addButtons();\n\n        $buttons = this.$el.find('.medium-insert-buttons');\n        $lastEl = $buttons.prev();\n        if ($lastEl.attr('class') && $lastEl.attr('class').match(/medium\\-insert(?!\\-active)/)) {\n            $buttons.before(this.templates['src/js/templates/core-empty-line.hbs']().trim());\n        }\n    };\n\n    /**\n     * Returns HTML template of buttons\n     *\n     * @return {string} HTML template of buttons\n     */\n\n    Core.prototype.getButtons = function () {\n        if (this.options.enabled === false) {\n            return;\n        }\n\n        return this.templates['src/js/templates/core-buttons.hbs']({\n            addons: this.options.addons\n        }).trim();\n    };\n\n    /**\n     * Appends buttons at the end of the $el\n     *\n     * @return {void}\n     */\n\n    Core.prototype.addButtons = function () {\n        if (this.$el.find('.medium-insert-buttons').length === 0) {\n            this.$el.append(this.getButtons());\n        }\n    };\n\n    /**\n     * Move buttons to current active, empty paragraph and show them\n     *\n     * @return {void}\n     */\n\n    Core.prototype.toggleButtons = function (e) {\n        var $el = $(e.target),\n            selection = window.getSelection(),\n            that = this,\n            range, $current, $p, activeAddon;\n\n        if (this.options.enabled === false) {\n            return;\n        }\n\n        if (!selection || selection.rangeCount === 0) {\n            $current = $el;\n        } else {\n            range = selection.getRangeAt(0);\n            $current = $(range.commonAncestorContainer);\n        }\n\n        // When user clicks on  editor's placeholder in FF, $current el is editor itself, not the first paragraph as it should\n        if ($current.hasClass('medium-editor-insert-plugin')) {\n            $current = $current.find('p:first');\n        }\n\n        $p = $current.is('p') ? $current : $current.closest('p');\n\n        this.clean();\n\n        if ($el.hasClass('medium-editor-placeholder') === false && $el.closest('.medium-insert-buttons').length === 0 && $current.closest('.medium-insert-buttons').length === 0) {\n\n            this.$el.find('.medium-insert-active').removeClass('medium-insert-active');\n\n            $.each(this.options.addons, function (addon) {\n                if ($el.closest('.medium-insert-'+ addon).length) {\n                    $current = $el;\n                }\n\n                if ($current.closest('.medium-insert-'+ addon).length) {\n                    $p = $current.closest('.medium-insert-'+ addon);\n                    activeAddon = addon;\n                    return;\n                }\n            });\n\n            if ($p.length && (($p.text().trim() === '' && !activeAddon) || activeAddon === 'images')) {\n                $p.addClass('medium-insert-active');\n\n                // If buttons are displayed on addon paragraph, wait 100ms for possible captions to display\n                setTimeout(function () {\n                    that.positionButtons(activeAddon);\n                    that.showButtons(activeAddon);\n                }, activeAddon ? 100 : 0);\n            } else {\n                this.hideButtons();\n            }\n        }\n    };\n\n    /**\n     * Show buttons\n     *\n     * @param {string} activeAddon - Name of active addon\n     * @returns {void}\n     */\n\n    Core.prototype.showButtons = function (activeAddon) {\n        var $buttons = this.$el.find('.medium-insert-buttons');\n\n        $buttons.show();\n        $buttons.find('li').show();\n\n        if (activeAddon) {\n            $buttons.find('li').hide();\n            $buttons.find('a[data-addon=\"'+ activeAddon +'\"]').parent().show();\n        }\n    };\n\n    /**\n     * Hides buttons\n     *\n     * @param {jQuery} $el - Editor element\n     * @returns {void}\n     */\n\n    Core.prototype.hideButtons = function ($el) {\n        $el = $el || this.$el;\n\n        $el.find('.medium-insert-buttons').hide();\n        $el.find('.medium-insert-buttons-addons').hide();\n        $el.find('.medium-insert-buttons-show').removeClass('medium-insert-buttons-rotate');\n    };\n\n    /**\n     * Position buttons\n     *\n     * @param {string} activeAddon - Name of active addon\n     * @return {void}\n     */\n\n    Core.prototype.positionButtons = function (activeAddon) {\n        var $buttons = this.$el.find('.medium-insert-buttons'),\n            $p = this.$el.find('.medium-insert-active'),\n            $first = $p.find('figure:first').length ? $p.find('figure:first') : $p,\n            left, top;\n\n        if ($p.length) {\n\n            left = $p.position().left - parseInt($buttons.find('.medium-insert-buttons-addons').css('left'), 10) - parseInt($buttons.find('.medium-insert-buttons-addons a:first').css('margin-left'), 10);\n            left = left < 0 ? $p.position().left : left;\n            top = $p.position().top + parseInt($p.css('margin-top'), 10);\n\n            if (activeAddon) {\n                if ($p.position().left !== $first.position().left) {\n                    left = $first.position().left;\n                }\n\n                top += $p.height() + 15; // 15px offset\n            }\n\n            $buttons.css({\n                left: left,\n                top: top\n            });\n        }\n    };\n\n    /**\n     * Toggles addons buttons\n     *\n     * @return {void}\n     */\n\n    Core.prototype.toggleAddons = function () {\n        this.$el.find('.medium-insert-buttons-addons').fadeToggle();\n        this.$el.find('.medium-insert-buttons-show').toggleClass('medium-insert-buttons-rotate');\n    };\n\n    /**\n     * Hide addons buttons\n     *\n     * @return {void}\n     */\n\n    Core.prototype.hideAddons = function () {\n        this.$el.find('.medium-insert-buttons-addons').hide();\n        this.$el.find('.medium-insert-buttons-show').removeClass('medium-insert-buttons-rotate');\n    };\n\n    /**\n     * Call addon's action\n     *\n     * @param {Event} e\n     * @return {void}\n     */\n\n    Core.prototype.addonAction = function (e) {\n        var $a = $(e.target).is('a') ? $(e.target) : $(e.target).closest('a'),\n            addon = $a.data('addon'),\n            action = $a.data('action');\n\n        this.$el.data('plugin_'+ pluginName + ucfirst(addon))[action]();\n    };\n\n    /**\n     * Move caret at the beginning of the empty paragraph\n     *\n     * @param {jQuery} $el Element where to place the caret\n     * @param {integer} position Position where to move caret. Default: 0\n     *\n     * @return {void}\n     */\n\n    Core.prototype.moveCaret = function ($el, position) {\n        var range, sel, el;\n\n        position = position || 0;\n        range = document.createRange();\n        sel = window.getSelection();\n        el = $el.get(0);\n\n        if (!el.childNodes.length) {\n            var textEl = document.createTextNode(' ');\n            el.appendChild(textEl);\n        }\n\n        range.setStart(el.childNodes[0], position);\n        range.collapse(true);\n        sel.removeAllRanges();\n        sel.addRange(range);\n    };\n\n    /**\n     * Add caption\n     *\n     * @param {jQuery Element} $el\n     * @param {string} placeholder\n     * @return {void}\n     */\n\n    Core.prototype.addCaption = function ($el, placeholder) {\n        var $caption = $el.find('figcaption');\n\n        if ($caption.length === 0) {\n            $el.append(this.templates['src/js/templates/core-caption.hbs']({\n                placeholder: placeholder\n            }));\n        }\n    };\n\n    /**\n     * Remove captions\n     *\n     * @param {jQuery Element} $ignore\n     * @return {void}\n     */\n\n    Core.prototype.removeCaptions = function ($ignore) {\n        var $captions = this.$el.find('figcaption');\n\n        if ($ignore) {\n            $captions = $captions.not($ignore);\n        }\n\n        $captions.each(function () {\n            if ($(this).hasClass('medium-insert-caption-placeholder') || $(this).text().trim() === '') {\n                $(this).remove();\n            }\n        });\n    };\n\n    /**\n     * Remove caption placeholder\n     *\n     * @param {jQuery Element} $el\n     * @return {void}\n     */\n\n    Core.prototype.removeCaptionPlaceholder = function ($el) {\n        var $caption = $el.is('figcaption') ? $el : $el.find('figcaption');\n\n        if ($caption.length) {\n            $caption\n                .removeClass('medium-insert-caption-placeholder')\n                .removeAttr('data-placeholder');\n        }\n    };\n\n    /**\n     * Show warning about deprecated options/methods\n     *\n     * @param {string} oldName\n     * @param {string} newName\n     * @param {string} version\n     * @return {void}\n     */\n\n    Core.prototype.deprecated = function (oldName, newName, version) {\n        var m = oldName +\" is deprecated, please use \"+ newName +\" instead.\";\n        if (version) {\n            m += \" Will be removed in \"+ version;\n        }\n\n        if(window.console !== undefined){\n            window.console.warn(m);\n        }\n    };\n\n    /** Plugin initialization */\n\n    $.fn[pluginName] = function (options) {\n        return this.each(function () {\n            if (!$.data(this, 'plugin_' + pluginName)) {\n                // Plugin initialization\n                $.data(this, 'plugin_' + pluginName, new Core(this, options));\n                $.data(this, 'plugin_' + pluginName).init();\n            } else if (typeof options === 'string' && $.data(this, 'plugin_' + pluginName)[options]) {\n                // Method call\n                $.data(this, 'plugin_' + pluginName)[options]();\n            }\n        });\n    };\n\n})(jQuery, window, document);\n\n;(function ($, window, document, undefined) {\n\n    'use strict';\n\n    /** Default values */\n    var pluginName = 'mediumInsert',\n        addonName = 'Embeds', // first char is uppercase\n        defaults = {\n            label: '<span class=\"fa fa-youtube-play\"></span>',\n            placeholder: 'Paste a YouTube, Vimeo, Facebook, Twitter or Instagram link and press Enter',\n            oembedProxy: 'http://medium.iframe.ly/api/oembed?iframe=1',\n            captions: true,\n            captionPlaceholder: 'Type caption (optional)',\n            styles: {\n                wide: {\n                    label: '<span class=\"fa fa-align-justify\"></span>',\n                    // added: function ($el) {},\n                    // removed: function ($el) {}\n                },\n                left: {\n                    label: '<span class=\"fa fa-align-left\"></span>',\n                    // added: function ($el) {},\n                    // removed: function ($el) {}\n                },\n                right: {\n                    label: '<span class=\"fa fa-align-right\"></span>',\n                    // added: function ($el) {},\n                    // removed: function ($el) {}\n                }\n            },\n            actions: {\n                remove: {\n                    label: '<span class=\"fa fa-times\"></span>',\n                    clicked: function () {\n                        var $event = $.Event('keydown');\n\n                        $event.which = 8;\n                        $(document).trigger($event);\n                    }\n                }\n            }\n        };\n\n    /**\n     * Embeds object\n     *\n     * Sets options, variables and calls init() function\n     *\n     * @constructor\n     * @param {DOM} el - DOM element to init the plugin on\n     * @param {object} options - Options to override defaults\n     * @return {void}\n     */\n\n    function Embeds (el, options) {\n        this.el = el;\n        this.$el = $(el);\n        this.templates = window.MediumInsert.Templates;\n        this.core = this.$el.data('plugin_'+ pluginName);\n\n        this.options = $.extend(true, {}, defaults, options);\n\n        this._defaults = defaults;\n        this._name = pluginName;\n\n        // Extend editor's functions\n        if (this.core.getEditor()) {\n            this.core.getEditor()._serializePreEmbeds = this.core.getEditor().serialize;\n            this.core.getEditor().serialize = this.editorSerialize;\n        }\n\n        this.init();\n    }\n\n    /**\n     * Initialization\n     *\n     * @return {void}\n     */\n\n    Embeds.prototype.init = function () {\n        var $embeds = this.$el.find('.medium-insert-embeds');\n\n        $embeds.attr('contenteditable', false);\n        $embeds.each(function () {\n            if ($(this).find('.medium-insert-embeds-overlay').length === 0) {\n                $(this).append($('<div />').addClass('medium-insert-embeds-overlay'));\n            }\n        });\n\n        this.events();\n        this.backwardsCompatibility();\n    };\n\n    /**\n     * Event listeners\n     *\n     * @return {void}\n     */\n\n    Embeds.prototype.events = function () {\n        $(document)\n            .on('click', $.proxy(this, 'unselectEmbed'))\n            .on('keydown', $.proxy(this, 'removeEmbed'))\n            .on('click', '.medium-insert-embeds-toolbar .medium-editor-action', $.proxy(this, 'toolbarAction'))\n            .on('click', '.medium-insert-embeds-toolbar2 .medium-editor-action', $.proxy(this, 'toolbar2Action'));\n\n        this.$el\n            .on('keyup click paste', $.proxy(this, 'togglePlaceholder'))\n            .on('keydown', $.proxy(this, 'processLink'))\n            .on('click', '.medium-insert-embeds-overlay', $.proxy(this, 'selectEmbed'))\n            .on('contextmenu', '.medium-insert-embeds-placeholder', $.proxy(this, 'fixRightClickOnPlaceholder'));\n    };\n\n    /**\n     * Replace v0.* class names with new ones, wrap embedded content to new structure\n     *\n     * @return {void}\n     */\n\n    Embeds.prototype.backwardsCompatibility = function () {\n        var that = this;\n\n        this.$el.find('.mediumInsert-embeds')\n            .removeClass('mediumInsert-embeds')\n            .addClass('medium-insert-embeds');\n\n        this.$el.find('.medium-insert-embeds').each(function () {\n            if ($(this).find('.medium-insert-embed').length === 0) {\n                $(this).after(that.templates['src/js/templates/embeds-wrapper.hbs']({\n                    html: $(this).html()\n                }));\n                $(this).remove();\n            }\n        });\n    };\n\n    /**\n     * Get the Core object\n     *\n     * @return {object} Core object\n     */\n\n    Embeds.prototype.getCore = function () {\n        return this.core;\n    };\n\n    /**\n     * Extend editor's serialize function\n     *\n     * @return {object} Serialized data\n     */\n\n    Embeds.prototype.editorSerialize = function () {\n        var data = this._serializePreEmbeds();\n\n        $.each(data, function (key) {\n            var $data = $('<div />').html(data[key].value);\n\n            $data.find('.medium-insert-embeds').removeAttr('contenteditable');\n            $data.find('.medium-insert-embeds-overlay').remove();\n\n            data[key].value = $data.html();\n        });\n\n        return data;\n    };\n\n    /**\n     * Add embedded element\n     *\n     * @return {void}\n     */\n\n    Embeds.prototype.add = function () {\n        var $place = this.$el.find('.medium-insert-active');\n\n        // Fix #132\n        // Make sure that the content of the paragraph is empty and <br> is wrapped in <p></p> to avoid Firefox problems\n        $place.html(this.templates['src/js/templates/core-empty-line.hbs']().trim());\n\n        // Replace paragraph with div to prevent #124 issue with pasting in Chrome,\n        // because medium editor wraps inserted content into paragraph and paragraphs can't be nested\n        if ($place.is('p')) {\n            $place.replaceWith('<div class=\"medium-insert-active\">'+ $place.html() +'</div>');\n            $place = this.$el.find('.medium-insert-active');\n            this.getCore().moveCaret($place);\n        }\n\n        $place.addClass('medium-insert-embeds medium-insert-embeds-input medium-insert-embeds-active');\n\n        this.togglePlaceholder({ target: $place.get(0) });\n\n        $place.click();\n        this.getCore().hideButtons();\n    };\n\n    /**\n     * Toggles placeholder\n     *\n     * @param {Event} e\n     * @return {void}\n     */\n\n    Embeds.prototype.togglePlaceholder = function (e) {\n        var $place = $(e.target),\n            selection = window.getSelection(),\n            range, $current, text;\n\n        if (!selection || selection.rangeCount === 0) {\n            return;\n        }\n\n        range = selection.getRangeAt(0);\n        $current = $(range.commonAncestorContainer);\n\n        if ($current.hasClass('medium-insert-embeds-active')) {\n            $place = $current;\n        } else if ($current.closest('.medium-insert-embeds-active').length) {\n            $place = $current.closest('.medium-insert-embeds-active');\n        }\n\n        if ($place.hasClass('medium-insert-embeds-active')) {\n\n            text = $place.text().trim();\n\n            if (text === '' && $place.hasClass('medium-insert-embeds-placeholder') === false) {\n                $place\n                    .addClass('medium-insert-embeds-placeholder')\n                    .attr('data-placeholder', this.options.placeholder);\n            } else if (text !== '' && $place.hasClass('medium-insert-embeds-placeholder')) {\n                $place\n                    .removeClass('medium-insert-embeds-placeholder')\n                    .removeAttr('data-placeholder');\n            }\n\n        } else {\n            this.$el.find('.medium-insert-embeds-active').remove();\n        }\n    };\n\n    /**\n     * Right click on placeholder in Chrome selects whole line. Fix this by placing caret at the end of line\n     *\n     * @param {Event} e\n     * @return {void}\n     */\n\n    Embeds.prototype.fixRightClickOnPlaceholder = function (e) {\n        this.getCore().moveCaret($(e.target));\n    };\n\n    /**\n     * Process link\n     *\n     * @param {Event} e\n     * @return {void}\n     */\n\n    Embeds.prototype.processLink = function (e) {\n        var $place = this.$el.find('.medium-insert-embeds-active'),\n            url;\n\n        if (!$place.length) {\n            return;\n        }\n\n        url = $place.text().trim();\n\n        // Return empty placeholder on backspace, delete or enter\n        if (url === '' && [8, 46, 13].indexOf(e.which) !== -1) {\n            $place.remove();\n            return;\n        }\n\n        if (e.which === 13) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            if (this.options.oembedProxy) {\n                this.oembed(url);\n            } else {\n                this.parseUrl(url);\n            }\n        }\n    };\n\n    /**\n     * Get HTML via oEmbed proxy\n     *\n     * @param {string} url\n     * @return {void}\n     */\n\n    Embeds.prototype.oembed = function (url) {\n        var that = this;\n\n        $.support.cors = true;\n\n        $.ajax({\n            crossDomain: true,\n            cache: false,\n            url: this.options.oembedProxy,\n            dataType: 'json',\n            data: {\n                url: url\n            },\n            success: function(data) {\n                var html = data && data.html;\n\n                if (data && !data.html && data.type === 'photo' && data.url) {\n                    html = '<img src=\"' + data.url + '\" alt=\"\">';\n                }\n\n                $.proxy(that, 'embed', html)();\n            },\n            error: function(jqXHR, textStatus, errorThrown) {\n                var responseJSON = (function() {\n                    try {\n                        return JSON.parse(jqXHR.responseText);\n                    } catch(e) {}\n                })();\n\n                if (typeof window.console !== 'undefined') {\n                    window.console.log((responseJSON && responseJSON.error) || jqXHR.status || errorThrown.message);\n                } else {\n                    window.alert('Error requesting media from ' + that.options.oembedProxy + ' to insert: ' + errorThrown + ' (response status: ' + jqXHR.status + ')');\n                }\n\n                $.proxy(that, 'convertBadEmbed', url)();\n            }\n        });\n    };\n\n    /**\n     * Get HTML using regexp\n     *\n     * @param {string} url\n     * @return {void}\n     */\n\n    Embeds.prototype.parseUrl = function (url) {\n        var html;\n\n        if (!(new RegExp(['youtube', 'youtu.be', 'vimeo', 'instagram'].join('|')).test(url))) {\n            $.proxy(this, 'convertBadEmbed', url)();\n            return false;\n        }\n\n        html = url.replace(/\\n?/g, '')\n            .replace(/^((http(s)?:\\/\\/)?(www\\.)?(youtube\\.com|youtu\\.be)\\/(watch\\?v=|v\\/)?)([a-zA-Z0-9\\-_]+)(.*)?$/, '<div class=\"video\"><iframe width=\"420\" height=\"315\" src=\"//www.youtube.com/embed/$7\" frameborder=\"0\" allowfullscreen></iframe></div>')\n            .replace(/^https?:\\/\\/vimeo\\.com(\\/.+)?\\/([0-9]+)$/, '<iframe src=\"//player.vimeo.com/video/$2\" width=\"500\" height=\"281\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>')\n            //.replace(/^https:\\/\\/twitter\\.com\\/(\\w+)\\/status\\/(\\d+)\\/?$/, '<blockquote class=\"twitter-tweet\" align=\"center\" lang=\"en\"><a href=\"https://twitter.com/$1/statuses/$2\"></a></blockquote><script async src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>')\n            //.replace(/^https:\\/\\/www\\.facebook\\.com\\/(video.php|photo.php)\\?v=(\\d+).+$/, '<div class=\"fb-post\" data-href=\"https://www.facebook.com/photo.php?v=$2\"><div class=\"fb-xfbml-parse-ignore\"><a href=\"https://www.facebook.com/photo.php?v=$2\">Post</a></div></div>')\n            .replace(/^https?:\\/\\/instagram\\.com\\/p\\/(.+)\\/?$/, '<span class=\"instagram\"><iframe src=\"//instagram.com/p/$1/embed/\" width=\"612\" height=\"710\" frameborder=\"0\" scrolling=\"no\" allowtransparency=\"true\"></iframe></span>');\n\n\n        this.embed((/<(\"[^\"]*\"|'[^']*'|[^'\">])*>/).test(html) ? html : false);\n    };\n\n    /**\n     * Add html to page\n     *\n     * @param {string} html\n     * @return {void}\n     */\n\n    Embeds.prototype.embed = function (html) {\n        var $place = this.$el.find('.medium-insert-embeds-active');\n\n        if (!html) {\n            alert('Incorrect URL format specified');\n            return false;\n        } else {\n            $place.after(this.templates['src/js/templates/embeds-wrapper.hbs']({\n                html: html\n            }));\n            $place.remove();\n\n            this.$el.trigger('input');\n\n            if (html.indexOf('facebook') !== -1) {\n                if (typeof(FB) !== 'undefined') {\n                    setTimeout(function () {\n                        FB.XFBML.parse();\n                    }, 2000);\n                }\n            }\n        }\n    };\n\n    /**\n     * Convert bad oEmbed content to an actual line.\n     * Instead of displaying the error message we convert the bad embed\n     *\n     * @param {string} content Bad content\n     *\n     * @return {void}\n     */\n    Embeds.prototype.convertBadEmbed = function (content) {\n        var $place, $empty, $content,\n            emptyTemplate = this.templates['src/js/templates/core-empty-line.hbs']().trim();\n\n        $place = this.$el.find('.medium-insert-embeds-active');\n\n        // convert embed node to an empty node and insert the bad embed inside\n        $content = $(emptyTemplate);\n        $place.before($content);\n        $place.remove();\n        $content.html(content);\n\n        // add an new empty node right after to simulate Enter press\n        $empty = $(emptyTemplate);\n        $content.after($empty);\n\n        this.$el.trigger('input');\n\n        this.getCore().moveCaret($place);\n    };\n\n    /**\n     * Select clicked embed\n     *\n     * @param {Event} e\n     * @returns {void}\n     */\n\n    Embeds.prototype.selectEmbed = function (e) {\n        if(this.getCore().options.enabled) {\n            var $embed = $(e.target).hasClass('medium-insert-embeds') ? $(e.target) : $(e.target).closest('.medium-insert-embeds'),\n                that = this;\n\n            $embed.addClass('medium-insert-embeds-selected');\n\n            setTimeout(function () {\n                that.addToolbar();\n\n                if (that.options.captions) {\n                    that.getCore().addCaption($embed.find('figure'), that.options.captionPlaceholder);\n                }\n            }, 50);\n        }\n    };\n\n    /**\n     * Unselect selected embed\n     *\n     * @param {Event} e\n     * @returns {void}\n     */\n\n    Embeds.prototype.unselectEmbed = function (e) {\n        var $el = $(e.target).hasClass('medium-insert-embeds') ? $(e.target) : $(e.target).closest('.medium-insert-embeds'),\n            $embed = this.$el.find('.medium-insert-embeds-selected');\n\n        if ($el.hasClass('medium-insert-embeds-selected')) {\n            $embed.not($el).removeClass('medium-insert-embeds-selected');\n            $('.medium-insert-embeds-toolbar, .medium-insert-embeds-toolbar2').remove();\n            this.getCore().removeCaptions($el.find('figcaption'));\n\n            if ($(e.target).is('.medium-insert-caption-placeholder') || $(e.target).is('figcaption')) {\n                $el.removeClass('medium-insert-embeds-selected');\n                this.getCore().removeCaptionPlaceholder($el.find('figure'));\n            }\n            return;\n        }\n\n        $embed.removeClass('medium-insert-embeds-selected');\n        $('.medium-insert-embeds-toolbar, .medium-insert-embeds-toolbar2').remove();\n\n        if ($(e.target).is('.medium-insert-caption-placeholder')) {\n            this.getCore().removeCaptionPlaceholder($el.find('figure'));\n        } else if ($(e.target).is('figcaption') === false) {\n            this.getCore().removeCaptions();\n        }\n    };\n\n    /**\n     * Remove embed\n     *\n     * @param {Event} e\n     * @returns {void}\n     */\n\n    Embeds.prototype.removeEmbed = function (e) {\n        var $embed, $empty;\n\n        if (e.which === 8 || e.which === 46) {\n            $embed = this.$el.find('.medium-insert-embeds-selected');\n\n            if ($embed.length) {\n                e.preventDefault();\n\n                $('.medium-insert-embeds-toolbar, .medium-insert-embeds-toolbar2').remove();\n\n                $empty = $(this.templates['src/js/templates/core-empty-line.hbs']().trim());\n                $embed.before($empty);\n                $embed.remove();\n\n                // Hide addons\n                this.getCore().hideAddons();\n\n                this.getCore().moveCaret($empty);\n                this.$el.trigger('input');\n            }\n        }\n    };\n\n    /**\n     * Adds embed toolbar to editor\n     *\n     * @returns {void}\n     */\n\n    Embeds.prototype.addToolbar = function () {\n        var $embed = this.$el.find('.medium-insert-embeds-selected'),\n            active = false,\n            $toolbar, $toolbar2, top;\n\n        if ($embed.length === 0) {\n            return;\n        }\n\n        $('body').append(this.templates['src/js/templates/embeds-toolbar.hbs']({\n            styles: this.options.styles,\n            actions: this.options.actions\n        }).trim());\n\n        $toolbar = $('.medium-insert-embeds-toolbar');\n        $toolbar2 = $('.medium-insert-embeds-toolbar2');\n\n        top = $embed.offset().top - $toolbar.height() - 8 - 2 - 5; // 8px - hight of an arrow under toolbar, 2px - height of an embed outset, 5px - distance from an embed\n        if (top < 0) {\n            top = 0;\n        }\n\n        $toolbar\n            .css({\n                top: top,\n                left: $embed.offset().left + $embed.width() / 2 - $toolbar.width() / 2\n            })\n            .show();\n\n        $toolbar2\n            .css({\n                top: $embed.offset().top + 2, // 2px - distance from a border\n                left: $embed.offset().left + $embed.width() - $toolbar2.width() - 4 // 4px - distance from a border\n            })\n            .show();\n\n        $toolbar.find('button').each(function () {\n            if ($embed.hasClass('medium-insert-embeds-'+ $(this).data('action'))) {\n                $(this).addClass('medium-editor-button-active');\n                active = true;\n            }\n        });\n\n        if (active === false) {\n            $toolbar.find('button').first().addClass('medium-editor-button-active');\n        }\n    };\n\n    /**\n     * Fires toolbar action\n     *\n     * @param {Event} e\n     * @returns {void}\n     */\n\n    Embeds.prototype.toolbarAction = function (e) {\n        var $button = $(e.target).is('button') ? $(e.target) : $(e.target).closest('button'),\n            $li = $button.closest('li'),\n            $ul = $li.closest('ul'),\n            $lis = $ul.find('li'),\n            $embed = this.$el.find('.medium-insert-embeds-selected'),\n            that = this;\n\n        $button.addClass('medium-editor-button-active');\n        $li.siblings().find('.medium-editor-button-active').removeClass('medium-editor-button-active');\n\n        $lis.find('button').each(function () {\n            var className = 'medium-insert-embeds-'+ $(this).data('action');\n\n            if ($(this).hasClass('medium-editor-button-active')) {\n                $embed.addClass(className);\n\n                if (that.options.styles[$(this).data('action')].added) {\n                    that.options.styles[$(this).data('action')].added($embed);\n                }\n            } else {\n                $embed.removeClass(className);\n\n                if (that.options.styles[$(this).data('action')].removed) {\n                    that.options.styles[$(this).data('action')].removed($embed);\n                }\n            }\n        });\n\n        this.$el.trigger('input');\n    };\n\n    /**\n     * Fires toolbar2 action\n     *\n     * @param {Event} e\n     * @returns {void}\n     */\n\n    Embeds.prototype.toolbar2Action = function (e) {\n        var $button = $(e.target).is('button') ? $(e.target) : $(e.target).closest('button'),\n            callback = this.options.actions[$button.data('action')].clicked;\n\n        if (callback) {\n            callback(this.$el.find('.medium-insert-embeds-selected'));\n        }\n\n        this.$el.trigger('input');\n    };\n\n    /** Plugin initialization */\n\n    $.fn[pluginName + addonName] = function (options) {\n        return this.each(function () {\n            if (!$.data(this, 'plugin_' + pluginName + addonName)) {\n                $.data(this, 'plugin_' + pluginName + addonName, new Embeds(this, options));\n            }\n        });\n    };\n\n})(jQuery, window, document);\n\n;(function ($, window, document, undefined) {\n\n    'use strict';\n\n    /** Default values */\n    var pluginName = 'mediumInsert',\n        addonName = 'Images', // first char is uppercase\n        defaults = {\n            label: '<span class=\"fa fa-camera\"></span>',\n            uploadScript: null, // DEPRECATED: Use fileUploadOptions instead\n            deleteScript: 'delete.php',\n            preview: true,\n            captions: true,\n            captionPlaceholder: 'Type caption for image (optional)',\n            autoGrid: 3,\n            formData: null, // DEPRECATED: Use fileUploadOptions instead\n            fileUploadOptions: { // See https://github.com/blueimp/jQuery-File-Upload/wiki/Options\n                url: 'upload.php',\n                acceptFileTypes: /(\\.|\\/)(gif|jpe?g|png)$/i\n            },\n            styles: {\n                wide: {\n                    label: '<span class=\"fa fa-align-justify\"></span>',\n                    // added: function ($el) {},\n                    // removed: function ($el) {}\n                },\n                left: {\n                    label: '<span class=\"fa fa-align-left\"></span>',\n                    // added: function ($el) {},\n                    // removed: function ($el) {}\n                },\n                right: {\n                    label: '<span class=\"fa fa-align-right\"></span>',\n                    // added: function ($el) {},\n                    // removed: function ($el) {}\n                },\n                grid: {\n                    label: '<span class=\"fa fa-th\"></span>',\n                    // added: function ($el) {},\n                    // removed: function ($el) {}\n                }\n            },\n            actions: {\n                remove: {\n                    label: '<span class=\"fa fa-times\"></span>',\n                    clicked: function () {\n                        var $event = $.Event('keydown');\n\n                        $event.which = 8;\n                        $(document).trigger($event);\n                    }\n                }\n            },\n            sorting: function () {\n                var that = this;\n\n                $('.medium-insert-images').sortable({\n                    group: 'medium-insert-images',\n                    containerSelector: '.medium-insert-images',\n                    itemSelector: 'figure',\n                    placeholder: '<figure class=\"placeholder\">',\n                    handle: 'img',\n                    nested: false,\n                    vertical: false,\n                    afterMove: function () {\n                        that.$el.trigger('input');\n                    }\n                });\n            },\n            messages: {\n                acceptFileTypesError: 'This file is not in a supported format: ',\n                maxFileSizeError: 'This file is too big: '\n            }\n            // uploadCompleted: function ($el, data) {}\n        };\n\n    /**\n     * Images object\n     *\n     * Sets options, variables and calls init() function\n     *\n     * @constructor\n     * @param {DOM} el - DOM element to init the plugin on\n     * @param {object} options - Options to override defaults\n     * @return {void}\n     */\n\n    function Images (el, options) {\n        this.el = el;\n        this.$el = $(el);\n        this.templates = window.MediumInsert.Templates;\n        this.core = this.$el.data('plugin_'+ pluginName);\n\n        this.options = $.extend(true, {}, defaults, options);\n\n        this._defaults = defaults;\n        this._name = pluginName;\n\n        // Allow image preview only in browsers, that support's that\n        if (this.options.preview && !window.FileReader) {\n            this.options.preview = false;\n        }\n\n        // Extend editor's functions\n        if (this.core.getEditor()) {\n            this.core.getEditor()._serializePreImages = this.core.getEditor().serialize;\n            this.core.getEditor().serialize = this.editorSerialize;\n        }\n\n        this.init();\n    }\n\n    /**\n     * Initialization\n     *\n     * @return {void}\n     */\n\n    Images.prototype.init = function () {\n        var $images = this.$el.find('.medium-insert-images');\n\n        $images.find('figcaption').attr('contenteditable', true);\n        $images.find('figure').attr('contenteditable', false);\n\n        this.events();\n        this.backwardsCompatibility();\n        this.sorting();\n    };\n\n    /**\n     * Event listeners\n     *\n     * @return {void}\n     */\n\n    Images.prototype.events = function () {\n        $(document)\n            .on('click', $.proxy(this, 'unselectImage'))\n            .on('keydown', $.proxy(this, 'removeImage'))\n            .on('click', '.medium-insert-images-toolbar .medium-editor-action', $.proxy(this, 'toolbarAction'))\n            .on('click', '.medium-insert-images-toolbar2 .medium-editor-action', $.proxy(this, 'toolbar2Action'));\n\n        this.$el\n            .on('click', '.medium-insert-images img', $.proxy(this, 'selectImage'));\n    };\n\n    /**\n     * Replace v0.* class names with new ones\n     *\n     * @return {void}\n     */\n\n    Images.prototype.backwardsCompatibility = function () {\n        this.$el.find('.mediumInsert')\n            .removeClass('mediumInsert')\n            .addClass('medium-insert-images');\n\n        this.$el.find('.medium-insert-images.small')\n            .removeClass('small')\n            .addClass('medium-insert-images-left');\n    };\n\n    /**\n     * Get the Core object\n     *\n     * @return {object} Core object\n     */\n    Images.prototype.getCore = function () {\n        return this.core;\n    };\n\n    /**\n     * Extend editor's serialize function\n     *\n     * @return {object} Serialized data\n     */\n\n    Images.prototype.editorSerialize = function () {\n        var data = this._serializePreImages();\n\n        $.each(data, function (key) {\n            var $data = $('<div />').html(data[key].value);\n\n            $data.find('.medium-insert-images').find('figcaption, figure').removeAttr('contenteditable');\n\n            data[key].value = $data.html();\n        });\n\n        return data;\n    };\n\n    /**\n     * Add image\n     *\n     * @return {void}\n     */\n\n    Images.prototype.add = function () {\n        var that = this,\n            $file = $(this.templates['src/js/templates/images-fileupload.hbs']()),\n            fileUploadOptions = {\n                dataType: 'json',\n                add: function (e, data) {\n                    $.proxy(that, 'uploadAdd', e, data)();\n                },\n                done: function (e, data) {\n                    $.proxy(that, 'uploadDone', e, data)();\n                }\n            };\n\n        // Backwards compatibility\n        if (this.options.uploadScript) {\n            fileUploadOptions.url = this.options.uploadScript;\n            this.getCore().deprecated('uploadScript', 'fileUploadOptions', '2.0');\n        }\n        if (this.options.formData) {\n            fileUploadOptions.formData = this.options.formData;\n            this.getCore().deprecated('formData', 'fileUploadOptions', '2.0');\n        }\n\n        // Only add progress callbacks for browsers that support XHR2,\n        // and test for XHR2 per:\n        // http://stackoverflow.com/questions/6767887/\n        // what-is-the-best-way-to-check-for-xhr2-file-upload-support\n        if (new XMLHttpRequest().upload) {\n            fileUploadOptions.progress = function (e, data) {\n                $.proxy(that, 'uploadProgress', e, data)();\n            };\n\n            fileUploadOptions.progressall = function (e, data) {\n                $.proxy(that, 'uploadProgressall', e, data)();\n            };\n        }\n\n        $file.fileupload($.extend(true, {}, this.options.fileUploadOptions, fileUploadOptions));\n\n        $file.click();\n    };\n\n    /**\n     * Callback invoked as soon as files are added to the fileupload widget - via file input selection, drag & drop or add API call.\n     * https://github.com/blueimp/jQuery-File-Upload/wiki/Options#add\n     *\n     * @param {Event} e\n     * @param {object} data\n     * @return {void}\n     */\n\n    Images.prototype.uploadAdd = function (e, data) {\n        var $place = this.$el.find('.medium-insert-active'),\n            that = this,\n            uploadErrors = [],\n            file = data.files[0],\n            acceptFileTypes = this.options.fileUploadOptions.acceptFileTypes,\n            maxFileSize = this.options.fileUploadOptions.maxFileSize,\n            reader;\n\n        if (acceptFileTypes && !acceptFileTypes.test(file['type'])) {\n            uploadErrors.push(this.options.messages.acceptFileTypesError + file['name']);\n        } else if (maxFileSize && file['size'] > maxFileSize) {\n            uploadErrors.push(this.options.messages.maxFileSizeError + file['name']);\n        }\n        if (uploadErrors.length > 0) {\n            alert(uploadErrors.join(\"\\n\"));\n            return;\n        }\n\n        this.getCore().hideButtons();\n\n        // Replace paragraph with div, because figure elements can't be inside paragraph\n        if ($place.is('p')) {\n            $place.replaceWith('<div class=\"medium-insert-active\">'+ $place.html() +'</div>');\n            $place = this.$el.find('.medium-insert-active');\n            this.getCore().moveCaret($place);\n        }\n\n        $place.addClass('medium-insert-images');\n\n        if (this.options.preview === false && $place.find('progress').length === 0 && (new XMLHttpRequest().upload)) {\n            $place.append(this.templates['src/js/templates/images-progressbar.hbs']());\n        }\n\n        if (data.autoUpload || (data.autoUpload !== false && $(e.target).fileupload('option', 'autoUpload'))) {\n            data.process().done(function () {\n                // If preview is set to true, let the showImage handle the upload start\n                if (that.options.preview) {\n                    reader = new FileReader();\n\n                    reader.onload = function (e) {\n                        $.proxy(that, 'showImage', e.target.result, data)();\n                    };\n\n                    reader.readAsDataURL(data.files[0]);\n                } else {\n                    data.submit();\n                }\n            });\n        }\n    };\n\n    /**\n     * Callback for global upload progress events\n     * https://github.com/blueimp/jQuery-File-Upload/wiki/Options#progressall\n     *\n     * @param {Event} e\n     * @param {object} data\n     * @return {void}\n     */\n\n    Images.prototype.uploadProgressall = function (e, data) {\n        var progress, $progressbar;\n\n        if (this.options.preview === false) {\n            progress = parseInt(data.loaded / data.total * 100, 10);\n            $progressbar = this.$el.find('.medium-insert-active').find('progress');\n\n            $progressbar\n                .attr('value', progress)\n                .text(progress);\n\n            if (progress === 100) {\n                $progressbar.remove();\n            }\n        }\n    };\n\n    /**\n     * Callback for upload progress events.\n     * https://github.com/blueimp/jQuery-File-Upload/wiki/Options#progress\n     *\n     * @param {Event} e\n     * @param {object} data\n     * @return {void}\n     */\n\n    Images.prototype.uploadProgress = function (e, data) {\n        var progress, $progressbar;\n\n        if (this.options.preview) {\n            progress = 100 - parseInt(data.loaded / data.total * 100, 10);\n            $progressbar = data.context.find('.medium-insert-images-progress');\n\n            $progressbar.css('width', progress +'%');\n\n            if (progress === 0) {\n                $progressbar.remove();\n            }\n        }\n    };\n\n    /**\n     * Callback for successful upload requests.\n     * https://github.com/blueimp/jQuery-File-Upload/wiki/Options#done\n     *\n     * @param {Event} e\n     * @param {object} data\n     * @return {void}\n     */\n\n    Images.prototype.uploadDone = function (e, data) {\n        var $el = $.proxy(this, 'showImage', data.result.files[0].url, data)();\n\n        this.getCore().clean();\n        this.sorting();\n\n        if (this.options.uploadCompleted) {\n            this.options.uploadCompleted($el, data);\n        }\n    };\n\n    /**\n     * Add uploaded / preview image to DOM\n     *\n     * @param {string} img\n     * @returns {void}\n     */\n\n    Images.prototype.showImage = function (img, data) {\n        var $place = this.$el.find('.medium-insert-active'),\n            domImage,\n            that;\n\n        // Hide editor's placeholder\n        $place.click();\n\n        // If preview is allowed and preview image already exists,\n        // replace it with uploaded image\n        that = this;\n        if (this.options.preview && data.context) {\n            domImage = this.getDOMImage();\n            domImage.onload = function () {\n                data.context.find('img').attr('src', domImage.src);\n                that.$el.trigger('input');\n            };\n            domImage.src = img;\n        } else {\n            data.context = $(this.templates['src/js/templates/images-image.hbs']({\n                img: img,\n                progress: this.options.preview\n            })).appendTo($place);\n\n            $place.find('br').remove();\n\n            if (this.options.autoGrid && $place.find('figure').length >= this.options.autoGrid) {\n                $.each(this.options.styles, function (style, options) {\n                    var className = 'medium-insert-images-'+ style;\n\n                    $place.removeClass(className);\n\n                    if (options.removed) {\n                        options.removed($place);\n                    }\n                });\n\n                $place.addClass('medium-insert-images-grid');\n\n                if (this.options.styles.grid.added) {\n                    this.options.styles.grid.added($place);\n                }\n            }\n\n            if (this.options.preview) {\n                data.submit();\n            }\n        }\n\n        this.$el.trigger('input');\n\n        return data.context;\n    };\n\n    Images.prototype.getDOMImage = function () {\n        return new window.Image();\n    };\n\n    /**\n     * Select clicked image\n     *\n     * @param {Event} e\n     * @returns {void}\n     */\n\n    Images.prototype.selectImage = function (e) {\n        if(this.getCore().options.enabled) {\n            var $image = $(e.target),\n                that = this;\n\n            // Hide keyboard on mobile devices\n            this.$el.blur();\n\n            $image.addClass('medium-insert-image-active');\n            $image.closest('.medium-insert-images').addClass('medium-insert-active');\n\n            setTimeout(function () {\n                that.addToolbar();\n\n                if (that.options.captions) {\n                    that.getCore().addCaption($image.closest('figure'), that.options.captionPlaceholder);\n                }\n            }, 50);\n        }\n    };\n\n    /**\n     * Unselect selected image\n     *\n     * @param {Event} e\n     * @returns {void}\n     */\n\n    Images.prototype.unselectImage = function (e) {\n        var $el = $(e.target),\n            $image = this.$el.find('.medium-insert-image-active');\n\n        if ($el.is('img') && $el.hasClass('medium-insert-image-active')) {\n            $image.not($el).removeClass('medium-insert-image-active');\n            $('.medium-insert-images-toolbar, .medium-insert-images-toolbar2').remove();\n            this.getCore().removeCaptions($el);\n            return;\n        }\n\n        $image.removeClass('medium-insert-image-active');\n        $('.medium-insert-images-toolbar, .medium-insert-images-toolbar2').remove();\n\n        if ($el.is('.medium-insert-caption-placeholder')) {\n            this.getCore().removeCaptionPlaceholder($image.closest('figure'));\n        } else if ($el.is('figcaption') === false) {\n            this.getCore().removeCaptions();\n        }\n    };\n\n    /**\n     * Remove image\n     *\n     * @param {Event} e\n     * @returns {void}\n     */\n\n    Images.prototype.removeImage = function (e) {\n        var $image, $parent, $empty;\n\n        if (e.which === 8 || e.which === 46) {\n            $image = this.$el.find('.medium-insert-image-active');\n\n            if ($image.length) {\n                e.preventDefault();\n\n                this.deleteFile($image.attr('src'));\n\n                $parent = $image.closest('.medium-insert-images');\n                $image.closest('figure').remove();\n\n                $('.medium-insert-images-toolbar, .medium-insert-images-toolbar2').remove();\n\n                if ($parent.find('figure').length === 0) {\n                    $empty = $parent.next();\n                    if ($empty.is('p') === false || $empty.text() !== '') {\n                        $empty = $(this.templates['src/js/templates/core-empty-line.hbs']().trim());\n                        $parent.before($empty);\n                    }\n                    $parent.remove();\n\n                    // Hide addons\n                    this.getCore().hideAddons();\n\n                    this.getCore().moveCaret($empty);\n                }\n\n                this.$el.trigger('input');\n            }\n        }\n    };\n\n    /**\n     * Makes ajax call to deleteScript\n     *\n     * @param {String} file File name\n     * @returns {void}\n     */\n\n    Images.prototype.deleteFile = function (file) {\n        if (this.options.deleteScript) {\n            $.post(this.options.deleteScript, { file: file });\n        }\n    };\n\n    /**\n     * Adds image toolbar to editor\n     *\n     * @returns {void}\n     */\n\n    Images.prototype.addToolbar = function () {\n        var $image = this.$el.find('.medium-insert-image-active'),\n            $p = $image.closest('.medium-insert-images'),\n            active = false,\n            $toolbar, $toolbar2, top;\n\n        $('body').append(this.templates['src/js/templates/images-toolbar.hbs']({\n            styles: this.options.styles,\n            actions: this.options.actions\n        }).trim());\n\n        $toolbar = $('.medium-insert-images-toolbar');\n        $toolbar2 = $('.medium-insert-images-toolbar2');\n\n        top = $image.offset().top - $toolbar.height() - 8 - 2 - 5; // 8px - hight of an arrow under toolbar, 2px - height of an image outset, 5px - distance from an image\n        if (top < 0) {\n            top = 0;\n        }\n\n        $toolbar\n            .css({\n                top: top,\n                left: $image.offset().left + $image.width() / 2 - $toolbar.width() / 2\n            })\n            .show();\n\n        $toolbar2\n            .css({\n                top: $image.offset().top + 2, // 2px - distance from a border\n                left: $image.offset().left + $image.width() - $toolbar2.width() - 4 // 4px - distance from a border\n            })\n            .show();\n\n        $toolbar.find('button').each(function () {\n            if ($p.hasClass('medium-insert-images-'+ $(this).data('action'))) {\n                $(this).addClass('medium-editor-button-active');\n                active = true;\n            }\n        });\n\n        if (active === false) {\n            $toolbar.find('button').first().addClass('medium-editor-button-active');\n        }\n    };\n\n    /**\n     * Fires toolbar action\n     *\n     * @param {Event} e\n     * @returns {void}\n     */\n\n    Images.prototype.toolbarAction = function (e) {\n        var $button = $(e.target).is('button') ? $(e.target) : $(e.target).closest('button'),\n            $li = $button.closest('li'),\n            $ul = $li.closest('ul'),\n            $lis = $ul.find('li'),\n            $p = this.$el.find('.medium-insert-active'),\n            that = this;\n\n        $button.addClass('medium-editor-button-active');\n        $li.siblings().find('.medium-editor-button-active').removeClass('medium-editor-button-active');\n\n        $lis.find('button').each(function () {\n            var className = 'medium-insert-images-'+ $(this).data('action');\n\n            if ($(this).hasClass('medium-editor-button-active')) {\n                $p.addClass(className);\n\n                if (that.options.styles[$(this).data('action')].added) {\n                    that.options.styles[$(this).data('action')].added($p);\n                }\n            } else {\n                $p.removeClass(className);\n\n                if (that.options.styles[$(this).data('action')].removed) {\n                    that.options.styles[$(this).data('action')].removed($p);\n                }\n            }\n        });\n\n        this.getCore().hideButtons();\n\n        this.$el.trigger('input');\n    };\n\n    /**\n     * Fires toolbar2 action\n     *\n     * @param {Event} e\n     * @returns {void}\n     */\n\n    Images.prototype.toolbar2Action = function (e) {\n        var $button = $(e.target).is('button') ? $(e.target) : $(e.target).closest('button'),\n            callback = this.options.actions[$button.data('action')].clicked;\n\n        if (callback) {\n            callback(this.$el.find('.medium-insert-image-active'));\n        }\n\n        this.getCore().hideButtons();\n\n        this.$el.trigger('input');\n    };\n\n    /**\n     * Initialize sorting\n     *\n     * @returns {void}\n     */\n\n    Images.prototype.sorting = function () {\n        this.options.sorting();\n    };\n\n    /** Plugin initialization */\n\n    $.fn[pluginName + addonName] = function (options) {\n        return this.each(function () {\n            if (!$.data(this, 'plugin_' + pluginName + addonName)) {\n                $.data(this, 'plugin_' + pluginName + addonName, new Images(this, options));\n            }\n        });\n    };\n\n})(jQuery, window, document);\n","(function ($) {\n  \"use strict\";\n\n  var defaultOptions = {\n    tagClass: function(item) {\n      return 'label label-info';\n    },\n    itemValue: function(item) {\n      return item ? item.toString() : item;\n    },\n    itemText: function(item) {\n      return this.itemValue(item);\n    },\n    freeInput: true,\n    maxTags: undefined,\n    confirmKeys: [13],\n    onTagExists: function(item, $tag) {\n      $tag.hide().fadeIn();\n    }\n  };\n\n  /**\n  * Constructor function\n  */\n  function TagsInput(element, options) {\n    this.itemsArray = [];\n\n    this.$element = $(element);\n    this.$element.hide();\n\n    this.isSelect = (element.tagName === 'SELECT');\n    this.multiple = (this.isSelect && element.hasAttribute('multiple'));\n    this.objectItems = options && options.itemValue;\n    this.placeholderText = element.hasAttribute('placeholder') ? this.$element.attr('placeholder') : '';\n    this.inputSize = Math.max(1, this.placeholderText.length);\n\n    this.$container = $('<div class=\"bootstrap-tagsinput\"></div>');\n    this.$input = $('<input size=\"' + this.inputSize + '\" type=\"text\" placeholder=\"' + this.placeholderText + '\"/>').appendTo(this.$container);\n\n    this.$element.after(this.$container);\n\n    this.build(options);\n  }\n\n  TagsInput.prototype = {\n    constructor: TagsInput,\n\n    /**\n    * Adds the given item as a new tag. Pass true to dontPushVal to prevent\n    * updating the elements val()\n    */\n    add: function(item, dontPushVal) {\n      var self = this;\n\n      if (self.options.maxTags && self.itemsArray.length >= self.options.maxTags)\n        return;\n\n        // Ignore falsey values, except false\n        if (item !== false && !item)\n          return;\n\n          // Throw an error when trying to add an object while the itemValue option was not set\n          if (typeof item === \"object\" && !self.objectItems)\n            throw(\"Can't add objects when itemValue option is not set\");\n\n            // Ignore strings only containg whitespace\n            if (item.toString().match(/^\\s*$/))\n              return;\n\n              // If SELECT but not multiple, remove current tag\n              if (self.isSelect && !self.multiple && self.itemsArray.length > 0)\n                self.remove(self.itemsArray[0]);\n\n                if (typeof item === \"string\" && this.$element[0].tagName === 'INPUT') {\n                  var items = item.split(',');\n                  if (items.length > 1) {\n                    for (var i = 0; i < items.length; i++) {\n                      this.add(items[i], true);\n                    }\n\n                    if (!dontPushVal)\n                      self.pushVal();\n                      return;\n                    }\n                  }\n\n                  var itemValue = self.options.itemValue(item),\n                  itemText = self.options.itemText(item),\n                  tagClass = self.options.tagClass(item);\n\n                  // Ignore items allready added\n                  var existing = $.grep(self.itemsArray, function(item) { return self.options.itemValue(item) === itemValue; } )[0];\n                  if (existing) {\n                    // Invoke onTagExists\n                    if (self.options.onTagExists) {\n                      var $existingTag = $(\".tag\", self.$container).filter(function() { return $(this).data(\"item\") === existing; });\n                      self.options.onTagExists(item, $existingTag);\n                    }\n                    return;\n                  }\n\n                  // register item in internal array and map\n                  self.itemsArray.push(item);\n\n                  // add a tag element\n                  var $tag = $('<span class=\"tag ' + htmlEncode(tagClass) + '\">' + htmlEncode(itemText) + '<span data-role=\"remove\"></span></span>');\n                  $tag.data('item', item);\n                  self.findInputWrapper().before($tag);\n                  $tag.after(' ');\n\n                  // add <option /> if item represents a value not present in one of the <select />'s options\n                  if (self.isSelect && !$('option[value=\"' + escape(itemValue) + '\"]',self.$element)[0]) {\n                    var $option = $('<option selected>' + htmlEncode(itemText) + '</option>');\n                    $option.data('item', item);\n                    $option.attr('value', itemValue);\n                    self.$element.append($option);\n                  }\n\n                  if (!dontPushVal)\n                    self.pushVal();\n\n                    // Add class when reached maxTags\n                    if (self.options.maxTags === self.itemsArray.length)\n                      self.$container.addClass('bootstrap-tagsinput-max');\n\n                      self.$element.trigger($.Event('itemAdded', { item: item }));\n                    },\n\n                    /**\n                    * Removes the given item. Pass true to dontPushVal to prevent updating the\n                    * elements val()\n                    */\n                    remove: function(item, dontPushVal) {\n                      var self = this;\n\n                      if (self.objectItems) {\n                        if (typeof item === \"object\")\n                          item = $.grep(self.itemsArray, function(other) { return self.options.itemValue(other) ==  self.options.itemValue(item); } )[0];\n                        else\n                          item = $.grep(self.itemsArray, function(other) { return self.options.itemValue(other) ==  item; } )[0];\n                        }\n\n                        if (item) {\n                          $('.tag', self.$container).filter(function() { return $(this).data('item') === item; }).remove();\n                          $('option', self.$element).filter(function() { return $(this).data('item') === item; }).remove();\n                          self.itemsArray.splice($.inArray(item, self.itemsArray), 1);\n                        }\n\n                        if (!dontPushVal)\n                          self.pushVal();\n\n                          // Remove class when reached maxTags\n                          if (self.options.maxTags > self.itemsArray.length)\n                            self.$container.removeClass('bootstrap-tagsinput-max');\n\n                            self.$element.trigger($.Event('itemRemoved',  { item: item }));\n                          },\n\n                          /**\n                          * Removes all items\n                          */\n                          removeAll: function() {\n                            var self = this;\n\n                            $('.tag', self.$container).remove();\n                            $('option', self.$element).remove();\n\n                            while(self.itemsArray.length > 0)\n                              self.itemsArray.pop();\n\n                              self.pushVal();\n\n                              if (self.options.maxTags && !this.isEnabled())\n                                this.enable();\n                              },\n\n                              /**\n                              * Refreshes the tags so they match the text/value of their corresponding\n                              * item.\n                              */\n                              refresh: function() {\n                                var self = this;\n                                $('.tag', self.$container).each(function() {\n                                  var $tag = $(this),\n                                  item = $tag.data('item'),\n                                  itemValue = self.options.itemValue(item),\n                                  itemText = self.options.itemText(item),\n                                  tagClass = self.options.tagClass(item);\n\n                                  // Update tag's class and inner text\n                                  $tag.attr('class', null);\n                                  $tag.addClass('tag ' + htmlEncode(tagClass));\n                                  $tag.contents().filter(function() {\n                                    return this.nodeType == 3;\n                                  })[0].nodeValue = htmlEncode(itemText);\n\n                                  if (self.isSelect) {\n                                    var option = $('option', self.$element).filter(function() { return $(this).data('item') === item; });\n                                    option.attr('value', itemValue);\n                                  }\n                                });\n                              },\n\n                              /**\n                              * Returns the items added as tags\n                              */\n                              items: function() {\n                                return this.itemsArray;\n                              },\n\n                              /**\n                              * Assembly value by retrieving the value of each item, and set it on the\n                              * element.\n                              */\n                              pushVal: function() {\n                                var self = this,\n                                val = $.map(self.items(), function(item) {\n                                  return self.options.itemValue(item).toString();\n                                });\n\n                                self.$element.val(val, true).trigger('change');\n                              },\n\n                              /**\n                              * Initializes the tags input behaviour on the element\n                              */\n                              build: function(options) {\n                                var self = this;\n\n                                self.options = $.extend({}, defaultOptions, options);\n                                var typeahead = self.options.typeahead || {};\n\n                                // When itemValue is set, freeInput should always be false\n                                if (self.objectItems)\n                                  self.options.freeInput = false;\n\n                                  makeOptionItemFunction(self.options, 'itemValue');\n                                  makeOptionItemFunction(self.options, 'itemText');\n                                  makeOptionItemFunction(self.options, 'tagClass');\n\n                                  // for backwards compatibility, self.options.source is deprecated\n                                  if (self.options.source)\n                                    typeahead.source = self.options.source;\n\n                                    if (typeahead.source && $.fn.typeahead) {\n                                      makeOptionFunction(typeahead, 'source');\n\n                                      self.$input.typeahead({\n                                        source: function (query, process) {\n                                          function processItems(items) {\n                                            var texts = [];\n\n                                            for (var i = 0; i < items.length; i++) {\n                                              var text = self.options.itemText(items[i]);\n                                              map[text] = items[i];\n                                              texts.push(text);\n                                            }\n                                            process(texts);\n                                          }\n\n                                          this.map = {};\n                                          var map = this.map,\n                                          data = typeahead.source(query);\n\n                                          if ($.isFunction(data.success)) {\n                                            // support for Angular promises\n                                            data.success(processItems);\n                                          } else {\n                                            // support for functions and jquery promises\n                                            $.when(data)\n                                            .then(processItems);\n                                          }\n                                        },\n                                        updater: function (text) {\n                                          self.add(this.map[text]);\n                                        },\n                                        matcher: function (text) {\n                                          return (text.toLowerCase().indexOf(this.query.trim().toLowerCase()) !== -1);\n                                        },\n                                        sorter: function (texts) {\n                                          return texts.sort();\n                                        },\n                                        highlighter: function (text) {\n                                          var regex = new RegExp( '(' + this.query + ')', 'gi' );\n                                          return text.replace( regex, \"<strong>$1</strong>\" );\n                                        }\n                                      });\n                                    }\n\n                                    self.$container.on('click', $.proxy(function(event) {\n                                      self.$input.focus();\n                                    }, self));\n\n                                    self.$container.on('keydown', 'input', $.proxy(function(event) {\n                                      var $input = $(event.target),\n                                      $inputWrapper = self.findInputWrapper();\n\n                                      switch (event.which) {\n                                        // BACKSPACE\n                                      case 8:\n                                        if (doGetCaretPosition($input[0]) === 0) {\n                                          var prev = $inputWrapper.prev();\n                                          if (prev) {\n                                            self.remove(prev.data('item'));\n                                          }\n                                        }\n                                        break;\n\n                                        // DELETE\n                                      case 46:\n                                        if (doGetCaretPosition($input[0]) === 0) {\n                                          var next = $inputWrapper.next();\n                                          if (next) {\n                                            self.remove(next.data('item'));\n                                          }\n                                        }\n                                        break;\n\n                                        // LEFT ARROW\n                                      case 37:\n                                        // Try to move the input before the previous tag\n                                        var $prevTag = $inputWrapper.prev();\n                                        if ($input.val().length === 0 && $prevTag[0]) {\n                                          $prevTag.before($inputWrapper);\n                                          $input.focus();\n                                        }\n                                        break;\n                                        // RIGHT ARROW\n                                      case 39:\n                                        // Try to move the input after the next tag\n                                        var $nextTag = $inputWrapper.next();\n                                        if ($input.val().length === 0 && $nextTag[0]) {\n                                          $nextTag.after($inputWrapper);\n                                          $input.focus();\n                                        }\n                                        break;\n                                      default:\n                                        // When key corresponds one of the confirmKeys, add current input\n                                        // as a new tag\n                                        if (self.options.freeInput && $.inArray(event.which, self.options.confirmKeys) >= 0) {\n                                          self.add($input.val());\n                                          $input.val('');\n                                          event.preventDefault();\n                                        }\n                                      }\n\n                                      // Reset internal input's size\n                                      $input.attr('size', Math.max(this.inputSize, $input.val().length));\n                                    }, self));\n\n                                    // Remove icon clicked\n                                    self.$container.on('click', '[data-role=remove]', $.proxy(function(event) {\n                                      self.remove($(event.target).closest('.tag').data('item'));\n                                    }, self));\n\n                                    // Only add existing value as tags when using strings as tags\n                                    if (self.options.itemValue === defaultOptions.itemValue) {\n                                      if (self.$element[0].tagName === 'INPUT') {\n                                        self.add(self.$element.val());\n                                      } else {\n                                        $('option', self.$element).each(function() {\n                                          self.add($(this).attr('value'), true);\n                                        });\n                                      }\n                                    }\n                                  },\n\n                                  /**\n                                  * Removes all tagsinput behaviour and unregsiter all event handlers\n                                  */\n                                  destroy: function() {\n                                    var self = this;\n\n                                    // Unbind events\n                                    self.$container.off('keypress', 'input');\n                                    self.$container.off('click', '[role=remove]');\n\n                                    self.$container.remove();\n                                    self.$element.removeData('tagsinput');\n                                    self.$element.show();\n                                  },\n\n                                  /**\n                                  * Sets focus on the tagsinput\n                                  */\n                                  focus: function() {\n                                    this.$input.focus();\n                                  },\n\n                                  /**\n                                  * Returns the internal input element\n                                  */\n                                  input: function() {\n                                    return this.$input;\n                                  },\n\n                                  /**\n                                  * Returns the element which is wrapped around the internal input. This\n                                  * is normally the $container, but typeahead.js moves the $input element.\n                                  */\n                                  findInputWrapper: function() {\n                                    var elt = this.$input[0],\n                                    container = this.$container[0];\n                                    while(elt && elt.parentNode !== container)\n                                      elt = elt.parentNode;\n\n                                      return $(elt);\n                                    }\n                                  };\n\n                                  /**\n                                  * Register JQuery plugin\n                                  */\n                                  $.fn.tagsinput = function(arg1, arg2) {\n                                    var results = [];\n\n                                    this.each(function() {\n                                      var tagsinput = $(this).data('tagsinput');\n\n                                      // Initialize a new tags input\n                                      if (!tagsinput) {\n                                        tagsinput = new TagsInput(this, arg1);\n                                        $(this).data('tagsinput', tagsinput);\n                                        results.push(tagsinput);\n\n                                        if (this.tagName === 'SELECT') {\n                                          $('option', $(this)).attr('selected', 'selected');\n                                        }\n\n                                        // Init tags from $(this).val()\n                                        $(this).val($(this).val());\n                                      } else {\n                                        // Invoke function on existing tags input\n                                        var retVal = tagsinput[arg1](arg2);\n                                        if (retVal !== undefined)\n                                          results.push(retVal);\n                                        }\n                                      });\n\n                                      if ( typeof arg1 == 'string') {\n                                        // Return the results from the invoked function calls\n                                        return results.length > 1 ? results : results[0];\n                                      } else {\n                                        return results;\n                                      }\n                                    };\n\n                                    $.fn.tagsinput.Constructor = TagsInput;\n\n                                    /**\n                                    * Most options support both a string or number as well as a function as\n                                    * option value. This function makes sure that the option with the given\n                                    * key in the given options is wrapped in a function\n                                    */\n                                    function makeOptionItemFunction(options, key) {\n                                      if (typeof options[key] !== 'function') {\n                                        var propertyName = options[key];\n                                        options[key] = function(item) { return item[propertyName]; };\n                                      }\n                                    }\n                                    function makeOptionFunction(options, key) {\n                                      if (typeof options[key] !== 'function') {\n                                        var value = options[key];\n                                        options[key] = function() { return value; };\n                                      }\n                                    }\n                                    /**\n                                    * HtmlEncodes the given value\n                                    */\n                                    var htmlEncodeContainer = $('<div />');\n                                    function htmlEncode(value) {\n                                      if (value) {\n                                        return htmlEncodeContainer.text(value).html();\n                                      } else {\n                                        return '';\n                                      }\n                                    }\n\n                                    /**\n                                    * Returns the position of the caret in the given input field\n                                    * http://flightschool.acylt.com/devnotes/caret-position-woes/\n                                    */\n                                    function doGetCaretPosition(oField) {\n                                      var iCaretPos = 0;\n                                      if (document.selection) {\n                                        oField.focus ();\n                                        var oSel = document.selection.createRange();\n                                        oSel.moveStart ('character', -oField.value.length);\n                                        iCaretPos = oSel.text.length;\n                                      } else if (oField.selectionStart || oField.selectionStart == '0') {\n                                        iCaretPos = oField.selectionStart;\n                                      }\n                                      return (iCaretPos);\n                                    }\n\n                                    /**\n                                    * Initialize tagsinput behaviour on inputs and selects which have\n                                    * data-role=tagsinput\n                                    */\n                                    $(function() {\n                                      $(\"input[data-role=tagsinput], select[multiple][data-role=tagsinput]\").tagsinput();\n                                    });\n                                  })(window.jQuery);\n","/*!\n * typeahead.js 0.10.2\n * https://github.com/twitter/typeahead.js\n * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT\n */\n\n(function($) {\n    var _ = {\n        isMsie: function() {\n            return /(msie|trident)/i.test(navigator.userAgent) ? navigator.userAgent.match(/(msie |rv:)(\\d+(.\\d+)?)/i)[2] : false;\n        },\n        isBlankString: function(str) {\n            return !str || /^\\s*$/.test(str);\n        },\n        escapeRegExChars: function(str) {\n            return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n        },\n        isString: function(obj) {\n            return typeof obj === \"string\";\n        },\n        isNumber: function(obj) {\n            return typeof obj === \"number\";\n        },\n        isArray: $.isArray,\n        isFunction: $.isFunction,\n        isObject: $.isPlainObject,\n        isUndefined: function(obj) {\n            return typeof obj === \"undefined\";\n        },\n        bind: $.proxy,\n        each: function(collection, cb) {\n            $.each(collection, reverseArgs);\n            function reverseArgs(index, value) {\n                return cb(value, index);\n            }\n        },\n        map: $.map,\n        filter: $.grep,\n        every: function(obj, test) {\n            var result = true;\n            if (!obj) {\n                return result;\n            }\n            $.each(obj, function(key, val) {\n                if (!(result = test.call(null, val, key, obj))) {\n                    return false;\n                }\n            });\n            return !!result;\n        },\n        some: function(obj, test) {\n            var result = false;\n            if (!obj) {\n                return result;\n            }\n            $.each(obj, function(key, val) {\n                if (result = test.call(null, val, key, obj)) {\n                    return false;\n                }\n            });\n            return !!result;\n        },\n        mixin: $.extend,\n        getUniqueId: function() {\n            var counter = 0;\n            return function() {\n                return counter++;\n            };\n        }(),\n        templatify: function templatify(obj) {\n            return $.isFunction(obj) ? obj : template;\n            function template() {\n                return String(obj);\n            }\n        },\n        defer: function(fn) {\n            setTimeout(fn, 0);\n        },\n        debounce: function(func, wait, immediate) {\n            var timeout, result;\n            return function() {\n                var context = this, args = arguments, later, callNow;\n                later = function() {\n                    timeout = null;\n                    if (!immediate) {\n                        result = func.apply(context, args);\n                    }\n                };\n                callNow = immediate && !timeout;\n                clearTimeout(timeout);\n                timeout = setTimeout(later, wait);\n                if (callNow) {\n                    result = func.apply(context, args);\n                }\n                return result;\n            };\n        },\n        throttle: function(func, wait) {\n            var context, args, timeout, result, previous, later;\n            previous = 0;\n            later = function() {\n                previous = new Date();\n                timeout = null;\n                result = func.apply(context, args);\n            };\n            return function() {\n                var now = new Date(), remaining = wait - (now - previous);\n                context = this;\n                args = arguments;\n                if (remaining <= 0) {\n                    clearTimeout(timeout);\n                    timeout = null;\n                    previous = now;\n                    result = func.apply(context, args);\n                } else if (!timeout) {\n                    timeout = setTimeout(later, remaining);\n                }\n                return result;\n            };\n        },\n        noop: function() {}\n    };\n    var html = {\n        wrapper: '<span class=\"twitter-typeahead\"></span>',\n        dropdown: '<span class=\"tt-dropdown-menu\"></span>',\n        dataset: '<div class=\"tt-dataset-%CLASS%\"></div>',\n        suggestions: '<span class=\"tt-suggestions\"></span>',\n        suggestion: '<div class=\"tt-suggestion\"></div>'\n    };\n    var css = {\n        wrapper: {\n            position: \"relative\",\n            display: \"inline-block\"\n        },\n        hint: {\n            position: \"absolute\",\n            top: \"0\",\n            left: \"0\",\n            borderColor: \"transparent\",\n            boxShadow: \"none\"\n        },\n        input: {\n            position: \"relative\",\n            verticalAlign: \"top\",\n            backgroundColor: \"transparent\"\n        },\n        inputWithNoHint: {\n            position: \"relative\",\n            verticalAlign: \"top\"\n        },\n        dropdown: {\n            position: \"absolute\",\n            top: \"100%\",\n            left: \"0\",\n            zIndex: \"100\",\n            display: \"none\"\n        },\n        suggestions: {\n            display: \"block\"\n        },\n        suggestion: {\n            whiteSpace: \"nowrap\",\n            cursor: \"pointer\"\n        },\n        suggestionChild: {\n            whiteSpace: \"normal\"\n        },\n        ltr: {\n            left: \"0\",\n            right: \"auto\"\n        },\n        rtl: {\n            left: \"auto\",\n            right: \" 0\"\n        }\n    };\n    if (_.isMsie()) {\n        _.mixin(css.input, {\n            backgroundImage: \"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)\"\n        });\n    }\n    if (_.isMsie() && _.isMsie() <= 7) {\n        _.mixin(css.input, {\n            marginTop: \"-1px\"\n        });\n    }\n    var EventBus = function() {\n        var namespace = \"typeahead:\";\n        function EventBus(o) {\n            if (!o || !o.el) {\n                $.error(\"EventBus initialized without el\");\n            }\n            this.$el = $(o.el);\n        }\n        _.mixin(EventBus.prototype, {\n            trigger: function(type) {\n                var args = [].slice.call(arguments, 1);\n                this.$el.trigger(namespace + type, args);\n            }\n        });\n        return EventBus;\n    }();\n    var EventEmitter = function() {\n        var splitter = /\\s+/, nextTick = getNextTick();\n        return {\n            onSync: onSync,\n            onAsync: onAsync,\n            off: off,\n            trigger: trigger\n        };\n        function on(method, types, cb, context) {\n            var type;\n            if (!cb) {\n                return this;\n            }\n            types = types.split(splitter);\n            cb = context ? bindContext(cb, context) : cb;\n            this._callbacks = this._callbacks || {};\n            while (type = types.shift()) {\n                this._callbacks[type] = this._callbacks[type] || {\n                    sync: [],\n                    async: []\n                };\n                this._callbacks[type][method].push(cb);\n            }\n            return this;\n        }\n        function onAsync(types, cb, context) {\n            return on.call(this, \"async\", types, cb, context);\n        }\n        function onSync(types, cb, context) {\n            return on.call(this, \"sync\", types, cb, context);\n        }\n        function off(types) {\n            var type;\n            if (!this._callbacks) {\n                return this;\n            }\n            types = types.split(splitter);\n            while (type = types.shift()) {\n                delete this._callbacks[type];\n            }\n            return this;\n        }\n        function trigger(types) {\n            var type, callbacks, args, syncFlush, asyncFlush;\n            if (!this._callbacks) {\n                return this;\n            }\n            types = types.split(splitter);\n            args = [].slice.call(arguments, 1);\n            while ((type = types.shift()) && (callbacks = this._callbacks[type])) {\n                syncFlush = getFlush(callbacks.sync, this, [ type ].concat(args));\n                asyncFlush = getFlush(callbacks.async, this, [ type ].concat(args));\n                syncFlush() && nextTick(asyncFlush);\n            }\n            return this;\n        }\n        function getFlush(callbacks, context, args) {\n            return flush;\n            function flush() {\n                var cancelled;\n                for (var i = 0; !cancelled && i < callbacks.length; i += 1) {\n                    cancelled = callbacks[i].apply(context, args) === false;\n                }\n                return !cancelled;\n            }\n        }\n        function getNextTick() {\n            var nextTickFn;\n            if (window.setImmediate) {\n                nextTickFn = function nextTickSetImmediate(fn) {\n                    setImmediate(function() {\n                        fn();\n                    });\n                };\n            } else {\n                nextTickFn = function nextTickSetTimeout(fn) {\n                    setTimeout(function() {\n                        fn();\n                    }, 0);\n                };\n            }\n            return nextTickFn;\n        }\n        function bindContext(fn, context) {\n            return fn.bind ? fn.bind(context) : function() {\n                fn.apply(context, [].slice.call(arguments, 0));\n            };\n        }\n    }();\n    var highlight = function(doc) {\n        var defaults = {\n            node: null,\n            pattern: null,\n            tagName: \"strong\",\n            className: null,\n            wordsOnly: false,\n            caseSensitive: false\n        };\n        return function hightlight(o) {\n            var regex;\n            o = _.mixin({}, defaults, o);\n            if (!o.node || !o.pattern) {\n                return;\n            }\n            o.pattern = _.isArray(o.pattern) ? o.pattern : [ o.pattern ];\n            regex = getRegex(o.pattern, o.caseSensitive, o.wordsOnly);\n            traverse(o.node, hightlightTextNode);\n            function hightlightTextNode(textNode) {\n                var match, patternNode;\n                if (match = regex.exec(textNode.data)) {\n                    wrapperNode = doc.createElement(o.tagName);\n                    o.className && (wrapperNode.className = o.className);\n                    patternNode = textNode.splitText(match.index);\n                    patternNode.splitText(match[0].length);\n                    wrapperNode.appendChild(patternNode.cloneNode(true));\n                    textNode.parentNode.replaceChild(wrapperNode, patternNode);\n                }\n                return !!match;\n            }\n            function traverse(el, hightlightTextNode) {\n                var childNode, TEXT_NODE_TYPE = 3;\n                for (var i = 0; i < el.childNodes.length; i++) {\n                    childNode = el.childNodes[i];\n                    if (childNode.nodeType === TEXT_NODE_TYPE) {\n                        i += hightlightTextNode(childNode) ? 1 : 0;\n                    } else {\n                        traverse(childNode, hightlightTextNode);\n                    }\n                }\n            }\n        };\n        function getRegex(patterns, caseSensitive, wordsOnly) {\n            var escapedPatterns = [], regexStr;\n            for (var i = 0; i < patterns.length; i++) {\n                escapedPatterns.push(_.escapeRegExChars(patterns[i]));\n            }\n            regexStr = wordsOnly ? \"\\\\b(\" + escapedPatterns.join(\"|\") + \")\\\\b\" : \"(\" + escapedPatterns.join(\"|\") + \")\";\n            return caseSensitive ? new RegExp(regexStr) : new RegExp(regexStr, \"i\");\n        }\n    }(window.document);\n    var Input = function() {\n        var specialKeyCodeMap;\n        specialKeyCodeMap = {\n            9: \"tab\",\n            27: \"esc\",\n            37: \"left\",\n            39: \"right\",\n            13: \"enter\",\n            38: \"up\",\n            40: \"down\"\n        };\n        function Input(o) {\n            var that = this, onBlur, onFocus, onKeydown, onInput;\n            o = o || {};\n            if (!o.input) {\n                $.error(\"input is missing\");\n            }\n            onBlur = _.bind(this._onBlur, this);\n            onFocus = _.bind(this._onFocus, this);\n            onKeydown = _.bind(this._onKeydown, this);\n            onInput = _.bind(this._onInput, this);\n            this.$hint = $(o.hint);\n            this.$input = $(o.input).on(\"blur.tt\", onBlur).on(\"focus.tt\", onFocus).on(\"keydown.tt\", onKeydown);\n            if (this.$hint.length === 0) {\n                this.setHint = this.getHint = this.clearHint = this.clearHintIfInvalid = _.noop;\n            }\n            if (!_.isMsie()) {\n                this.$input.on(\"input.tt\", onInput);\n            } else {\n                this.$input.on(\"keydown.tt keypress.tt cut.tt paste.tt\", function($e) {\n                    if (specialKeyCodeMap[$e.which || $e.keyCode]) {\n                        return;\n                    }\n                    _.defer(_.bind(that._onInput, that, $e));\n                });\n            }\n            this.query = this.$input.val();\n            this.$overflowHelper = buildOverflowHelper(this.$input);\n        }\n        Input.normalizeQuery = function(str) {\n            return (str || \"\").replace(/^\\s*/g, \"\").replace(/\\s{2,}/g, \" \");\n        };\n        _.mixin(Input.prototype, EventEmitter, {\n            _onBlur: function onBlur() {\n                this.resetInputValue();\n                this.trigger(\"blurred\");\n            },\n            _onFocus: function onFocus() {\n                this.trigger(\"focused\");\n            },\n            _onKeydown: function onKeydown($e) {\n                var keyName = specialKeyCodeMap[$e.which || $e.keyCode];\n                this._managePreventDefault(keyName, $e);\n                if (keyName && this._shouldTrigger(keyName, $e)) {\n                    this.trigger(keyName + \"Keyed\", $e);\n                }\n            },\n            _onInput: function onInput() {\n                this._checkInputValue();\n            },\n            _managePreventDefault: function managePreventDefault(keyName, $e) {\n                var preventDefault, hintValue, inputValue;\n                switch (keyName) {\n                  case \"tab\":\n                    hintValue = this.getHint();\n                    inputValue = this.getInputValue();\n                    preventDefault = hintValue && hintValue !== inputValue && !withModifier($e);\n                    break;\n\n                  case \"up\":\n                  case \"down\":\n                    preventDefault = !withModifier($e);\n                    break;\n\n                  default:\n                    preventDefault = false;\n                }\n                preventDefault && $e.preventDefault();\n            },\n            _shouldTrigger: function shouldTrigger(keyName, $e) {\n                var trigger;\n                switch (keyName) {\n                  case \"tab\":\n                    trigger = !withModifier($e);\n                    break;\n\n                  default:\n                    trigger = true;\n                }\n                return trigger;\n            },\n            _checkInputValue: function checkInputValue() {\n                var inputValue, areEquivalent, hasDifferentWhitespace;\n                inputValue = this.getInputValue();\n                areEquivalent = areQueriesEquivalent(inputValue, this.query);\n                hasDifferentWhitespace = areEquivalent ? this.query.length !== inputValue.length : false;\n                if (!areEquivalent) {\n                    this.trigger(\"queryChanged\", this.query = inputValue);\n                } else if (hasDifferentWhitespace) {\n                    this.trigger(\"whitespaceChanged\", this.query);\n                }\n            },\n            focus: function focus() {\n                this.$input.focus();\n            },\n            blur: function blur() {\n                this.$input.blur();\n            },\n            getQuery: function getQuery() {\n                return this.query;\n            },\n            setQuery: function setQuery(query) {\n                this.query = query;\n            },\n            getInputValue: function getInputValue() {\n                return this.$input.val();\n            },\n            setInputValue: function setInputValue(value, silent) {\n                this.$input.val(value);\n                silent ? this.clearHint() : this._checkInputValue();\n            },\n            resetInputValue: function resetInputValue() {\n                this.setInputValue(this.query, true);\n            },\n            getHint: function getHint() {\n                return this.$hint.val();\n            },\n            setHint: function setHint(value) {\n                this.$hint.val(value);\n            },\n            clearHint: function clearHint() {\n                this.setHint(\"\");\n            },\n            clearHintIfInvalid: function clearHintIfInvalid() {\n                var val, hint, valIsPrefixOfHint, isValid;\n                val = this.getInputValue();\n                hint = this.getHint();\n                valIsPrefixOfHint = val !== hint && hint.indexOf(val) === 0;\n                isValid = val !== \"\" && valIsPrefixOfHint && !this.hasOverflow();\n                !isValid && this.clearHint();\n            },\n            getLanguageDirection: function getLanguageDirection() {\n                return (this.$input.css(\"direction\") || \"ltr\").toLowerCase();\n            },\n            hasOverflow: function hasOverflow() {\n                var constraint = this.$input.width() - 2;\n                this.$overflowHelper.text(this.getInputValue());\n                return this.$overflowHelper.width() >= constraint;\n            },\n            isCursorAtEnd: function() {\n                var valueLength, selectionStart, range;\n                valueLength = this.$input.val().length;\n                selectionStart = this.$input[0].selectionStart;\n                if (_.isNumber(selectionStart)) {\n                    return selectionStart === valueLength;\n                } else if (document.selection) {\n                    range = document.selection.createRange();\n                    range.moveStart(\"character\", -valueLength);\n                    return valueLength === range.text.length;\n                }\n                return true;\n            },\n            destroy: function destroy() {\n                this.$hint.off(\".tt\");\n                this.$input.off(\".tt\");\n                this.$hint = this.$input = this.$overflowHelper = null;\n            }\n        });\n        return Input;\n        function buildOverflowHelper($input) {\n            return $('<pre aria-hidden=\"true\"></pre>').css({\n                position: \"absolute\",\n                visibility: \"hidden\",\n                whiteSpace: \"pre\",\n                fontFamily: $input.css(\"font-family\"),\n                fontSize: $input.css(\"font-size\"),\n                fontStyle: $input.css(\"font-style\"),\n                fontVariant: $input.css(\"font-variant\"),\n                fontWeight: $input.css(\"font-weight\"),\n                wordSpacing: $input.css(\"word-spacing\"),\n                letterSpacing: $input.css(\"letter-spacing\"),\n                textIndent: $input.css(\"text-indent\"),\n                textRendering: $input.css(\"text-rendering\"),\n                textTransform: $input.css(\"text-transform\")\n            }).insertAfter($input);\n        }\n        function areQueriesEquivalent(a, b) {\n            return Input.normalizeQuery(a) === Input.normalizeQuery(b);\n        }\n        function withModifier($e) {\n            return $e.altKey || $e.ctrlKey || $e.metaKey || $e.shiftKey;\n        }\n    }();\n    var Dataset = function() {\n        var datasetKey = \"ttDataset\", valueKey = \"ttValue\", datumKey = \"ttDatum\";\n        function Dataset(o) {\n            o = o || {};\n            o.templates = o.templates || {};\n            if (!o.source) {\n                $.error(\"missing source\");\n            }\n            if (o.name && !isValidName(o.name)) {\n                $.error(\"invalid dataset name: \" + o.name);\n            }\n            this.query = null;\n            this.highlight = !!o.highlight;\n            this.name = o.name || _.getUniqueId();\n            this.source = o.source;\n            this.displayFn = getDisplayFn(o.display || o.displayKey);\n            this.templates = getTemplates(o.templates, this.displayFn);\n            this.$el = $(html.dataset.replace(\"%CLASS%\", this.name));\n        }\n        Dataset.extractDatasetName = function extractDatasetName(el) {\n            return $(el).data(datasetKey);\n        };\n        Dataset.extractValue = function extractDatum(el) {\n            return $(el).data(valueKey);\n        };\n        Dataset.extractDatum = function extractDatum(el) {\n            return $(el).data(datumKey);\n        };\n        _.mixin(Dataset.prototype, EventEmitter, {\n            _render: function render(query, suggestions) {\n                if (!this.$el) {\n                    return;\n                }\n                var that = this, hasSuggestions;\n                this.$el.empty();\n                hasSuggestions = suggestions && suggestions.length;\n                if (!hasSuggestions && this.templates.empty) {\n                    this.$el.html(getEmptyHtml()).prepend(that.templates.header ? getHeaderHtml() : null).append(that.templates.footer ? getFooterHtml() : null);\n                } else if (hasSuggestions) {\n                    this.$el.html(getSuggestionsHtml()).prepend(that.templates.header ? getHeaderHtml() : null).append(that.templates.footer ? getFooterHtml() : null);\n                }\n                this.trigger(\"rendered\");\n                function getEmptyHtml() {\n                    return that.templates.empty({\n                        query: query,\n                        isEmpty: true\n                    });\n                }\n                function getSuggestionsHtml() {\n                    var $suggestions, nodes;\n                    $suggestions = $(html.suggestions).css(css.suggestions);\n                    nodes = _.map(suggestions, getSuggestionNode);\n                    $suggestions.append.apply($suggestions, nodes);\n                    that.highlight && highlight({\n                        node: $suggestions[0],\n                        pattern: query\n                    });\n                    return $suggestions;\n                    function getSuggestionNode(suggestion) {\n                        var $el;\n                        $el = $(html.suggestion).append(that.templates.suggestion(suggestion)).data(datasetKey, that.name).data(valueKey, that.displayFn(suggestion)).data(datumKey, suggestion);\n                        $el.children().each(function() {\n                            $(this).css(css.suggestionChild);\n                        });\n                        return $el;\n                    }\n                }\n                function getHeaderHtml() {\n                    return that.templates.header({\n                        query: query,\n                        isEmpty: !hasSuggestions\n                    });\n                }\n                function getFooterHtml() {\n                    return that.templates.footer({\n                        query: query,\n                        isEmpty: !hasSuggestions\n                    });\n                }\n            },\n            getRoot: function getRoot() {\n                return this.$el;\n            },\n            update: function update(query) {\n                var that = this;\n                this.query = query;\n                this.canceled = false;\n                this.source(query, render);\n                function render(suggestions) {\n                    if (!that.canceled && query === that.query) {\n                        that._render(query, suggestions);\n                    }\n                }\n            },\n            cancel: function cancel() {\n                this.canceled = true;\n            },\n            clear: function clear() {\n                this.cancel();\n                this.$el.empty();\n                this.trigger(\"rendered\");\n            },\n            isEmpty: function isEmpty() {\n                return this.$el.is(\":empty\");\n            },\n            destroy: function destroy() {\n                this.$el = null;\n            }\n        });\n        return Dataset;\n        function getDisplayFn(display) {\n            display = display || \"value\";\n            return _.isFunction(display) ? display : displayFn;\n            function displayFn(obj) {\n                return obj[display];\n            }\n        }\n        function getTemplates(templates, displayFn) {\n            return {\n                empty: templates.empty && _.templatify(templates.empty),\n                header: templates.header && _.templatify(templates.header),\n                footer: templates.footer && _.templatify(templates.footer),\n                suggestion: templates.suggestion || suggestionTemplate\n            };\n            function suggestionTemplate(context) {\n                return \"<p>\" + displayFn(context) + \"</p>\";\n            }\n        }\n        function isValidName(str) {\n            return /^[_a-zA-Z0-9-]+$/.test(str);\n        }\n    }();\n    var Dropdown = function() {\n        function Dropdown(o) {\n            var that = this, onSuggestionClick, onSuggestionMouseEnter, onSuggestionMouseLeave;\n            o = o || {};\n            if (!o.menu) {\n                $.error(\"menu is required\");\n            }\n            this.isOpen = false;\n            this.isEmpty = true;\n            this.datasets = _.map(o.datasets, initializeDataset);\n            onSuggestionClick = _.bind(this._onSuggestionClick, this);\n            onSuggestionMouseEnter = _.bind(this._onSuggestionMouseEnter, this);\n            onSuggestionMouseLeave = _.bind(this._onSuggestionMouseLeave, this);\n            this.$menu = $(o.menu).on(\"click.tt\", \".tt-suggestion\", onSuggestionClick).on(\"mouseenter.tt\", \".tt-suggestion\", onSuggestionMouseEnter).on(\"mouseleave.tt\", \".tt-suggestion\", onSuggestionMouseLeave);\n            _.each(this.datasets, function(dataset) {\n                that.$menu.append(dataset.getRoot());\n                dataset.onSync(\"rendered\", that._onRendered, that);\n            });\n        }\n        _.mixin(Dropdown.prototype, EventEmitter, {\n            _onSuggestionClick: function onSuggestionClick($e) {\n                this.trigger(\"suggestionClicked\", $($e.currentTarget));\n            },\n            _onSuggestionMouseEnter: function onSuggestionMouseEnter($e) {\n                this._removeCursor();\n                this._setCursor($($e.currentTarget), true);\n            },\n            _onSuggestionMouseLeave: function onSuggestionMouseLeave() {\n                this._removeCursor();\n            },\n            _onRendered: function onRendered() {\n                this.isEmpty = _.every(this.datasets, isDatasetEmpty);\n                this.isEmpty ? this._hide() : this.isOpen && this._show();\n                this.trigger(\"datasetRendered\");\n                function isDatasetEmpty(dataset) {\n                    return dataset.isEmpty();\n                }\n            },\n            _hide: function() {\n                this.$menu.hide();\n            },\n            _show: function() {\n                this.$menu.css(\"display\", \"block\");\n            },\n            _getSuggestions: function getSuggestions() {\n                return this.$menu.find(\".tt-suggestion\");\n            },\n            _getCursor: function getCursor() {\n                return this.$menu.find(\".tt-cursor\").first();\n            },\n            _setCursor: function setCursor($el, silent) {\n                $el.first().addClass(\"tt-cursor\");\n                !silent && this.trigger(\"cursorMoved\");\n            },\n            _removeCursor: function removeCursor() {\n                this._getCursor().removeClass(\"tt-cursor\");\n            },\n            _moveCursor: function moveCursor(increment) {\n                var $suggestions, $oldCursor, newCursorIndex, $newCursor;\n                if (!this.isOpen) {\n                    return;\n                }\n                $oldCursor = this._getCursor();\n                $suggestions = this._getSuggestions();\n                this._removeCursor();\n                newCursorIndex = $suggestions.index($oldCursor) + increment;\n                newCursorIndex = (newCursorIndex + 1) % ($suggestions.length + 1) - 1;\n                if (newCursorIndex === -1) {\n                    this.trigger(\"cursorRemoved\");\n                    return;\n                } else if (newCursorIndex < -1) {\n                    newCursorIndex = $suggestions.length - 1;\n                }\n                this._setCursor($newCursor = $suggestions.eq(newCursorIndex));\n                this._ensureVisible($newCursor);\n            },\n            _ensureVisible: function ensureVisible($el) {\n                var elTop, elBottom, menuScrollTop, menuHeight;\n                elTop = $el.position().top;\n                elBottom = elTop + $el.outerHeight(true);\n                menuScrollTop = this.$menu.scrollTop();\n                menuHeight = this.$menu.height() + parseInt(this.$menu.css(\"paddingTop\"), 10) + parseInt(this.$menu.css(\"paddingBottom\"), 10);\n                if (elTop < 0) {\n                    this.$menu.scrollTop(menuScrollTop + elTop);\n                } else if (menuHeight < elBottom) {\n                    this.$menu.scrollTop(menuScrollTop + (elBottom - menuHeight));\n                }\n            },\n            close: function close() {\n                if (this.isOpen) {\n                    this.isOpen = false;\n                    this._removeCursor();\n                    this._hide();\n                    this.trigger(\"closed\");\n                }\n            },\n            open: function open() {\n                if (!this.isOpen) {\n                    this.isOpen = true;\n                    !this.isEmpty && this._show();\n                    this.trigger(\"opened\");\n                }\n            },\n            setLanguageDirection: function setLanguageDirection(dir) {\n                this.$menu.css(dir === \"ltr\" ? css.ltr : css.rtl);\n            },\n            moveCursorUp: function moveCursorUp() {\n                this._moveCursor(-1);\n            },\n            moveCursorDown: function moveCursorDown() {\n                this._moveCursor(+1);\n            },\n            getDatumForSuggestion: function getDatumForSuggestion($el) {\n                var datum = null;\n                if ($el.length) {\n                    datum = {\n                        raw: Dataset.extractDatum($el),\n                        value: Dataset.extractValue($el),\n                        datasetName: Dataset.extractDatasetName($el)\n                    };\n                }\n                return datum;\n            },\n            getDatumForCursor: function getDatumForCursor() {\n                return this.getDatumForSuggestion(this._getCursor().first());\n            },\n            getDatumForTopSuggestion: function getDatumForTopSuggestion() {\n                return this.getDatumForSuggestion(this._getSuggestions().first());\n            },\n            update: function update(query) {\n                _.each(this.datasets, updateDataset);\n                function updateDataset(dataset) {\n                    dataset.update(query);\n                }\n            },\n            empty: function empty() {\n                _.each(this.datasets, clearDataset);\n                this.isEmpty = true;\n                function clearDataset(dataset) {\n                    dataset.clear();\n                }\n            },\n            isVisible: function isVisible() {\n                return this.isOpen && !this.isEmpty;\n            },\n            destroy: function destroy() {\n                this.$menu.off(\".tt\");\n                this.$menu = null;\n                _.each(this.datasets, destroyDataset);\n                function destroyDataset(dataset) {\n                    dataset.destroy();\n                }\n            }\n        });\n        return Dropdown;\n        function initializeDataset(oDataset) {\n            return new Dataset(oDataset);\n        }\n    }();\n    var Typeahead = function() {\n        var attrsKey = \"ttAttrs\";\n        function Typeahead(o) {\n            var $menu, $input, $hint;\n            o = o || {};\n            if (!o.input) {\n                $.error(\"missing input\");\n            }\n            this.isActivated = false;\n            this.autoselect = !!o.autoselect;\n            this.minLength = _.isNumber(o.minLength) ? o.minLength : 1;\n            this.$node = buildDomStructure(o.input, o.withHint);\n            $menu = this.$node.find(\".tt-dropdown-menu\");\n            $input = this.$node.find(\".tt-input\");\n            $hint = this.$node.find(\".tt-hint\");\n            $input.on(\"blur.tt\", function($e) {\n                var active, isActive, hasActive;\n                active = document.activeElement;\n                isActive = $menu.is(active);\n                hasActive = $menu.has(active).length > 0;\n                if (_.isMsie() && (isActive || hasActive)) {\n                    $e.preventDefault();\n                    $e.stopImmediatePropagation();\n                    _.defer(function() {\n                        $input.focus();\n                    });\n                }\n            });\n            $menu.on(\"mousedown.tt\", function($e) {\n                $e.preventDefault();\n            });\n            this.eventBus = o.eventBus || new EventBus({\n                el: $input\n            });\n            this.dropdown = new Dropdown({\n                menu: $menu,\n                datasets: o.datasets\n            }).onSync(\"suggestionClicked\", this._onSuggestionClicked, this).onSync(\"cursorMoved\", this._onCursorMoved, this).onSync(\"cursorRemoved\", this._onCursorRemoved, this).onSync(\"opened\", this._onOpened, this).onSync(\"closed\", this._onClosed, this).onAsync(\"datasetRendered\", this._onDatasetRendered, this);\n            this.input = new Input({\n                input: $input,\n                hint: $hint\n            }).onSync(\"focused\", this._onFocused, this).onSync(\"blurred\", this._onBlurred, this).onSync(\"enterKeyed\", this._onEnterKeyed, this).onSync(\"tabKeyed\", this._onTabKeyed, this).onSync(\"escKeyed\", this._onEscKeyed, this).onSync(\"upKeyed\", this._onUpKeyed, this).onSync(\"downKeyed\", this._onDownKeyed, this).onSync(\"leftKeyed\", this._onLeftKeyed, this).onSync(\"rightKeyed\", this._onRightKeyed, this).onSync(\"queryChanged\", this._onQueryChanged, this).onSync(\"whitespaceChanged\", this._onWhitespaceChanged, this);\n            this._setLanguageDirection();\n        }\n        _.mixin(Typeahead.prototype, {\n            _onSuggestionClicked: function onSuggestionClicked(type, $el) {\n                var datum;\n                if (datum = this.dropdown.getDatumForSuggestion($el)) {\n                    this._select(datum);\n                }\n            },\n            _onCursorMoved: function onCursorMoved() {\n                var datum = this.dropdown.getDatumForCursor();\n                this.input.setInputValue(datum.value, true);\n                this.eventBus.trigger(\"cursorchanged\", datum.raw, datum.datasetName);\n            },\n            _onCursorRemoved: function onCursorRemoved() {\n                this.input.resetInputValue();\n                this._updateHint();\n            },\n            _onDatasetRendered: function onDatasetRendered() {\n                this._updateHint();\n            },\n            _onOpened: function onOpened() {\n                this._updateHint();\n                this.eventBus.trigger(\"opened\");\n            },\n            _onClosed: function onClosed() {\n                this.input.clearHint();\n                this.eventBus.trigger(\"closed\");\n            },\n            _onFocused: function onFocused() {\n                this.isActivated = true;\n                this.dropdown.open();\n            },\n            _onBlurred: function onBlurred() {\n                this.isActivated = false;\n                this.dropdown.empty();\n                this.dropdown.close();\n            },\n            _onEnterKeyed: function onEnterKeyed(type, $e) {\n                var cursorDatum, topSuggestionDatum;\n                cursorDatum = this.dropdown.getDatumForCursor();\n                topSuggestionDatum = this.dropdown.getDatumForTopSuggestion();\n                if (cursorDatum) {\n                    this._select(cursorDatum);\n                    $e.preventDefault();\n                } else if (this.autoselect && topSuggestionDatum) {\n                    this._select(topSuggestionDatum);\n                    $e.preventDefault();\n                }\n            },\n            _onTabKeyed: function onTabKeyed(type, $e) {\n                var datum;\n                if (datum = this.dropdown.getDatumForCursor()) {\n                    this._select(datum);\n                    $e.preventDefault();\n                } else {\n                    this._autocomplete(true);\n                }\n            },\n            _onEscKeyed: function onEscKeyed() {\n                this.dropdown.close();\n                this.input.resetInputValue();\n            },\n            _onUpKeyed: function onUpKeyed() {\n                var query = this.input.getQuery();\n                this.dropdown.isEmpty && query.length >= this.minLength ? this.dropdown.update(query) : this.dropdown.moveCursorUp();\n                this.dropdown.open();\n            },\n            _onDownKeyed: function onDownKeyed() {\n                var query = this.input.getQuery();\n                this.dropdown.isEmpty && query.length >= this.minLength ? this.dropdown.update(query) : this.dropdown.moveCursorDown();\n                this.dropdown.open();\n            },\n            _onLeftKeyed: function onLeftKeyed() {\n                this.dir === \"rtl\" && this._autocomplete();\n            },\n            _onRightKeyed: function onRightKeyed() {\n                this.dir === \"ltr\" && this._autocomplete();\n            },\n            _onQueryChanged: function onQueryChanged(e, query) {\n                this.input.clearHintIfInvalid();\n                query.length >= this.minLength ? this.dropdown.update(query) : this.dropdown.empty();\n                this.dropdown.open();\n                this._setLanguageDirection();\n            },\n            _onWhitespaceChanged: function onWhitespaceChanged() {\n                this._updateHint();\n                this.dropdown.open();\n            },\n            _setLanguageDirection: function setLanguageDirection() {\n                var dir;\n                if (this.dir !== (dir = this.input.getLanguageDirection())) {\n                    this.dir = dir;\n                    this.$node.css(\"direction\", dir);\n                    this.dropdown.setLanguageDirection(dir);\n                }\n            },\n            _updateHint: function updateHint() {\n                var datum, val, query, escapedQuery, frontMatchRegEx, match;\n                datum = this.dropdown.getDatumForTopSuggestion();\n                if (datum && this.dropdown.isVisible() && !this.input.hasOverflow()) {\n                    val = this.input.getInputValue();\n                    query = Input.normalizeQuery(val);\n                    escapedQuery = _.escapeRegExChars(query);\n                    frontMatchRegEx = new RegExp(\"^(?:\" + escapedQuery + \")(.+$)\", \"i\");\n                    match = frontMatchRegEx.exec(datum.value);\n                    match ? this.input.setHint(val + match[1]) : this.input.clearHint();\n                } else {\n                    this.input.clearHint();\n                }\n            },\n            _autocomplete: function autocomplete(laxCursor) {\n                var hint, query, isCursorAtEnd, datum;\n                hint = this.input.getHint();\n                query = this.input.getQuery();\n                isCursorAtEnd = laxCursor || this.input.isCursorAtEnd();\n                if (hint && query !== hint && isCursorAtEnd) {\n                    datum = this.dropdown.getDatumForTopSuggestion();\n                    datum && this.input.setInputValue(datum.value);\n                    this.eventBus.trigger(\"autocompleted\", datum.raw, datum.datasetName);\n                }\n            },\n            _select: function select(datum) {\n                this.input.setQuery(datum.value);\n                this.input.setInputValue(datum.value, true);\n                this._setLanguageDirection();\n                this.eventBus.trigger(\"selected\", datum.raw, datum.datasetName);\n                this.dropdown.close();\n                _.defer(_.bind(this.dropdown.empty, this.dropdown));\n            },\n            open: function open() {\n                this.dropdown.open();\n            },\n            close: function close() {\n                this.dropdown.close();\n            },\n            setVal: function setVal(val) {\n                if (this.isActivated) {\n                    this.input.setInputValue(val);\n                } else {\n                    this.input.setQuery(val);\n                    this.input.setInputValue(val, true);\n                }\n                this._setLanguageDirection();\n            },\n            getVal: function getVal() {\n                return this.input.getQuery();\n            },\n            destroy: function destroy() {\n                this.input.destroy();\n                this.dropdown.destroy();\n                destroyDomStructure(this.$node);\n                this.$node = null;\n            }\n        });\n        return Typeahead;\n        function buildDomStructure(input, withHint) {\n            var $input, $wrapper, $dropdown, $hint;\n            $input = $(input);\n            $wrapper = $(html.wrapper).css(css.wrapper);\n            $dropdown = $(html.dropdown).css(css.dropdown);\n            $hint = $input.clone().css(css.hint).css(getBackgroundStyles($input));\n            $hint.val(\"\").removeData().addClass(\"tt-hint\").removeAttr(\"id name placeholder\").prop(\"disabled\", true).attr({\n                autocomplete: \"off\",\n                spellcheck: \"false\"\n            });\n            $input.data(attrsKey, {\n                dir: $input.attr(\"dir\"),\n                autocomplete: $input.attr(\"autocomplete\"),\n                spellcheck: $input.attr(\"spellcheck\"),\n                style: $input.attr(\"style\")\n            });\n            $input.addClass(\"tt-input\").attr({\n                autocomplete: \"off\",\n                spellcheck: false\n            }).css(withHint ? css.input : css.inputWithNoHint);\n            try {\n                !$input.attr(\"dir\") && $input.attr(\"dir\", \"auto\");\n            } catch (e) {}\n            return $input.wrap($wrapper).parent().prepend(withHint ? $hint : null).append($dropdown);\n        }\n        function getBackgroundStyles($el) {\n            return {\n                backgroundAttachment: $el.css(\"background-attachment\"),\n                backgroundClip: $el.css(\"background-clip\"),\n                backgroundColor: $el.css(\"background-color\"),\n                backgroundImage: $el.css(\"background-image\"),\n                backgroundOrigin: $el.css(\"background-origin\"),\n                backgroundPosition: $el.css(\"background-position\"),\n                backgroundRepeat: $el.css(\"background-repeat\"),\n                backgroundSize: $el.css(\"background-size\")\n            };\n        }\n        function destroyDomStructure($node) {\n            var $input = $node.find(\".tt-input\");\n            _.each($input.data(attrsKey), function(val, key) {\n                _.isUndefined(val) ? $input.removeAttr(key) : $input.attr(key, val);\n            });\n            $input.detach().removeData(attrsKey).removeClass(\"tt-input\").insertAfter($node);\n            $node.remove();\n        }\n    }();\n    (function() {\n        var old, typeaheadKey, methods;\n        old = $.fn.typeahead;\n        typeaheadKey = \"ttTypeahead\";\n        methods = {\n            initialize: function initialize(o, datasets) {\n                datasets = _.isArray(datasets) ? datasets : [].slice.call(arguments, 1);\n                o = o || {};\n                return this.each(attach);\n                function attach() {\n                    var $input = $(this), eventBus, typeahead;\n                    _.each(datasets, function(d) {\n                        d.highlight = !!o.highlight;\n                    });\n                    typeahead = new Typeahead({\n                        input: $input,\n                        eventBus: eventBus = new EventBus({\n                            el: $input\n                        }),\n                        withHint: _.isUndefined(o.hint) ? true : !!o.hint,\n                        minLength: o.minLength,\n                        autoselect: o.autoselect,\n                        datasets: datasets\n                    });\n                    $input.data(typeaheadKey, typeahead);\n                }\n            },\n            open: function open() {\n                return this.each(openTypeahead);\n                function openTypeahead() {\n                    var $input = $(this), typeahead;\n                    if (typeahead = $input.data(typeaheadKey)) {\n                        typeahead.open();\n                    }\n                }\n            },\n            close: function close() {\n                return this.each(closeTypeahead);\n                function closeTypeahead() {\n                    var $input = $(this), typeahead;\n                    if (typeahead = $input.data(typeaheadKey)) {\n                        typeahead.close();\n                    }\n                }\n            },\n            val: function val(newVal) {\n                return !arguments.length ? getVal(this.first()) : this.each(setVal);\n                function setVal() {\n                    var $input = $(this), typeahead;\n                    if (typeahead = $input.data(typeaheadKey)) {\n                        typeahead.setVal(newVal);\n                    }\n                }\n                function getVal($input) {\n                    var typeahead, query;\n                    if (typeahead = $input.data(typeaheadKey)) {\n                        query = typeahead.getVal();\n                    }\n                    return query;\n                }\n            },\n            destroy: function destroy() {\n                return this.each(unattach);\n                function unattach() {\n                    var $input = $(this), typeahead;\n                    if (typeahead = $input.data(typeaheadKey)) {\n                        typeahead.destroy();\n                        $input.removeData(typeaheadKey);\n                    }\n                }\n            }\n        };\n        $.fn.typeahead = function(method) {\n            if (methods[method]) {\n                return methods[method].apply(this, [].slice.call(arguments, 1));\n            } else {\n                return methods.initialize.apply(this, arguments);\n            }\n        };\n        $.fn.typeahead.noConflict = function noConflict() {\n            $.fn.typeahead = old;\n            return this;\n        };\n    })();\n})(window.jQuery);","/*jshint curly:true, eqeqeq:true, laxbreak:true, noempty:false */\n/*\n\n  The MIT License (MIT)\n\n  Copyright (c) 2007-2013 Einar Lielmanis and contributors.\n\n  Permission is hereby granted, free of charge, to any person\n  obtaining a copy of this software and associated documentation files\n  (the \"Software\"), to deal in the Software without restriction,\n  including without limitation the rights to use, copy, modify, merge,\n  publish, distribute, sublicense, and/or sell copies of the Software,\n  and to permit persons to whom the Software is furnished to do so,\n  subject to the following conditions:\n\n  The above copyright notice and this permission notice shall be\n  included in all copies or substantial portions of the Software.\n\n  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS\n  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n  ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n  SOFTWARE.\n\n\n Style HTML\n---------------\n\n  Written by Nochum Sossonko, (nsossonko@hotmail.com)\n\n  Based on code initially developed by: Einar Lielmanis, <einar@jsbeautifier.org>\n    http://jsbeautifier.org/\n\n  Usage:\n    style_html(html_source);\n\n    style_html(html_source, options);\n\n  The options are:\n    indent_inner_html (default false)   indent <head> and <body> sections,\n    indent_size (default 4)           indentation size,\n    indent_char (default space)       character to indent with,\n    wrap_line_length (default 250)            -  maximum amount of characters per line (0 = disable)\n    brace_style (default \"collapse\") - \"collapse\" | \"expand\" | \"end-expand\"\n            put braces on the same line as control statements (default), or put braces on own line (Allman / ANSI style), or just put end braces on own line.\n    unformatted (defaults to inline tags) - list of tags, that shouldn't be reformatted\n    indent_scripts (default normal)  - \"keep\"|\"separate\"|\"normal\"\n    preserve_newlines (default true) - whether existing line breaks before elements should be preserved\n                                        Only works before elements, not inside tags or for text.\n    max_preserve_newlines (default unlimited) - maximum number of line breaks to be preserved in one chunk\n    indent_handlebars (default false) - format and indent {{#foo}} and {{/foo}}\n\n    e.g.\n\n    style_html(html_source, {\n      'indent_inner_html': false,\n      'indent_size': 2,\n      'indent_char': ' ',\n      'wrap_line_length': 78,\n      'brace_style': 'expand',\n      'unformatted': ['a', 'sub', 'sup', 'b', 'i', 'u'],\n      'preserve_newlines': true,\n      'max_preserve_newlines': 5,\n      'indent_handlebars': false\n    });\n*/\n\n(function() {\n\n    function trim(s) {\n        return s.replace(/^\\s+|\\s+$/g, '');\n    }\n\n    function ltrim(s) {\n        return s.replace(/^\\s+/g, '');\n    }\n\n    function style_html(html_source, options, js_beautify, css_beautify) {\n        //Wrapper function to invoke all the necessary constructors and deal with the output.\n\n        var multi_parser,\n            indent_inner_html,\n            indent_size,\n            indent_character,\n            wrap_line_length,\n            brace_style,\n            unformatted,\n            preserve_newlines,\n            max_preserve_newlines,\n            indent_handlebars;\n\n        options = options || {};\n\n        // backwards compatibility to 1.3.4\n        if ((options.wrap_line_length === undefined || parseInt(options.wrap_line_length, 10) === 0) &&\n                (options.max_char !== undefined && parseInt(options.max_char, 10) !== 0)) {\n            options.wrap_line_length = options.max_char;\n        }\n\n        indent_inner_html = (options.indent_inner_html === undefined) ? false : options.indent_inner_html;\n        indent_size = (options.indent_size === undefined) ? 4 : parseInt(options.indent_size, 10);\n        indent_character = (options.indent_char === undefined) ? ' ' : options.indent_char;\n        brace_style = (options.brace_style === undefined) ? 'collapse' : options.brace_style;\n        wrap_line_length =  parseInt(options.wrap_line_length, 10) === 0 ? 32786 : parseInt(options.wrap_line_length || 250, 10);\n        unformatted = options.unformatted || ['a', 'span', 'bdo', 'em', 'strong', 'dfn', 'code', 'samp', 'kbd', 'var', 'cite', 'abbr', 'acronym', 'q', 'sub', 'sup', 'tt', 'i', 'b', 'big', 'small', 'u', 's', 'strike', 'font', 'ins', 'del', 'pre', 'address', 'dt', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n        preserve_newlines = (options.preserve_newlines === undefined) ? true : options.preserve_newlines;\n        max_preserve_newlines = preserve_newlines ?\n            (isNaN(parseInt(options.max_preserve_newlines, 10)) ? 32786 : parseInt(options.max_preserve_newlines, 10))\n            : 0;\n        indent_handlebars = (options.indent_handlebars === undefined) ? false : options.indent_handlebars;\n\n        function Parser() {\n\n            this.pos = 0; //Parser position\n            this.token = '';\n            this.current_mode = 'CONTENT'; //reflects the current Parser mode: TAG/CONTENT\n            this.tags = { //An object to hold tags, their position, and their parent-tags, initiated with default values\n                parent: 'parent1',\n                parentcount: 1,\n                parent1: ''\n            };\n            this.tag_type = '';\n            this.token_text = this.last_token = this.last_text = this.token_type = '';\n            this.newlines = 0;\n            this.indent_content = indent_inner_html;\n\n            this.Utils = { //Uilities made available to the various functions\n                whitespace: \"\\n\\r\\t \".split(''),\n                single_token: 'br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?='.split(','), //all the single tags for HTML\n                extra_liners: 'head,body,/html'.split(','), //for tags that need a line of whitespace before them\n                in_array: function(what, arr) {\n                    for (var i = 0; i < arr.length; i++) {\n                        if (what === arr[i]) {\n                            return true;\n                        }\n                    }\n                    return false;\n                }\n            };\n\n            this.traverse_whitespace = function() {\n                var input_char = '';\n\n                input_char = this.input.charAt(this.pos);\n                if (this.Utils.in_array(input_char, this.Utils.whitespace)) {\n                    this.newlines = 0;\n                    while (this.Utils.in_array(input_char, this.Utils.whitespace)) {\n                        if (preserve_newlines && input_char === '\\n' && this.newlines <= max_preserve_newlines) {\n                            this.newlines += 1;\n                        }\n\n                        this.pos++;\n                        input_char = this.input.charAt(this.pos);\n                    }\n                    return true;\n                }\n                return false;\n            };\n\n            this.get_content = function() { //function to capture regular content between tags\n\n                var input_char = '',\n                    content = [],\n                    space = false; //if a space is needed\n\n                while (this.input.charAt(this.pos) !== '<') {\n                    if (this.pos >= this.input.length) {\n                        return content.length ? content.join('') : ['', 'TK_EOF'];\n                    }\n\n                    if (this.traverse_whitespace()) {\n                        if (content.length) {\n                            space = true;\n                        }\n                        continue; //don't want to insert unnecessary space\n                    }\n\n                    if (indent_handlebars) {\n                        // Handlebars parsing is complicated.\n                        // {{#foo}} and {{/foo}} are formatted tags.\n                        // {{something}} should get treated as content, except:\n                        // {{else}} specifically behaves like {{#if}} and {{/if}}\n                        var peek3 = this.input.substr(this.pos, 3);\n                        if (peek3 === '{{#' || peek3 === '{{/') {\n                            // These are tags and not content.\n                            break;\n                        } else if (this.input.substr(this.pos, 2) === '{{') {\n                            if (this.get_tag(true) === '{{else}}') {\n                                break;\n                            }\n                        }\n                    }\n\n                    input_char = this.input.charAt(this.pos);\n                    this.pos++;\n\n                    if (space) {\n                        if (this.line_char_count >= this.wrap_line_length) { //insert a line when the wrap_line_length is reached\n                            this.print_newline(false, content);\n                            this.print_indentation(content);\n                        } else {\n                            this.line_char_count++;\n                            content.push(' ');\n                        }\n                        space = false;\n                    }\n                    this.line_char_count++;\n                    content.push(input_char); //letter at-a-time (or string) inserted to an array\n                }\n                return content.length ? content.join('') : '';\n            };\n\n            this.get_contents_to = function(name) { //get the full content of a script or style to pass to js_beautify\n                if (this.pos === this.input.length) {\n                    return ['', 'TK_EOF'];\n                }\n                var input_char = '';\n                var content = '';\n                var reg_match = new RegExp('</' + name + '\\\\s*>', 'igm');\n                reg_match.lastIndex = this.pos;\n                var reg_array = reg_match.exec(this.input);\n                var end_script = reg_array ? reg_array.index : this.input.length; //absolute end of script\n                if (this.pos < end_script) { //get everything in between the script tags\n                    content = this.input.substring(this.pos, end_script);\n                    this.pos = end_script;\n                }\n                return content;\n            };\n\n            this.record_tag = function(tag) { //function to record a tag and its parent in this.tags Object\n                if (this.tags[tag + 'count']) { //check for the existence of this tag type\n                    this.tags[tag + 'count']++;\n                    this.tags[tag + this.tags[tag + 'count']] = this.indent_level; //and record the present indent level\n                } else { //otherwise initialize this tag type\n                    this.tags[tag + 'count'] = 1;\n                    this.tags[tag + this.tags[tag + 'count']] = this.indent_level; //and record the present indent level\n                }\n                this.tags[tag + this.tags[tag + 'count'] + 'parent'] = this.tags.parent; //set the parent (i.e. in the case of a div this.tags.div1parent)\n                this.tags.parent = tag + this.tags[tag + 'count']; //and make this the current parent (i.e. in the case of a div 'div1')\n            };\n\n            this.retrieve_tag = function(tag) { //function to retrieve the opening tag to the corresponding closer\n                if (this.tags[tag + 'count']) { //if the openener is not in the Object we ignore it\n                    var temp_parent = this.tags.parent; //check to see if it's a closable tag.\n                    while (temp_parent) { //till we reach '' (the initial value);\n                        if (tag + this.tags[tag + 'count'] === temp_parent) { //if this is it use it\n                            break;\n                        }\n                        temp_parent = this.tags[temp_parent + 'parent']; //otherwise keep on climbing up the DOM Tree\n                    }\n                    if (temp_parent) { //if we caught something\n                        this.indent_level = this.tags[tag + this.tags[tag + 'count']]; //set the indent_level accordingly\n                        this.tags.parent = this.tags[temp_parent + 'parent']; //and set the current parent\n                    }\n                    delete this.tags[tag + this.tags[tag + 'count'] + 'parent']; //delete the closed tags parent reference...\n                    delete this.tags[tag + this.tags[tag + 'count']]; //...and the tag itself\n                    if (this.tags[tag + 'count'] === 1) {\n                        delete this.tags[tag + 'count'];\n                    } else {\n                        this.tags[tag + 'count']--;\n                    }\n                }\n            };\n\n            this.indent_to_tag = function(tag) {\n                // Match the indentation level to the last use of this tag, but don't remove it.\n                if (!this.tags[tag + 'count']) {\n                    return;\n                }\n                var temp_parent = this.tags.parent;\n                while (temp_parent) {\n                    if (tag + this.tags[tag + 'count'] === temp_parent) {\n                        break;\n                    }\n                    temp_parent = this.tags[temp_parent + 'parent'];\n                }\n                if (temp_parent) {\n                    this.indent_level = this.tags[tag + this.tags[tag + 'count']];\n                }\n            };\n\n            this.get_tag = function(peek) { //function to get a full tag and parse its type\n                var input_char = '',\n                    content = [],\n                    comment = '',\n                    space = false,\n                    tag_start, tag_end,\n                    tag_start_char,\n                    orig_pos = this.pos,\n                    orig_line_char_count = this.line_char_count;\n\n                peek = peek !== undefined ? peek : false;\n\n                do {\n                    if (this.pos >= this.input.length) {\n                        if (peek) {\n                            this.pos = orig_pos;\n                            this.line_char_count = orig_line_char_count;\n                        }\n                        return content.length ? content.join('') : ['', 'TK_EOF'];\n                    }\n\n                    input_char = this.input.charAt(this.pos);\n                    this.pos++;\n\n                    if (this.Utils.in_array(input_char, this.Utils.whitespace)) { //don't want to insert unnecessary space\n                        space = true;\n                        continue;\n                    }\n\n                    if (input_char === \"'\" || input_char === '\"') {\n                        input_char += this.get_unformatted(input_char);\n                        space = true;\n\n                    }\n\n                    if (input_char === '=') { //no space before =\n                        space = false;\n                    }\n\n                    if (content.length && content[content.length - 1] !== '=' && input_char !== '>' && space) {\n                        //no space after = or before >\n                        if (this.line_char_count >= this.wrap_line_length) {\n                            this.print_newline(false, content);\n                            this.print_indentation(content);\n                        } else {\n                            content.push(' ');\n                            this.line_char_count++;\n                        }\n                        space = false;\n                    }\n\n                    if (indent_handlebars && tag_start_char === '<') {\n                        // When inside an angle-bracket tag, put spaces around\n                        // handlebars not inside of strings.\n                        if ((input_char + this.input.charAt(this.pos)) === '{{') {\n                            input_char += this.get_unformatted('}}');\n                            if (content.length && content[content.length - 1] !== ' ' && content[content.length - 1] !== '<') {\n                                input_char = ' ' + input_char;\n                            }\n                            space = true;\n                        }\n                    }\n\n                    if (input_char === '<' && !tag_start_char) {\n                        tag_start = this.pos - 1;\n                        tag_start_char = '<';\n                    }\n\n                    if (indent_handlebars && !tag_start_char) {\n                        if (content.length >= 2 && content[content.length - 1] === '{' && content[content.length - 2] == '{') {\n                            if (input_char === '#' || input_char === '/') {\n                                tag_start = this.pos - 3;\n                            } else {\n                                tag_start = this.pos - 2;\n                            }\n                            tag_start_char = '{';\n                        }\n                    }\n\n                    this.line_char_count++;\n                    content.push(input_char); //inserts character at-a-time (or string)\n\n                    if (content[1] && content[1] === '!') { //if we're in a comment, do something special\n                        // We treat all comments as literals, even more than preformatted tags\n                        // we just look for the appropriate close tag\n                        content = [this.get_comment(tag_start)];\n                        break;\n                    }\n\n                    if (indent_handlebars && tag_start_char === '{' && content.length > 2 && content[content.length - 2] === '}' && content[content.length - 1] === '}') {\n                        break;\n                    }\n                } while (input_char !== '>');\n\n                var tag_complete = content.join('');\n                var tag_index;\n                var tag_offset;\n\n                if (tag_complete.indexOf(' ') !== -1) { //if there's whitespace, thats where the tag name ends\n                    tag_index = tag_complete.indexOf(' ');\n                } else if (tag_complete[0] === '{') {\n                    tag_index = tag_complete.indexOf('}');\n                } else { //otherwise go with the tag ending\n                    tag_index = tag_complete.indexOf('>');\n                }\n                if (tag_complete[0] === '<' || !indent_handlebars) {\n                    tag_offset = 1;\n                } else {\n                    tag_offset = tag_complete[2] === '#' ? 3 : 2;\n                }\n                var tag_check = tag_complete.substring(tag_offset, tag_index).toLowerCase();\n                if (tag_complete.charAt(tag_complete.length - 2) === '/' ||\n                    this.Utils.in_array(tag_check, this.Utils.single_token)) { //if this tag name is a single tag type (either in the list or has a closing /)\n                    if (!peek) {\n                        this.tag_type = 'SINGLE';\n                    }\n                } else if (indent_handlebars && tag_complete[0] === '{' && tag_check === 'else') {\n                    if (!peek) {\n                        this.indent_to_tag('if');\n                        this.tag_type = 'HANDLEBARS_ELSE';\n                        this.indent_content = true;\n                        this.traverse_whitespace();\n                    }\n                } else if (tag_check === 'script' &&\n                    (tag_complete.search('type') === -1 ||\n                    (tag_complete.search('type') > -1 &&\n                    tag_complete.search(/\\b(text|application)\\/(x-)?(javascript|ecmascript|jscript|livescript)/) > -1))) {\n                    if (!peek) {\n                        this.record_tag(tag_check);\n                        this.tag_type = 'SCRIPT';\n                    }\n                } else if (tag_check === 'style' &&\n                    (tag_complete.search('type') === -1 ||\n                    (tag_complete.search('type') > -1 && tag_complete.search('text/css') > -1))) {\n                    if (!peek) {\n                        this.record_tag(tag_check);\n                        this.tag_type = 'STYLE';\n                    }\n                } else if (this.is_unformatted(tag_check, unformatted)) { // do not reformat the \"unformatted\" tags\n                    comment = this.get_unformatted('</' + tag_check + '>', tag_complete); //...delegate to get_unformatted function\n                    content.push(comment);\n                    // Preserve collapsed whitespace either before or after this tag.\n                    if (tag_start > 0 && this.Utils.in_array(this.input.charAt(tag_start - 1), this.Utils.whitespace)) {\n                        content.splice(0, 0, this.input.charAt(tag_start - 1));\n                    }\n                    tag_end = this.pos - 1;\n                    if (this.Utils.in_array(this.input.charAt(tag_end + 1), this.Utils.whitespace)) {\n                        content.push(this.input.charAt(tag_end + 1));\n                    }\n                    this.tag_type = 'SINGLE';\n                } else if (tag_check.charAt(0) === '!') { //peek for <! comment\n                    // for comments content is already correct.\n                    if (!peek) {\n                        this.tag_type = 'SINGLE';\n                        this.traverse_whitespace();\n                    }\n                } else if (!peek) {\n                    if (tag_check.charAt(0) === '/') { //this tag is a double tag so check for tag-ending\n                        this.retrieve_tag(tag_check.substring(1)); //remove it and all ancestors\n                        this.tag_type = 'END';\n                        this.traverse_whitespace();\n                    } else { //otherwise it's a start-tag\n                        this.record_tag(tag_check); //push it on the tag stack\n                        if (tag_check.toLowerCase() !== 'html') {\n                            this.indent_content = true;\n                        }\n                        this.tag_type = 'START';\n\n                        // Allow preserving of newlines after a start tag\n                        this.traverse_whitespace();\n                    }\n                    if (this.Utils.in_array(tag_check, this.Utils.extra_liners)) { //check if this double needs an extra line\n                        this.print_newline(false, this.output);\n                        if (this.output.length && this.output[this.output.length - 2] !== '\\n') {\n                            this.print_newline(true, this.output);\n                        }\n                    }\n                }\n\n                if (peek) {\n                    this.pos = orig_pos;\n                    this.line_char_count = orig_line_char_count;\n                }\n\n                return content.join(''); //returns fully formatted tag\n            };\n\n            this.get_comment = function(start_pos) { //function to return comment content in its entirety\n                // this is will have very poor perf, but will work for now.\n                var comment = '',\n                    delimiter = '>',\n                    matched = false;\n\n                this.pos = start_pos;\n                input_char = this.input.charAt(this.pos);\n                this.pos++;\n\n                while (this.pos <= this.input.length) {\n                    comment += input_char;\n\n                    // only need to check for the delimiter if the last chars match\n                    if (comment[comment.length - 1] === delimiter[delimiter.length - 1] &&\n                        comment.indexOf(delimiter) !== -1) {\n                        break;\n                    }\n\n                    // only need to search for custom delimiter for the first few characters\n                    if (!matched && comment.length < 10) {\n                        if (comment.indexOf('<![if') === 0) { //peek for <![if conditional comment\n                            delimiter = '<![endif]>';\n                            matched = true;\n                        } else if (comment.indexOf('<![cdata[') === 0) { //if it's a <[cdata[ comment...\n                            delimiter = ']]>';\n                            matched = true;\n                        } else if (comment.indexOf('<![') === 0) { // some other ![ comment? ...\n                            delimiter = ']>';\n                            matched = true;\n                        } else if (comment.indexOf('<!--') === 0) { // <!-- comment ...\n                            delimiter = '-->';\n                            matched = true;\n                        }\n                    }\n\n                    input_char = this.input.charAt(this.pos);\n                    this.pos++;\n                }\n\n                return comment;\n            };\n\n            this.get_unformatted = function(delimiter, orig_tag) { //function to return unformatted content in its entirety\n\n                if (orig_tag && orig_tag.toLowerCase().indexOf(delimiter) !== -1) {\n                    return '';\n                }\n                var input_char = '';\n                var content = '';\n                var min_index = 0;\n                var space = true;\n                do {\n\n                    if (this.pos >= this.input.length) {\n                        return content;\n                    }\n\n                    input_char = this.input.charAt(this.pos);\n                    this.pos++;\n\n                    if (this.Utils.in_array(input_char, this.Utils.whitespace)) {\n                        if (!space) {\n                            this.line_char_count--;\n                            continue;\n                        }\n                        if (input_char === '\\n' || input_char === '\\r') {\n                            content += '\\n';\n                            /*  Don't change tab indention for unformatted blocks.  If using code for html editing, this will greatly affect <pre> tags if they are specified in the 'unformatted array'\n                for (var i=0; i<this.indent_level; i++) {\n                  content += this.indent_string;\n                }\n                space = false; //...and make sure other indentation is erased\n                */\n                            this.line_char_count = 0;\n                            continue;\n                        }\n                    }\n                    content += input_char;\n                    this.line_char_count++;\n                    space = true;\n\n                    if (indent_handlebars && input_char === '{' && content.length && content[content.length - 2] === '{') {\n                        // Handlebars expressions in strings should also be unformatted.\n                        content += this.get_unformatted('}}');\n                        // These expressions are opaque.  Ignore delimiters found in them.\n                        min_index = content.length;\n                    }\n                } while (content.toLowerCase().indexOf(delimiter, min_index) === -1);\n                return content;\n            };\n\n            this.get_token = function() { //initial handler for token-retrieval\n                var token;\n\n                if (this.last_token === 'TK_TAG_SCRIPT' || this.last_token === 'TK_TAG_STYLE') { //check if we need to format javascript\n                    var type = this.last_token.substr(7);\n                    token = this.get_contents_to(type);\n                    if (typeof token !== 'string') {\n                        return token;\n                    }\n                    return [token, 'TK_' + type];\n                }\n                if (this.current_mode === 'CONTENT') {\n                    token = this.get_content();\n                    if (typeof token !== 'string') {\n                        return token;\n                    } else {\n                        return [token, 'TK_CONTENT'];\n                    }\n                }\n\n                if (this.current_mode === 'TAG') {\n                    token = this.get_tag();\n                    if (typeof token !== 'string') {\n                        return token;\n                    } else {\n                        var tag_name_type = 'TK_TAG_' + this.tag_type;\n                        return [token, tag_name_type];\n                    }\n                }\n            };\n\n            this.get_full_indent = function(level) {\n                level = this.indent_level + level || 0;\n                if (level < 1) {\n                    return '';\n                }\n\n                return Array(level + 1).join(this.indent_string);\n            };\n\n            this.is_unformatted = function(tag_check, unformatted) {\n                //is this an HTML5 block-level link?\n                if (!this.Utils.in_array(tag_check, unformatted)) {\n                    return false;\n                }\n\n                if (tag_check.toLowerCase() !== 'a' || !this.Utils.in_array('a', unformatted)) {\n                    return true;\n                }\n\n                //at this point we have an  tag; is its first child something we want to remain\n                //unformatted?\n                var next_tag = this.get_tag(true /* peek. */ );\n\n                // test next_tag to see if it is just html tag (no external content)\n                var tag = (next_tag || \"\").match(/^\\s*<\\s*\\/?([a-z]*)\\s*[^>]*>\\s*$/);\n\n                // if next_tag comes back but is not an isolated tag, then\n                // let's treat the 'a' tag as having content\n                // and respect the unformatted option\n                if (!tag || this.Utils.in_array(tag, unformatted)) {\n                    return true;\n                } else {\n                    return false;\n                }\n            };\n\n            this.printer = function(js_source, indent_character, indent_size, wrap_line_length, brace_style) { //handles input/output and some other printing functions\n\n                this.input = js_source || ''; //gets the input for the Parser\n                this.output = [];\n                this.indent_character = indent_character;\n                this.indent_string = '';\n                this.indent_size = indent_size;\n                this.brace_style = brace_style;\n                this.indent_level = 0;\n                this.wrap_line_length = wrap_line_length;\n                this.line_char_count = 0; //count to see if wrap_line_length was exceeded\n\n                for (var i = 0; i < this.indent_size; i++) {\n                    this.indent_string += this.indent_character;\n                }\n\n                this.print_newline = function(force, arr) {\n                    this.line_char_count = 0;\n                    if (!arr || !arr.length) {\n                        return;\n                    }\n                    if (force || (arr[arr.length - 1] !== '\\n')) { //we might want the extra line\n                        arr.push('\\n');\n                    }\n                };\n\n                this.print_indentation = function(arr) {\n                    for (var i = 0; i < this.indent_level; i++) {\n                        arr.push(this.indent_string);\n                        this.line_char_count += this.indent_string.length;\n                    }\n                };\n\n                this.print_token = function(text) {\n                    if (text || text !== '') {\n                        if (this.output.length && this.output[this.output.length - 1] === '\\n') {\n                            this.print_indentation(this.output);\n                            text = ltrim(text);\n                        }\n                    }\n                    this.print_token_raw(text);\n                };\n\n                this.print_token_raw = function(text) {\n                    if (text && text !== '') {\n                        if (text.length > 1 && text[text.length - 1] === '\\n') {\n                            // unformatted tags can grab newlines as their last character\n                            this.output.push(text.slice(0, -1));\n                            this.print_newline(false, this.output);\n                        } else {\n                            this.output.push(text);\n                        }\n                    }\n\n                    for (var n = 0; n < this.newlines; n++) {\n                        this.print_newline(n > 0, this.output);\n                    }\n                    this.newlines = 0;\n                };\n\n                this.indent = function() {\n                    this.indent_level++;\n                };\n\n                this.unindent = function() {\n                    if (this.indent_level > 0) {\n                        this.indent_level--;\n                    }\n                };\n            };\n            return this;\n        }\n\n        /*_____________________--------------------_____________________*/\n\n        multi_parser = new Parser(); //wrapping functions Parser\n        multi_parser.printer(html_source, indent_character, indent_size, wrap_line_length, brace_style); //initialize starting values\n\n        while (true) {\n            var t = multi_parser.get_token();\n            multi_parser.token_text = t[0];\n            multi_parser.token_type = t[1];\n\n            if (multi_parser.token_type === 'TK_EOF') {\n                break;\n            }\n\n            switch (multi_parser.token_type) {\n                case 'TK_TAG_START':\n                    multi_parser.print_newline(false, multi_parser.output);\n                    multi_parser.print_token(multi_parser.token_text);\n                    if (multi_parser.indent_content) {\n                        multi_parser.indent();\n                        multi_parser.indent_content = false;\n                    }\n                    multi_parser.current_mode = 'CONTENT';\n                    break;\n                case 'TK_TAG_STYLE':\n                case 'TK_TAG_SCRIPT':\n                    multi_parser.print_newline(false, multi_parser.output);\n                    multi_parser.print_token(multi_parser.token_text);\n                    multi_parser.current_mode = 'CONTENT';\n                    break;\n                case 'TK_TAG_END':\n                    //Print new line only if the tag has no content and has child\n                    if (multi_parser.last_token === 'TK_CONTENT' && multi_parser.last_text === '') {\n                        var tag_name = multi_parser.token_text.match(/\\w+/)[0];\n                        var tag_extracted_from_last_output = null;\n                        if (multi_parser.output.length) {\n                            tag_extracted_from_last_output = multi_parser.output[multi_parser.output.length - 1].match(/(?:<|{{#)\\s*(\\w+)/);\n                        }\n                        if (tag_extracted_from_last_output === null ||\n                            tag_extracted_from_last_output[1] !== tag_name) {\n                            multi_parser.print_newline(false, multi_parser.output);\n                        }\n                    }\n                    multi_parser.print_token(multi_parser.token_text);\n                    multi_parser.current_mode = 'CONTENT';\n                    break;\n                case 'TK_TAG_SINGLE':\n                    // Don't add a newline before elements that should remain unformatted.\n                    var tag_check = multi_parser.token_text.match(/^\\s*<([a-z]+)/i);\n                    if (!tag_check || !multi_parser.Utils.in_array(tag_check[1], unformatted)) {\n                        multi_parser.print_newline(false, multi_parser.output);\n                    }\n                    multi_parser.print_token(multi_parser.token_text);\n                    multi_parser.current_mode = 'CONTENT';\n                    break;\n                case 'TK_TAG_HANDLEBARS_ELSE':\n                    multi_parser.print_token(multi_parser.token_text);\n                    if (multi_parser.indent_content) {\n                        multi_parser.indent();\n                        multi_parser.indent_content = false;\n                    }\n                    multi_parser.current_mode = 'CONTENT';\n                    break;\n                case 'TK_CONTENT':\n                    multi_parser.print_token(multi_parser.token_text);\n                    multi_parser.current_mode = 'TAG';\n                    break;\n                case 'TK_STYLE':\n                case 'TK_SCRIPT':\n                    if (multi_parser.token_text !== '') {\n                        multi_parser.print_newline(false, multi_parser.output);\n                        var text = multi_parser.token_text,\n                            _beautifier,\n                            script_indent_level = 1;\n                        if (multi_parser.token_type === 'TK_SCRIPT') {\n                            _beautifier = typeof js_beautify === 'function' && js_beautify;\n                        } else if (multi_parser.token_type === 'TK_STYLE') {\n                            _beautifier = typeof css_beautify === 'function' && css_beautify;\n                        }\n\n                        if (options.indent_scripts === \"keep\") {\n                            script_indent_level = 0;\n                        } else if (options.indent_scripts === \"separate\") {\n                            script_indent_level = -multi_parser.indent_level;\n                        }\n\n                        var indentation = multi_parser.get_full_indent(script_indent_level);\n                        if (_beautifier) {\n                            // call the Beautifier if avaliable\n                            text = _beautifier(text.replace(/^\\s*/, indentation), options);\n                        } else {\n                            // simply indent the string otherwise\n                            var white = text.match(/^\\s*/)[0];\n                            var _level = white.match(/[^\\n\\r]*$/)[0].split(multi_parser.indent_string).length - 1;\n                            var reindent = multi_parser.get_full_indent(script_indent_level - _level);\n                            text = text.replace(/^\\s*/, indentation)\n                                .replace(/\\r\\n|\\r|\\n/g, '\\n' + reindent)\n                                .replace(/\\s+$/, '');\n                        }\n                        if (text) {\n                            multi_parser.print_token_raw(indentation + trim(text));\n                            multi_parser.print_newline(false, multi_parser.output);\n                        }\n                    }\n                    multi_parser.current_mode = 'TAG';\n                    break;\n            }\n            multi_parser.last_token = multi_parser.token_type;\n            multi_parser.last_text = multi_parser.token_text;\n        }\n        return multi_parser.output.join('');\n    }\n\n    if (typeof define === \"function\" && define.amd) {\n        // Add support for AMD ( https://github.com/amdjs/amdjs-api/wiki/AMD#defineamd-property- )\n        define([\"require\", \"./beautify\", \"./beautify-css\"], function(requireamd) {\n            var js_beautify =  requireamd(\"./beautify\");\n            var css_beautify =  requireamd(\"./beautify-css\");\n\n            return {\n              html_beautify: function(html_source, options) {\n                return style_html(html_source, options, js_beautify.js_beautify, css_beautify.css_beautify);\n              }\n            };\n        });\n    } else if (typeof exports !== \"undefined\") {\n        // Add support for CommonJS. Just put this file somewhere on your require.paths\n        // and you will be able to `var html_beautify = require(\"beautify\").html_beautify`.\n        var js_beautify = require('./beautify.js');\n        var css_beautify = require('./beautify-css.js');\n\n        exports.html_beautify = function(html_source, options) {\n            return style_html(html_source, options, js_beautify.js_beautify, css_beautify.css_beautify);\n        };\n    } else if (typeof window !== \"undefined\") {\n        // If we're running a web page and don't have either of the above, add our one global\n        window.html_beautify = function(html_source, options) {\n            return style_html(html_source, options, window.js_beautify, window.css_beautify);\n        };\n    } else if (typeof global !== \"undefined\") {\n        // If we don't even have window, try global.\n        global.html_beautify = function(html_source, options) {\n            return style_html(html_source, options, global.js_beautify, global.css_beautify);\n        };\n    }\n\n}());\n","!function(e){\"undefined\"!=typeof exports?e(exports):(window.hljs=e({}),\"function\"==typeof define&&define.amd&&define(\"hljs\",[],function(){return window.hljs}))}(function(e){function n(e){return e.replace(/&/gm,\"&amp;\").replace(/</gm,\"&lt;\").replace(/>/gm,\"&gt;\")}function t(e){return e.nodeName.toLowerCase()}function r(e,n){var t=e&&e.exec(n);return t&&0==t.index}function a(e){return/no-?highlight|plain|text/.test(e)}function i(e){var n,t,r,i=e.className+\" \";if(i+=e.parentNode?e.parentNode.className:\"\",t=/\\blang(?:uage)?-([\\w-]+)\\b/.exec(i))return E(t[1])?t[1]:\"no-highlight\";for(i=i.split(/\\s+/),n=0,r=i.length;r>n;n++)if(E(i[n])||a(i[n]))return i[n]}function o(e,n){var t,r={};for(t in e)r[t]=e[t];if(n)for(t in n)r[t]=n[t];return r}function u(e){var n=[];return function r(e,a){for(var i=e.firstChild;i;i=i.nextSibling)3==i.nodeType?a+=i.nodeValue.length:1==i.nodeType&&(n.push({event:\"start\",offset:a,node:i}),a=r(i,a),t(i).match(/br|hr|img|input/)||n.push({event:\"stop\",offset:a,node:i}));return a}(e,0),n}function c(e,r,a){function i(){return e.length&&r.length?e[0].offset!=r[0].offset?e[0].offset<r[0].offset?e:r:\"start\"==r[0].event?e:r:e.length?e:r}function o(e){function r(e){return\" \"+e.nodeName+'=\"'+n(e.value)+'\"'}f+=\"<\"+t(e)+Array.prototype.map.call(e.attributes,r).join(\"\")+\">\"}function u(e){f+=\"</\"+t(e)+\">\"}function c(e){(\"start\"==e.event?o:u)(e.node)}for(var s=0,f=\"\",l=[];e.length||r.length;){var g=i();if(f+=n(a.substr(s,g[0].offset-s)),s=g[0].offset,g==e){l.reverse().forEach(u);do c(g.splice(0,1)[0]),g=i();while(g==e&&g.length&&g[0].offset==s);l.reverse().forEach(o)}else\"start\"==g[0].event?l.push(g[0].node):l.pop(),c(g.splice(0,1)[0])}return f+n(a.substr(s))}function s(e){function n(e){return e&&e.source||e}function t(t,r){return new RegExp(n(t),\"m\"+(e.cI?\"i\":\"\")+(r?\"g\":\"\"))}function r(a,i){if(!a.compiled){if(a.compiled=!0,a.k=a.k||a.bK,a.k){var u={},c=function(n,t){e.cI&&(t=t.toLowerCase()),t.split(\" \").forEach(function(e){var t=e.split(\"|\");u[t[0]]=[n,t[1]?Number(t[1]):1]})};\"string\"==typeof a.k?c(\"keyword\",a.k):Object.keys(a.k).forEach(function(e){c(e,a.k[e])}),a.k=u}a.lR=t(a.l||/\\b\\w+\\b/,!0),i&&(a.bK&&(a.b=\"\\\\b(\"+a.bK.split(\" \").join(\"|\")+\")\\\\b\"),a.b||(a.b=/\\B|\\b/),a.bR=t(a.b),a.e||a.eW||(a.e=/\\B|\\b/),a.e&&(a.eR=t(a.e)),a.tE=n(a.e)||\"\",a.eW&&i.tE&&(a.tE+=(a.e?\"|\":\"\")+i.tE)),a.i&&(a.iR=t(a.i)),void 0===a.r&&(a.r=1),a.c||(a.c=[]);var s=[];a.c.forEach(function(e){e.v?e.v.forEach(function(n){s.push(o(e,n))}):s.push(\"self\"==e?a:e)}),a.c=s,a.c.forEach(function(e){r(e,a)}),a.starts&&r(a.starts,i);var f=a.c.map(function(e){return e.bK?\"\\\\.?(\"+e.b+\")\\\\.?\":e.b}).concat([a.tE,a.i]).map(n).filter(Boolean);a.t=f.length?t(f.join(\"|\"),!0):{exec:function(){return null}}}}r(e)}function f(e,t,a,i){function o(e,n){for(var t=0;t<n.c.length;t++)if(r(n.c[t].bR,e))return n.c[t]}function u(e,n){if(r(e.eR,n)){for(;e.endsParent&&e.parent;)e=e.parent;return e}return e.eW?u(e.parent,n):void 0}function c(e,n){return!a&&r(n.iR,e)}function g(e,n){var t=N.cI?n[0].toLowerCase():n[0];return e.k.hasOwnProperty(t)&&e.k[t]}function h(e,n,t,r){var a=r?\"\":w.classPrefix,i='<span class=\"'+a,o=t?\"\":\"</span>\";return i+=e+'\">',i+n+o}function p(){if(!L.k)return n(B);var e=\"\",t=0;L.lR.lastIndex=0;for(var r=L.lR.exec(B);r;){e+=n(B.substr(t,r.index-t));var a=g(L,r);a?(y+=a[1],e+=h(a[0],n(r[0]))):e+=n(r[0]),t=L.lR.lastIndex,r=L.lR.exec(B)}return e+n(B.substr(t))}function d(){if(L.sL&&!x[L.sL])return n(B);var e=L.sL?f(L.sL,B,!0,M[L.sL]):l(B);return L.r>0&&(y+=e.r),\"continuous\"==L.subLanguageMode&&(M[L.sL]=e.top),h(e.language,e.value,!1,!0)}function b(){return void 0!==L.sL?d():p()}function v(e,t){var r=e.cN?h(e.cN,\"\",!0):\"\";e.rB?(k+=r,B=\"\"):e.eB?(k+=n(t)+r,B=\"\"):(k+=r,B=t),L=Object.create(e,{parent:{value:L}})}function m(e,t){if(B+=e,void 0===t)return k+=b(),0;var r=o(t,L);if(r)return k+=b(),v(r,t),r.rB?0:t.length;var a=u(L,t);if(a){var i=L;i.rE||i.eE||(B+=t),k+=b();do L.cN&&(k+=\"</span>\"),y+=L.r,L=L.parent;while(L!=a.parent);return i.eE&&(k+=n(t)),B=\"\",a.starts&&v(a.starts,\"\"),i.rE?0:t.length}if(c(t,L))throw new Error('Illegal lexeme \"'+t+'\" for mode \"'+(L.cN||\"<unnamed>\")+'\"');return B+=t,t.length||1}var N=E(e);if(!N)throw new Error('Unknown language: \"'+e+'\"');s(N);var R,L=i||N,M={},k=\"\";for(R=L;R!=N;R=R.parent)R.cN&&(k=h(R.cN,\"\",!0)+k);var B=\"\",y=0;try{for(var C,j,I=0;;){if(L.t.lastIndex=I,C=L.t.exec(t),!C)break;j=m(t.substr(I,C.index-I),C[0]),I=C.index+j}for(m(t.substr(I)),R=L;R.parent;R=R.parent)R.cN&&(k+=\"</span>\");return{r:y,value:k,language:e,top:L}}catch(O){if(-1!=O.message.indexOf(\"Illegal\"))return{r:0,value:n(t)};throw O}}function l(e,t){t=t||w.languages||Object.keys(x);var r={r:0,value:n(e)},a=r;return t.forEach(function(n){if(E(n)){var t=f(n,e,!1);t.language=n,t.r>a.r&&(a=t),t.r>r.r&&(a=r,r=t)}}),a.language&&(r.second_best=a),r}function g(e){return w.tabReplace&&(e=e.replace(/^((<[^>]+>|\\t)+)/gm,function(e,n){return n.replace(/\\t/g,w.tabReplace)})),w.useBR&&(e=e.replace(/\\n/g,\"<br>\")),e}function h(e,n,t){var r=n?R[n]:t,a=[e.trim()];return e.match(/\\bhljs\\b/)||a.push(\"hljs\"),-1===e.indexOf(r)&&a.push(r),a.join(\" \").trim()}function p(e){var n=i(e);if(!a(n)){var t;w.useBR?(t=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"div\"),t.innerHTML=e.innerHTML.replace(/\\n/g,\"\").replace(/<br[ \\/]*>/g,\"\\n\")):t=e;var r=t.textContent,o=n?f(n,r,!0):l(r),s=u(t);if(s.length){var p=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"div\");p.innerHTML=o.value,o.value=c(s,u(p),r)}o.value=g(o.value),e.innerHTML=o.value,e.className=h(e.className,n,o.language),e.result={language:o.language,re:o.r},o.second_best&&(e.second_best={language:o.second_best.language,re:o.second_best.r})}}function d(e){w=o(w,e)}function b(){if(!b.called){b.called=!0;var e=document.querySelectorAll(\"pre code\");Array.prototype.forEach.call(e,p)}}function v(){addEventListener(\"DOMContentLoaded\",b,!1),addEventListener(\"load\",b,!1)}function m(n,t){var r=x[n]=t(e);r.aliases&&r.aliases.forEach(function(e){R[e]=n})}function N(){return Object.keys(x)}function E(e){return x[e]||x[R[e]]}var w={classPrefix:\"hljs-\",tabReplace:null,useBR:!1,languages:void 0},x={},R={};return e.highlight=f,e.highlightAuto=l,e.fixMarkup=g,e.highlightBlock=p,e.configure=d,e.initHighlighting=b,e.initHighlightingOnLoad=v,e.registerLanguage=m,e.listLanguages=N,e.getLanguage=E,e.inherit=o,e.IR=\"[a-zA-Z]\\\\w*\",e.UIR=\"[a-zA-Z_]\\\\w*\",e.NR=\"\\\\b\\\\d+(\\\\.\\\\d+)?\",e.CNR=\"\\\\b(0[xX][a-fA-F0-9]+|(\\\\d+(\\\\.\\\\d*)?|\\\\.\\\\d+)([eE][-+]?\\\\d+)?)\",e.BNR=\"\\\\b(0b[01]+)\",e.RSR=\"!|!=|!==|%|%=|&|&&|&=|\\\\*|\\\\*=|\\\\+|\\\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\\\?|\\\\[|\\\\{|\\\\(|\\\\^|\\\\^=|\\\\||\\\\|=|\\\\|\\\\||~\",e.BE={b:\"\\\\\\\\[\\\\s\\\\S]\",r:0},e.ASM={cN:\"string\",b:\"'\",e:\"'\",i:\"\\\\n\",c:[e.BE]},e.QSM={cN:\"string\",b:'\"',e:'\"',i:\"\\\\n\",c:[e.BE]},e.PWM={b:/\\b(a|an|the|are|I|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such)\\b/},e.C=function(n,t,r){var a=e.inherit({cN:\"comment\",b:n,e:t,c:[]},r||{});return a.c.push(e.PWM),a.c.push({cN:\"doctag\",bK:\"TODO FIXME NOTE BUG XXX\",r:0}),a},e.CLCM=e.C(\"//\",\"$\"),e.CBCM=e.C(\"/\\\\*\",\"\\\\*/\"),e.HCM=e.C(\"#\",\"$\"),e.NM={cN:\"number\",b:e.NR,r:0},e.CNM={cN:\"number\",b:e.CNR,r:0},e.BNM={cN:\"number\",b:e.BNR,r:0},e.CSSNM={cN:\"number\",b:e.NR+\"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?\",r:0},e.RM={cN:\"regexp\",b:/\\//,e:/\\/[gimuy]*/,i:/\\n/,c:[e.BE,{b:/\\[/,e:/\\]/,r:0,c:[e.BE]}]},e.TM={cN:\"title\",b:e.IR,r:0},e.UTM={cN:\"title\",b:e.UIR,r:0},e});hljs.registerLanguage(\"coffeescript\",function(e){var c={keyword:\"in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super then unless until loop of by when and or is isnt not\",literal:\"true false null undefined yes no on off\",reserved:\"case default function var void with const let enum export import native __hasProp __extends __slice __bind __indexOf\",built_in:\"npm require console print module global window document\"},n=\"[A-Za-z$_][0-9A-Za-z$_]*\",t={cN:\"subst\",b:/#\\{/,e:/}/,k:c},r=[e.BNM,e.inherit(e.CNM,{starts:{e:\"(\\\\s*/)?\",r:0}}),{cN:\"string\",v:[{b:/'''/,e:/'''/,c:[e.BE]},{b:/'/,e:/'/,c:[e.BE]},{b:/\"\"\"/,e:/\"\"\"/,c:[e.BE,t]},{b:/\"/,e:/\"/,c:[e.BE,t]}]},{cN:\"regexp\",v:[{b:\"///\",e:\"///\",c:[t,e.HCM]},{b:\"//[gim]*\",r:0},{b:/\\/(?![ *])(\\\\\\/|.)*?\\/[gim]*(?=\\W|$)/}]},{cN:\"property\",b:\"@\"+n},{b:\"`\",e:\"`\",eB:!0,eE:!0,sL:\"javascript\"}];t.c=r;var i=e.inherit(e.TM,{b:n}),s=\"(\\\\(.*\\\\))?\\\\s*\\\\B[-=]>\",o={cN:\"params\",b:\"\\\\([^\\\\(]\",rB:!0,c:[{b:/\\(/,e:/\\)/,k:c,c:[\"self\"].concat(r)}]};return{aliases:[\"coffee\",\"cson\",\"iced\"],k:c,i:/\\/\\*/,c:r.concat([e.C(\"###\",\"###\"),e.HCM,{cN:\"function\",b:\"^\\\\s*\"+n+\"\\\\s*=\\\\s*\"+s,e:\"[-=]>\",rB:!0,c:[i,o]},{b:/[:\\(,=]\\s*/,r:0,c:[{cN:\"function\",b:s,e:\"[-=]>\",rB:!0,c:[o]}]},{cN:\"class\",bK:\"class\",e:\"$\",i:/[:=\"\\[\\]]/,c:[{bK:\"extends\",eW:!0,i:/[:=\"\\[\\]]/,c:[i]},i]},{cN:\"attribute\",b:n+\":\",e:\":\",rB:!0,rE:!0,r:0}])}});hljs.registerLanguage(\"cpp\",function(t){var e={cN:\"keyword\",b:\"[a-z\\\\d_]*_t\"},r={keyword:\"false int float while private char catch export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const struct for static_cast|10 union namespace unsigned long volatile static protected bool template mutable if public friend do goto auto void enum else break extern using true class asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue inline delete alignof constexpr decltype noexcept nullptr static_assert thread_local restrict _Bool complex _Complex _Imaginary atomic_bool atomic_char atomic_schar atomic_uchar atomic_short atomic_ushort atomic_int atomic_uint atomic_long atomic_ulong atomic_llong atomic_ullong\",built_in:\"std string cin cout cerr clog stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf\"};return{aliases:[\"c\",\"cc\",\"h\",\"c++\",\"h++\",\"hpp\"],k:r,i:\"</\",c:[e,t.CLCM,t.CBCM,{cN:\"string\",v:[t.inherit(t.QSM,{b:'((u8?|U)|L)?\"'}),{b:'(u8?|U)?R\"',e:'\"',c:[t.BE]},{b:\"'\\\\\\\\?.\",e:\"'\",i:\".\"}]},{cN:\"number\",b:\"\\\\b(\\\\d+(\\\\.\\\\d*)?|\\\\.\\\\d+)(u|U|l|L|ul|UL|f|F)\"},t.CNM,{cN:\"preprocessor\",b:\"#\",e:\"$\",k:\"if else elif endif define undef warning error line pragma\",c:[{b:/\\\\\\n/,r:0},{b:'include\\\\s*[<\"]',e:'[>\"]',k:\"include\",i:\"\\\\n\"},t.CLCM]},{b:\"\\\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\\\s*<\",e:\">\",k:r,c:[\"self\",e]},{b:t.IR+\"::\",k:r},{bK:\"new throw return else\",r:0},{cN:\"function\",b:\"(\"+t.IR+\"\\\\s+)+\"+t.IR+\"\\\\s*\\\\(\",rB:!0,e:/[{;=]/,eE:!0,k:r,c:[{b:t.IR+\"\\\\s*\\\\(\",rB:!0,c:[t.TM],r:0},{cN:\"params\",b:/\\(/,e:/\\)/,k:r,r:0,c:[t.CBCM]},t.CLCM,t.CBCM]}]}});hljs.registerLanguage(\"swift\",function(e){var i={keyword:\"class deinit enum extension func import init let protocol static struct subscript typealias var break case continue default do else fallthrough if in for return switch where while as dynamicType is new super self Self Type __COLUMN__ __FILE__ __FUNCTION__ __LINE__ associativity didSet get infix inout left mutating none nonmutating operator override postfix precedence prefix right set unowned unowned safe unsafe weak willSet\",literal:\"true false nil\",built_in:\"abs advance alignof alignofValue assert bridgeFromObjectiveC bridgeFromObjectiveCUnconditional bridgeToObjectiveC bridgeToObjectiveCUnconditional c contains count countElements countLeadingZeros debugPrint debugPrintln distance dropFirst dropLast dump encodeBitsAsWords enumerate equal filter find getBridgedObjectiveCType getVaList indices insertionSort isBridgedToObjectiveC isBridgedVerbatimToObjectiveC isUniquelyReferenced join lexicographicalCompare map max maxElement min minElement numericCast partition posix print println quickSort reduce reflect reinterpretCast reverse roundUpToAlignment sizeof sizeofValue sort split startsWith strideof strideofValue swap swift toString transcode underestimateCount unsafeReflect withExtendedLifetime withObjectAtPlusZero withUnsafePointer withUnsafePointerToObject withUnsafePointers withVaList\"},t={cN:\"type\",b:\"\\\\b[A-Z][\\\\w']*\",r:0},n=e.C(\"/\\\\*\",\"\\\\*/\",{c:[\"self\"]}),r={cN:\"subst\",b:/\\\\\\(/,e:\"\\\\)\",k:i,c:[]},s={cN:\"number\",b:\"\\\\b([\\\\d_]+(\\\\.[\\\\deE_]+)?|0x[a-fA-F0-9_]+(\\\\.[a-fA-F0-9p_]+)?|0b[01_]+|0o[0-7_]+)\\\\b\",r:0},o=e.inherit(e.QSM,{c:[r,e.BE]});return r.c=[s],{k:i,c:[o,e.CLCM,n,t,s,{cN:\"func\",bK:\"func\",e:\"{\",eE:!0,c:[e.inherit(e.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/,i:/\\(/}),{cN:\"generics\",b:/</,e:/>/,i:/>/},{cN:\"params\",b:/\\(/,e:/\\)/,endsParent:!0,k:i,c:[\"self\",s,o,e.CBCM,{b:\":\"}],i:/[\"']/}],i:/\\[|%/},{cN:\"class\",bK:\"struct protocol class extension enum\",k:i,e:\"\\\\{\",eE:!0,c:[e.inherit(e.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/})]},{cN:\"preprocessor\",b:\"(@assignment|@class_protocol|@exported|@final|@lazy|@noreturn|@NSCopying|@NSManaged|@objc|@optional|@required|@auto_closure|@noreturn|@IBAction|@IBDesignable|@IBInspectable|@IBOutlet|@infix|@prefix|@postfix)\"}]}});hljs.registerLanguage(\"python\",function(e){var r={cN:\"prompt\",b:/^(>>>|\\.\\.\\.) /},b={cN:\"string\",c:[e.BE],v:[{b:/(u|b)?r?'''/,e:/'''/,c:[r],r:10},{b:/(u|b)?r?\"\"\"/,e:/\"\"\"/,c:[r],r:10},{b:/(u|r|ur)'/,e:/'/,r:10},{b:/(u|r|ur)\"/,e:/\"/,r:10},{b:/(b|br)'/,e:/'/},{b:/(b|br)\"/,e:/\"/},e.ASM,e.QSM]},l={cN:\"number\",r:0,v:[{b:e.BNR+\"[lLjJ]?\"},{b:\"\\\\b(0o[0-7]+)[lLjJ]?\"},{b:e.CNR+\"[lLjJ]?\"}]},c={cN:\"params\",b:/\\(/,e:/\\)/,c:[\"self\",r,l,b]};return{aliases:[\"py\",\"gyp\"],k:{keyword:\"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda nonlocal|10 None True False\",built_in:\"Ellipsis NotImplemented\"},i:/(<\\/|->|\\?)/,c:[r,l,b,e.HCM,{v:[{cN:\"function\",bK:\"def\",r:10},{cN:\"class\",bK:\"class\"}],e:/:/,i:/[${=;\\n,]/,c:[e.UTM,c]},{cN:\"decorator\",b:/@/,e:/$/},{b:/\\b(print|exec)\\(/}]}});hljs.registerLanguage(\"sql\",function(e){var t=e.C(\"--\",\"$\");return{cI:!0,i:/[<>]/,c:[{cN:\"operator\",bK:\"begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate savepoint release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup revoke\",e:/;/,eW:!0,k:{keyword:\"abs absolute acos action add adddate addtime aes_decrypt aes_encrypt after aggregate all allocate alter analyze and any are as asc ascii asin assertion at atan atan2 atn2 authorization authors avg backup before begin benchmark between bin binlog bit_and bit_count bit_length bit_or bit_xor both by cache call cascade cascaded case cast catalog ceil ceiling chain change changed char_length character_length charindex charset check checksum checksum_agg choose close coalesce coercibility collate collation collationproperty column columns columns_updated commit compress concat concat_ws concurrent connect connection connection_id consistent constraint constraints continue contributors conv convert convert_tz corresponding cos cot count count_big crc32 create cross cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime data database databases datalength date_add date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts datetimeoffsetfromparts day dayname dayofmonth dayofweek dayofyear deallocate declare decode default deferrable deferred degrees delayed delete des_decrypt des_encrypt des_key_file desc describe descriptor diagnostics difference disconnect distinct distinctrow div do domain double drop dumpfile each else elt enclosed encode encrypt end end-exec engine engines eomonth errors escape escaped event eventdata events except exception exec execute exists exp explain export_set extended external extract fast fetch field fields find_in_set first first_value floor flush for force foreign format found found_rows from from_base64 from_days from_unixtime full function get get_format get_lock getdate getutcdate global go goto grant grants greatest group group_concat grouping grouping_id gtid_subset gtid_subtract handler having help hex high_priority hosts hour ident_current ident_incr ident_seed identified identity if ifnull ignore iif ilike immediate in index indicator inet6_aton inet6_ntoa inet_aton inet_ntoa infile initially inner innodb input insert install instr intersect into is is_free_lock is_ipv4 is_ipv4_compat is_ipv4_mapped is_not is_not_null is_used_lock isdate isnull isolation join key kill language last last_day last_insert_id last_value lcase lead leading least leaves left len lenght level like limit lines ln load load_file local localtime localtimestamp locate lock log log10 log2 logfile logs low_priority lower lpad ltrim make_set makedate maketime master master_pos_wait match matched max md5 medium merge microsecond mid min minute mod mode module month monthname mutex name_const names national natural nchar next no no_write_to_binlog not now nullif nvarchar oct octet_length of old_password on only open optimize option optionally or ord order outer outfile output pad parse partial partition password patindex percent_rank percentile_cont percentile_disc period_add period_diff pi plugin position pow power pragma precision prepare preserve primary prior privileges procedure procedure_analyze processlist profile profiles public publishingservername purge quarter query quick quote quotename radians rand read references regexp relative relaylog release release_lock rename repair repeat replace replicate reset restore restrict return returns reverse revoke right rlike rollback rollup round row row_count rows rpad rtrim savepoint schema scroll sec_to_time second section select serializable server session session_user set sha sha1 sha2 share show sign sin size slave sleep smalldatetimefromparts snapshot some soname soundex sounds_like space sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sql_variant_property sqlstate sqrt square start starting status std stddev stddev_pop stddev_samp stdev stdevp stop str str_to_date straight_join strcmp string stuff subdate substr substring subtime subtring_index sum switchoffset sysdate sysdatetime sysdatetimeoffset system_user sysutcdatetime table tables tablespace tan temporary terminated tertiary_weights then time time_format time_to_sec timediff timefromparts timestamp timestampadd timestampdiff timezone_hour timezone_minute to to_base64 to_days to_seconds todatetimeoffset trailing transaction translation trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse ucase uncompress uncompressed_length unhex unicode uninstall union unique unix_timestamp unknown unlock update upgrade upped upper usage use user user_resources using utc_date utc_time utc_timestamp uuid uuid_short validate_password_strength value values var var_pop var_samp variables variance varp version view warnings week weekday weekofyear weight_string when whenever where with work write xml xor year yearweek zon\",literal:\"true false null\",built_in:\"array bigint binary bit blob boolean char character date dec decimal float int integer interval number numeric real serial smallint varchar varying int8 serial8 text\"},c:[{cN:\"string\",b:\"'\",e:\"'\",c:[e.BE,{b:\"''\"}]},{cN:\"string\",b:'\"',e:'\"',c:[e.BE,{b:'\"\"'}]},{cN:\"string\",b:\"`\",e:\"`\",c:[e.BE]},e.CNM,e.CBCM,t]},e.CBCM,t]}});hljs.registerLanguage(\"java\",function(e){var a=e.UIR+\"(<\"+e.UIR+\">)?\",t=\"false synchronized int abstract float private char boolean static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private\",c=\"\\\\b(0[bB]([01]+[01_]+[01]+|[01]+)|0[xX]([a-fA-F0-9]+[a-fA-F0-9_]+[a-fA-F0-9]+|[a-fA-F0-9]+)|(([\\\\d]+[\\\\d_]+[\\\\d]+|[\\\\d]+)(\\\\.([\\\\d]+[\\\\d_]+[\\\\d]+|[\\\\d]+))?|\\\\.([\\\\d]+[\\\\d_]+[\\\\d]+|[\\\\d]+))([eE][-+]?\\\\d+)?)[lLfF]?\",r={cN:\"number\",b:c,r:0};return{aliases:[\"jsp\"],k:t,i:/<\\//,c:[e.C(\"/\\\\*\\\\*\",\"\\\\*/\",{r:0,c:[{cN:\"doctag\",b:\"@[A-Za-z]+\"}]}),e.CLCM,e.CBCM,e.ASM,e.QSM,{cN:\"class\",bK:\"class interface\",e:/[{;=]/,eE:!0,k:\"class interface\",i:/[:\"\\[\\]]/,c:[{bK:\"extends implements\"},e.UTM]},{bK:\"new throw return else\",r:0},{cN:\"function\",b:\"(\"+a+\"\\\\s+)+\"+e.UIR+\"\\\\s*\\\\(\",rB:!0,e:/[{;=]/,eE:!0,k:t,c:[{b:e.UIR+\"\\\\s*\\\\(\",rB:!0,r:0,c:[e.UTM]},{cN:\"params\",b:/\\(/,e:/\\)/,k:t,r:0,c:[e.ASM,e.QSM,e.CNM,e.CBCM]},e.CLCM,e.CBCM]},r,{cN:\"annotation\",b:\"@[A-Za-z]+\"}]}});hljs.registerLanguage(\"ruby\",function(e){var c=\"[a-zA-Z_]\\\\w*[!?=]?|[-+~]\\\\@|<<|>>|=~|===?|<=>|[<>]=?|\\\\*\\\\*|[-/+%^&*~`|]|\\\\[\\\\]=?\",r=\"and false then defined module in return redo if BEGIN retry end for true self when next until do begin unless END rescue nil else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor\",b={cN:\"doctag\",b:\"@[A-Za-z]+\"},a={cN:\"value\",b:\"#<\",e:\">\"},n=[e.C(\"#\",\"$\",{c:[b]}),e.C(\"^\\\\=begin\",\"^\\\\=end\",{c:[b],r:10}),e.C(\"^__END__\",\"\\\\n$\")],s={cN:\"subst\",b:\"#\\\\{\",e:\"}\",k:r},t={cN:\"string\",c:[e.BE,s],v:[{b:/'/,e:/'/},{b:/\"/,e:/\"/},{b:/`/,e:/`/},{b:\"%[qQwWx]?\\\\(\",e:\"\\\\)\"},{b:\"%[qQwWx]?\\\\[\",e:\"\\\\]\"},{b:\"%[qQwWx]?{\",e:\"}\"},{b:\"%[qQwWx]?<\",e:\">\"},{b:\"%[qQwWx]?/\",e:\"/\"},{b:\"%[qQwWx]?%\",e:\"%\"},{b:\"%[qQwWx]?-\",e:\"-\"},{b:\"%[qQwWx]?\\\\|\",e:\"\\\\|\"},{b:/\\B\\?(\\\\\\d{1,3}|\\\\x[A-Fa-f0-9]{1,2}|\\\\u[A-Fa-f0-9]{4}|\\\\?\\S)\\b/}]},i={cN:\"params\",b:\"\\\\(\",e:\"\\\\)\",k:r},d=[t,a,{cN:\"class\",bK:\"class module\",e:\"$|;\",i:/=/,c:[e.inherit(e.TM,{b:\"[A-Za-z_]\\\\w*(::\\\\w+)*(\\\\?|\\\\!)?\"}),{cN:\"inheritance\",b:\"<\\\\s*\",c:[{cN:\"parent\",b:\"(\"+e.IR+\"::)?\"+e.IR}]}].concat(n)},{cN:\"function\",bK:\"def\",e:\" |$|;\",r:0,c:[e.inherit(e.TM,{b:c}),i].concat(n)},{cN:\"constant\",b:\"(::)?(\\\\b[A-Z]\\\\w*(::)?)+\",r:0},{cN:\"symbol\",b:e.UIR+\"(\\\\!|\\\\?)?:\",r:0},{cN:\"symbol\",b:\":\",c:[t,{b:c}],r:0},{cN:\"number\",b:\"(\\\\b0[0-7_]+)|(\\\\b0x[0-9a-fA-F_]+)|(\\\\b[1-9][0-9_]*(\\\\.[0-9_]+)?)|[0_]\\\\b\",r:0},{cN:\"variable\",b:\"(\\\\$\\\\W)|((\\\\$|\\\\@\\\\@?)(\\\\w+))\"},{b:\"(\"+e.RSR+\")\\\\s*\",c:[a,{cN:\"regexp\",c:[e.BE,s],i:/\\n/,v:[{b:\"/\",e:\"/[a-z]*\"},{b:\"%r{\",e:\"}[a-z]*\"},{b:\"%r\\\\(\",e:\"\\\\)[a-z]*\"},{b:\"%r!\",e:\"![a-z]*\"},{b:\"%r\\\\[\",e:\"\\\\][a-z]*\"}]}].concat(n),r:0}].concat(n);s.c=d,i.c=d;var o=\"[>?]>\",l=\"[\\\\w#]+\\\\(\\\\w+\\\\):\\\\d+:\\\\d+>\",u=\"(\\\\w+-)?\\\\d+\\\\.\\\\d+\\\\.\\\\d(p\\\\d+)?[^>]+>\",N=[{b:/^\\s*=>/,cN:\"status\",starts:{e:\"$\",c:d}},{cN:\"prompt\",b:\"^(\"+o+\"|\"+l+\"|\"+u+\")\",starts:{e:\"$\",c:d}}];return{aliases:[\"rb\",\"gemspec\",\"podspec\",\"thor\",\"irb\"],k:r,c:n.concat(N).concat(d)}});hljs.registerLanguage(\"objectivec\",function(e){var t={cN:\"built_in\",b:\"(AV|CA|CF|CG|CI|MK|MP|NS|UI)\\\\w+\"},i={keyword:\"int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign readwrite self @synchronized id typeof nonatomic super unichar IBOutlet IBAction strong weak copy in out inout bycopy byref oneway __strong __weak __block __autoreleasing @private @protected @public @try @property @end @throw @catch @finally @autoreleasepool @synthesize @dynamic @selector @optional @required\",literal:\"false true FALSE TRUE nil YES NO NULL\",built_in:\"BOOL dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once\"},o=/[a-zA-Z@][a-zA-Z0-9_]*/,n=\"@interface @class @protocol @implementation\";return{aliases:[\"mm\",\"objc\",\"obj-c\"],k:i,l:o,i:\"</\",c:[t,e.CLCM,e.CBCM,e.CNM,e.QSM,{cN:\"string\",v:[{b:'@\"',e:'\"',i:\"\\\\n\",c:[e.BE]},{b:\"'\",e:\"[^\\\\\\\\]'\",i:\"[^\\\\\\\\][^']\"}]},{cN:\"preprocessor\",b:\"#\",e:\"$\",c:[{cN:\"title\",v:[{b:'\"',e:'\"'},{b:\"<\",e:\">\"}]}]},{cN:\"class\",b:\"(\"+n.split(\" \").join(\"|\")+\")\\\\b\",e:\"({|$)\",eE:!0,k:n,l:o,c:[e.UTM]},{cN:\"variable\",b:\"\\\\.\"+e.UIR,r:0}]}});hljs.registerLanguage(\"javascript\",function(e){return{aliases:[\"js\"],k:{keyword:\"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await\",literal:\"true false null undefined NaN Infinity\",built_in:\"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise\"},c:[{cN:\"pi\",r:10,b:/^\\s*['\"]use (strict|asm)['\"]/},e.ASM,e.QSM,{cN:\"string\",b:\"`\",e:\"`\",c:[e.BE,{cN:\"subst\",b:\"\\\\$\\\\{\",e:\"\\\\}\"}]},e.CLCM,e.CBCM,{cN:\"number\",v:[{b:\"\\\\b(0[bB][01]+)\"},{b:\"\\\\b(0[oO][0-7]+)\"},{b:e.CNR}],r:0},{b:\"(\"+e.RSR+\"|\\\\b(case|return|throw)\\\\b)\\\\s*\",k:\"return throw case\",c:[e.CLCM,e.CBCM,e.RM,{b:/</,e:/>\\s*[);\\]]/,r:0,sL:\"xml\"}],r:0},{cN:\"function\",bK:\"function\",e:/\\{/,eE:!0,c:[e.inherit(e.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{cN:\"params\",b:/\\(/,e:/\\)/,eB:!0,eE:!0,c:[e.CLCM,e.CBCM],i:/[\"'\\(]/}],i:/\\[|%/},{b:/\\$[(.]/},{b:\"\\\\.\"+e.IR,r:0},{bK:\"import\",e:\"[;$]\",k:\"import from as\",c:[e.ASM,e.QSM]},{cN:\"class\",bK:\"class\",e:/[{;=]/,eE:!0,i:/[:\"\\[\\]]/,c:[{bK:\"extends\"},e.UTM]}]}});hljs.registerLanguage(\"nginx\",function(e){var r={cN:\"variable\",v:[{b:/\\$\\d+/},{b:/\\$\\{/,e:/}/},{b:\"[\\\\$\\\\@]\"+e.UIR}]},b={eW:!0,l:\"[a-z/_]+\",k:{built_in:\"on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll\"},r:0,i:\"=>\",c:[e.HCM,{cN:\"string\",c:[e.BE,r],v:[{b:/\"/,e:/\"/},{b:/'/,e:/'/}]},{cN:\"url\",b:\"([a-z]+):/\",e:\"\\\\s\",eW:!0,eE:!0,c:[r]},{cN:\"regexp\",c:[e.BE,r],v:[{b:\"\\\\s\\\\^\",e:\"\\\\s|{|;\",rE:!0},{b:\"~\\\\*?\\\\s+\",e:\"\\\\s|{|;\",rE:!0},{b:\"\\\\*(\\\\.[a-z\\\\-]+)+\"},{b:\"([a-z\\\\-]+\\\\.)+\\\\*\"}]},{cN:\"number\",b:\"\\\\b\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}\\\\.\\\\d{1,3}(:\\\\d{1,5})?\\\\b\"},{cN:\"number\",b:\"\\\\b\\\\d+[kKmMgGdshdwy]*\\\\b\",r:0},r]};return{aliases:[\"nginxconf\"],c:[e.HCM,{b:e.UIR+\"\\\\s\",e:\";|{\",rB:!0,c:[{cN:\"title\",b:e.UIR,starts:b}],r:0}],i:\"[^\\\\s\\\\}]\"}});hljs.registerLanguage(\"markdown\",function(e){return{aliases:[\"md\",\"mkdown\",\"mkd\"],c:[{cN:\"header\",v:[{b:\"^#{1,6}\",e:\"$\"},{b:\"^.+?\\\\n[=-]{2,}$\"}]},{b:\"<\",e:\">\",sL:\"xml\",r:0},{cN:\"bullet\",b:\"^([*+-]|(\\\\d+\\\\.))\\\\s+\"},{cN:\"strong\",b:\"[*_]{2}.+?[*_]{2}\"},{cN:\"emphasis\",v:[{b:\"\\\\*.+?\\\\*\"},{b:\"_.+?_\",r:0}]},{cN:\"blockquote\",b:\"^>\\\\s+\",e:\"$\"},{cN:\"code\",v:[{b:\"`.+?`\"},{b:\"^( {4}|\t)\",e:\"$\",r:0}]},{cN:\"horizontal_rule\",b:\"^[-\\\\*]{3,}\",e:\"$\"},{b:\"\\\\[.+?\\\\][\\\\(\\\\[].*?[\\\\)\\\\]]\",rB:!0,c:[{cN:\"link_label\",b:\"\\\\[\",e:\"\\\\]\",eB:!0,rE:!0,r:0},{cN:\"link_url\",b:\"\\\\]\\\\(\",e:\"\\\\)\",eB:!0,eE:!0},{cN:\"link_reference\",b:\"\\\\]\\\\[\",e:\"\\\\]\",eB:!0,eE:!0}],r:10},{b:\"^\\\\[.+\\\\]:\",rB:!0,c:[{cN:\"link_reference\",b:\"\\\\[\",e:\"\\\\]:\",eB:!0,eE:!0,starts:{cN:\"link_url\",e:\"$\"}}]}]}});hljs.registerLanguage(\"json\",function(e){var t={literal:\"true false null\"},i=[e.QSM,e.CNM],l={cN:\"value\",e:\",\",eW:!0,eE:!0,c:i,k:t},c={b:\"{\",e:\"}\",c:[{cN:\"attribute\",b:'\\\\s*\"',e:'\"\\\\s*:\\\\s*',eB:!0,eE:!0,c:[e.BE],i:\"\\\\n\",starts:l}],i:\"\\\\S\"},n={b:\"\\\\[\",e:\"\\\\]\",c:[e.inherit(l,{cN:null})],i:\"\\\\S\"};return i.splice(i.length,0,c,n),{c:i,k:t,i:\"\\\\S\"}});hljs.registerLanguage(\"php\",function(e){var c={cN:\"variable\",b:\"\\\\$+[a-zA-Z_-][a-zA-Z0-9_-]*\"},a={cN:\"preprocessor\",b:/<\\?(php)?|\\?>/},i={cN:\"string\",c:[e.BE,a],v:[{b:'b\"',e:'\"'},{b:\"b'\",e:\"'\"},e.inherit(e.ASM,{i:null}),e.inherit(e.QSM,{i:null})]},n={v:[e.BNM,e.CNM]};return{aliases:[\"php3\",\"php4\",\"php5\",\"php6\"],cI:!0,k:\"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally\",c:[e.CLCM,e.HCM,e.C(\"/\\\\*\",\"\\\\*/\",{c:[{cN:\"doctag\",b:\"@[A-Za-z]+\"},a]}),e.C(\"__halt_compiler.+?;\",!1,{eW:!0,k:\"__halt_compiler\",l:e.UIR}),{cN:\"string\",b:\"<<<['\\\"]?\\\\w+['\\\"]?$\",e:\"^\\\\w+;\",c:[e.BE]},a,c,{b:/(::|->)+[a-zA-Z_\\x7f-\\xff][a-zA-Z0-9_\\x7f-\\xff]*/},{cN:\"function\",bK:\"function\",e:/[;{]/,eE:!0,i:\"\\\\$|\\\\[|%\",c:[e.UTM,{cN:\"params\",b:\"\\\\(\",e:\"\\\\)\",c:[\"self\",c,e.CBCM,i,n]}]},{cN:\"class\",bK:\"class interface\",e:\"{\",eE:!0,i:/[:\\(\\$\"]/,c:[{bK:\"extends implements\"},e.UTM]},{bK:\"namespace\",e:\";\",i:/[\\.']/,c:[e.UTM]},{bK:\"use\",e:\";\",c:[e.UTM]},{b:\"=>\"},i,n]}});hljs.registerLanguage(\"diff\",function(e){return{aliases:[\"patch\"],c:[{cN:\"chunk\",r:10,v:[{b:/^@@ +\\-\\d+,\\d+ +\\+\\d+,\\d+ +@@$/},{b:/^\\*\\*\\* +\\d+,\\d+ +\\*\\*\\*\\*$/},{b:/^\\-\\-\\- +\\d+,\\d+ +\\-\\-\\-\\-$/}]},{cN:\"header\",v:[{b:/Index: /,e:/$/},{b:/=====/,e:/=====$/},{b:/^\\-\\-\\-/,e:/$/},{b:/^\\*{3} /,e:/$/},{b:/^\\+\\+\\+/,e:/$/},{b:/\\*{5}/,e:/\\*{5}$/}]},{cN:\"addition\",b:\"^\\\\+\",e:\"$\"},{cN:\"deletion\",b:\"^\\\\-\",e:\"$\"},{cN:\"change\",b:\"^\\\\!\",e:\"$\"}]}});hljs.registerLanguage(\"apache\",function(e){var r={cN:\"number\",b:\"[\\\\$%]\\\\d+\"};return{aliases:[\"apacheconf\"],cI:!0,c:[e.HCM,{cN:\"tag\",b:\"</?\",e:\">\"},{cN:\"keyword\",b:/\\w+/,r:0,k:{common:\"order deny allow setenv rewriterule rewriteengine rewritecond documentroot sethandler errordocument loadmodule options header listen serverroot servername\"},starts:{e:/$/,r:0,k:{literal:\"on off all\"},c:[{cN:\"sqbracket\",b:\"\\\\s\\\\[\",e:\"\\\\]$\"},{cN:\"cbracket\",b:\"[\\\\$%]\\\\{\",e:\"\\\\}\",c:[\"self\",r]},r,e.QSM]}}],i:/\\S/}});hljs.registerLanguage(\"http\",function(t){return{aliases:[\"https\"],i:\"\\\\S\",c:[{cN:\"status\",b:\"^HTTP/[0-9\\\\.]+\",e:\"$\",c:[{cN:\"number\",b:\"\\\\b\\\\d{3}\\\\b\"}]},{cN:\"request\",b:\"^[A-Z]+ (.*?) HTTP/[0-9\\\\.]+$\",rB:!0,e:\"$\",c:[{cN:\"string\",b:\" \",e:\" \",eB:!0,eE:!0}]},{cN:\"attribute\",b:\"^\\\\w\",e:\": \",eE:!0,i:\"\\\\n|\\\\s|=\",starts:{cN:\"string\",e:\"$\"}},{b:\"\\\\n\\\\n\",starts:{sL:\"\",eW:!0}}]}});hljs.registerLanguage(\"css\",function(e){var c=\"[a-zA-Z-][a-zA-Z0-9_-]*\",a={cN:\"function\",b:c+\"\\\\(\",rB:!0,eE:!0,e:\"\\\\(\"},r={cN:\"rule\",b:/[A-Z\\_\\.\\-]+\\s*:/,rB:!0,e:\";\",eW:!0,c:[{cN:\"attribute\",b:/\\S/,e:\":\",eE:!0,starts:{cN:\"value\",eW:!0,eE:!0,c:[a,e.CSSNM,e.QSM,e.ASM,e.CBCM,{cN:\"hexcolor\",b:\"#[0-9A-Fa-f]+\"},{cN:\"important\",b:\"!important\"}]}}]};return{cI:!0,i:/[=\\/|'\\$]/,c:[e.CBCM,r,{cN:\"id\",b:/\\#[A-Za-z0-9_-]+/},{cN:\"class\",b:/\\.[A-Za-z0-9_-]+/},{cN:\"attr_selector\",b:/\\[/,e:/\\]/,i:\"$\"},{cN:\"pseudo\",b:/:(:)?[a-zA-Z0-9\\_\\-\\+\\(\\)\"']+/},{cN:\"at_rule\",b:\"@(font-face|page)\",l:\"[a-z-]+\",k:\"font-face page\"},{cN:\"at_rule\",b:\"@\",e:\"[{;]\",c:[{cN:\"keyword\",b:/\\S+/},{b:/\\s/,eW:!0,eE:!0,r:0,c:[a,e.ASM,e.QSM,e.CSSNM]}]},{cN:\"tag\",b:c,r:0},{cN:\"rules\",b:\"{\",e:\"}\",i:/\\S/,c:[e.CBCM,r]}]}});hljs.registerLanguage(\"cs\",function(e){var r=\"abstract as base bool break byte case catch char checked const continue decimal dynamic default delegate do double else enum event explicit extern false finally fixed float for foreach goto if implicit in int interface internal is lock long null when object operator out override params private protected public readonly ref sbyte sealed short sizeof stackalloc static string struct switch this true try typeof uint ulong unchecked unsafe ushort using virtual volatile void while async protected public private internal ascending descending from get group into join let orderby partial select set value var where yield\",t=e.IR+\"(<\"+e.IR+\">)?\";return{aliases:[\"csharp\"],k:r,i:/::/,c:[e.C(\"///\",\"$\",{rB:!0,c:[{cN:\"xmlDocTag\",v:[{b:\"///\",r:0},{b:\"<!--|-->\"},{b:\"</?\",e:\">\"}]}]}),e.CLCM,e.CBCM,{cN:\"preprocessor\",b:\"#\",e:\"$\",k:\"if else elif endif define undef warning error line region endregion pragma checksum\"},{cN:\"string\",b:'@\"',e:'\"',c:[{b:'\"\"'}]},e.ASM,e.QSM,e.CNM,{bK:\"class interface\",e:/[{;=]/,i:/[^\\s:]/,c:[e.TM,e.CLCM,e.CBCM]},{bK:\"namespace\",e:/[{;=]/,i:/[^\\s:]/,c:[{cN:\"title\",b:\"[a-zA-Z](\\\\.?\\\\w)*\",r:0},e.CLCM,e.CBCM]},{bK:\"new return throw await\",r:0},{cN:\"function\",b:\"(\"+t+\"\\\\s+)+\"+e.IR+\"\\\\s*\\\\(\",rB:!0,e:/[{;=]/,eE:!0,k:r,c:[{b:e.IR+\"\\\\s*\\\\(\",rB:!0,c:[e.TM],r:0},{cN:\"params\",b:/\\(/,e:/\\)/,eB:!0,eE:!0,k:r,r:0,c:[e.ASM,e.QSM,e.CNM,e.CBCM]},e.CLCM,e.CBCM]}]}});hljs.registerLanguage(\"xml\",function(t){var e=\"[A-Za-z0-9\\\\._:-]+\",s={b:/<\\?(php)?(?!\\w)/,e:/\\?>/,sL:\"php\",subLanguageMode:\"continuous\"},c={eW:!0,i:/</,r:0,c:[s,{cN:\"attribute\",b:e,r:0},{b:\"=\",r:0,c:[{cN:\"value\",c:[s],v:[{b:/\"/,e:/\"/},{b:/'/,e:/'/},{b:/[^\\s\\/>]+/}]}]}]};return{aliases:[\"html\",\"xhtml\",\"rss\",\"atom\",\"xsl\",\"plist\"],cI:!0,c:[{cN:\"doctype\",b:\"<!DOCTYPE\",e:\">\",r:10,c:[{b:\"\\\\[\",e:\"\\\\]\"}]},t.C(\"<!--\",\"-->\",{r:10}),{cN:\"cdata\",b:\"<\\\\!\\\\[CDATA\\\\[\",e:\"\\\\]\\\\]>\",r:10},{cN:\"tag\",b:\"<style(?=\\\\s|>|$)\",e:\">\",k:{title:\"style\"},c:[c],starts:{e:\"</style>\",rE:!0,sL:\"css\"}},{cN:\"tag\",b:\"<script(?=\\\\s|>|$)\",e:\">\",k:{title:\"script\"},c:[c],starts:{e:\"</script>\",rE:!0,sL:\"\"}},s,{cN:\"pi\",b:/<\\?\\w+/,e:/\\?>/,r:10},{cN:\"tag\",b:\"</?\",e:\"/?>\",c:[{cN:\"title\",b:/[^ \\/><\\n\\t]+/,r:0},c]}]}});hljs.registerLanguage(\"makefile\",function(e){var a={cN:\"variable\",b:/\\$\\(/,e:/\\)/,c:[e.BE]};return{aliases:[\"mk\",\"mak\"],c:[e.HCM,{b:/^\\w+\\s*\\W*=/,rB:!0,r:0,starts:{cN:\"constant\",e:/\\s*\\W*=/,eE:!0,starts:{e:/$/,r:0,c:[a]}}},{cN:\"title\",b:/^[\\w]+:\\s*$/},{cN:\"phony\",b:/^\\.PHONY:/,e:/$/,k:\".PHONY\",l:/[\\.\\w]+/},{b:/^\\t+/,e:/$/,r:0,c:[e.QSM,a]}]}});hljs.registerLanguage(\"ini\",function(e){return{cI:!0,i:/\\S/,c:[e.C(\";\",\"$\"),{cN:\"title\",b:\"^\\\\[\",e:\"\\\\]\"},{cN:\"setting\",b:\"^[a-z0-9\\\\[\\\\]_-]+[ \\\\t]*=[ \\\\t]*\",e:\"$\",c:[{cN:\"value\",eW:!0,k:\"on off true false yes no\",c:[e.QSM,e.NM],r:0}]}]}});hljs.registerLanguage(\"perl\",function(e){var t=\"getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when\",r={cN:\"subst\",b:\"[$@]\\\\{\",e:\"\\\\}\",k:t},s={b:\"->{\",e:\"}\"},n={cN:\"variable\",v:[{b:/\\$\\d/},{b:/[\\$%@](\\^\\w\\b|#\\w+(::\\w+)*|{\\w+}|\\w+(::\\w*)*)/},{b:/[\\$%@][^\\s\\w{]/,r:0}]},i=e.C(\"^(__END__|__DATA__)\",\"\\\\n$\",{r:5}),o=[e.BE,r,n],a=[n,e.HCM,i,e.C(\"^\\\\=\\\\w\",\"\\\\=cut\",{eW:!0}),s,{cN:\"string\",c:o,v:[{b:\"q[qwxr]?\\\\s*\\\\(\",e:\"\\\\)\",r:5},{b:\"q[qwxr]?\\\\s*\\\\[\",e:\"\\\\]\",r:5},{b:\"q[qwxr]?\\\\s*\\\\{\",e:\"\\\\}\",r:5},{b:\"q[qwxr]?\\\\s*\\\\|\",e:\"\\\\|\",r:5},{b:\"q[qwxr]?\\\\s*\\\\<\",e:\"\\\\>\",r:5},{b:\"qw\\\\s+q\",e:\"q\",r:5},{b:\"'\",e:\"'\",c:[e.BE]},{b:'\"',e:'\"'},{b:\"`\",e:\"`\",c:[e.BE]},{b:\"{\\\\w+}\",c:[],r:0},{b:\"-?\\\\w+\\\\s*\\\\=\\\\>\",c:[],r:0}]},{cN:\"number\",b:\"(\\\\b0[0-7_]+)|(\\\\b0x[0-9a-fA-F_]+)|(\\\\b[1-9][0-9_]*(\\\\.[0-9_]+)?)|[0_]\\\\b\",r:0},{b:\"(\\\\/\\\\/|\"+e.RSR+\"|\\\\b(split|return|print|reverse|grep)\\\\b)\\\\s*\",k:\"split return print reverse grep\",r:0,c:[e.HCM,i,{cN:\"regexp\",b:\"(s|tr|y)/(\\\\\\\\.|[^/])*/(\\\\\\\\.|[^/])*/[a-z]*\",r:10},{cN:\"regexp\",b:\"(m|qr)?/\",e:\"/[a-z]*\",c:[e.BE],r:0}]},{cN:\"sub\",bK:\"sub\",e:\"(\\\\s*\\\\(.*?\\\\))?[;{]\",r:5},{cN:\"operator\",b:\"-\\\\w\\\\b\",r:0}];return r.c=a,s.c=a,{aliases:[\"pl\"],k:t,c:a}});hljs.registerLanguage(\"bash\",function(e){var t={cN:\"variable\",v:[{b:/\\$[\\w\\d#@][\\w\\d_]*/},{b:/\\$\\{(.*?)}/}]},s={cN:\"string\",b:/\"/,e:/\"/,c:[e.BE,t,{cN:\"variable\",b:/\\$\\(/,e:/\\)/,c:[e.BE]}]},a={cN:\"string\",b:/'/,e:/'/};return{aliases:[\"sh\",\"zsh\"],l:/-?[a-z\\.]+/,k:{keyword:\"if then else elif fi for while in do done case esac function\",literal:\"true false\",built_in:\"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp\",operator:\"-ne -eq -lt -gt -f -d -e -s -l -a\"},c:[{cN:\"shebang\",b:/^#![^\\n]+sh\\s*$/,r:10},{cN:\"function\",b:/\\w[\\w\\d_]*\\s*\\(\\s*\\)\\s*\\{/,rB:!0,c:[e.inherit(e.TM,{b:/\\w[\\w\\d_]*/})],r:0},e.HCM,e.NM,s,a,t]}});","\nTemplate.__checkName(\"blogNotFound\");\nTemplate[\"blogNotFound\"] = new Template(\"Template.blogNotFound\", (function() {\n  var view = this;\n  return \"\";\n}));\n","\nTemplate.__checkName(\"custom\");\nTemplate[\"custom\"] = new Template(\"Template.custom\", (function() {\n  var view = this;\n  return Blaze._TemplateWith(function() {\n    return {\n      template: Spacebars.call(view.lookup(\"template\"))\n    };\n  }, function() {\n    return Spacebars.include(function() {\n      return Spacebars.call(Template.__dynamic);\n    });\n  });\n}));\n","Template.custom.helpers\n  template: ->\n    name = Router.current().route.getName()\n\n    # Tagged view uses 'blogIndex' template\n    if name is 'blogTagged'\n      name = 'blogIndex'\n\n    if Blog.settings[\"#{name}Template\"]\n      return Blog.settings[\"#{name}Template\"]\n\n    name\n","\nTemplate.__checkName(\"blogAdmin\");\nTemplate[\"blogAdmin\"] = new Template(\"Template.blogAdmin\", (function() {\n  var view = this;\n  return HTML.DIV({\n    id: \"blog-admin\"\n  }, \"\\n    \", HTML.DIV({\n    \"class\": \"container blog-admin-index\"\n  }, \"\\n      \", HTML.Raw('<div class=\"row\">\\n        <div class=\"col-md-3\">\\n          <h1>Blog Admin</h1>\\n        </div>\\n        <div class=\"col-md-9\">\\n          <a href=\"#\" class=\"for-new-blog btn btn-default\">\\n            <i class=\"fa fa-plus\"></i> Add Blog Post\\n          </a>\\n          <select class=\"for-filtering form-control\">\\n            <option value=\"all\">All Posts</option>\\n            <option value=\"mine\">My Posts</option>\\n          </select>\\n        </div>\\n      </div>'), \"\\n      \", HTML.DIV({\n    \"class\": \"row\"\n  }, \"\\n        \", HTML.DIV({\n    \"class\": \"col-md-12\"\n  }, \"\\n          \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"posts\"));\n  }, function() {\n    return [ \"\\n            \", Blaze._TemplateWith(function() {\n      return {\n        collection: Spacebars.call(view.lookup(\"posts\")),\n        settings: Spacebars.call(view.lookup(\"table\"))\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"reactiveTable\"));\n    }), \"\\n          \" ];\n  }, function() {\n    return [ \"\\n            \", HTML.A({\n      href: \"#\",\n      \"class\": \"for-new-blog\"\n    }, \"Create the first blog\"), \"\\n          \" ];\n  }), \"\\n        \"), \"\\n      \"), \"\\n    \"), \"\\n  \");\n}));\n\nTemplate.__checkName(\"blogAdminTitleColumn\");\nTemplate[\"blogAdminTitleColumn\"] = new Template(\"Template.blogAdminTitleColumn\", (function() {\n  var view = this;\n  return [ HTML.H4(HTML.A({\n    target: \"_blank\",\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"blogShow\");\n    }\n  }, Blaze.View(\"lookup:title\", function() {\n    return Spacebars.mustache(view.lookup(\"title\"));\n  }))), \"\\n  \", HTML.P(Blaze.View(\"lookup:excerpt\", function() {\n    return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"excerpt\")));\n  })) ];\n}));\n\nTemplate.__checkName(\"blogAdminAuthorColumn\");\nTemplate[\"blogAdminAuthorColumn\"] = new Template(\"Template.blogAdminAuthorColumn\", (function() {\n  var view = this;\n  return Blaze.View(\"lookup:authorName\", function() {\n    return Spacebars.mustache(view.lookup(\"authorName\"));\n  });\n}));\n\nTemplate.__checkName(\"blogAdminUpdatedColumn\");\nTemplate[\"blogAdminUpdatedColumn\"] = new Template(\"Template.blogAdminUpdatedColumn\", (function() {\n  var view = this;\n  return Blaze.View(\"lookup:blogFormatDate\", function() {\n    return Spacebars.mustache(view.lookup(\"blogFormatDate\"), view.lookup(\"updatedAt\"));\n  });\n}));\n\nTemplate.__checkName(\"blogAdminPublishedColumn\");\nTemplate[\"blogAdminPublishedColumn\"] = new Template(\"Template.blogAdminPublishedColumn\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"published\"));\n  }, function() {\n    return [ \"\\n    \", Blaze.View(\"lookup:blogFormatDate\", function() {\n      return Spacebars.mustache(view.lookup(\"blogFormatDate\"), view.lookup(\"publishedAt\"));\n    }), \"\\n  \" ];\n  }, function() {\n    return [ \"\\n    \", HTML.I({\n      \"class\": \"fa fa-ban\"\n    }), \"\\n  \" ];\n  });\n}));\n\nTemplate.__checkName(\"blogAdminStatusColumn\");\nTemplate[\"blogAdminStatusColumn\"] = new Template(\"Template.blogAdminStatusColumn\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"published\"));\n  }, function() {\n    return [ \"\\n    \", HTML.A({\n      \"class\": \"for-unpublish\",\n      href: \"#\"\n    }, \"Draft\"), \" | \", HTML.SPAN({\n      \"class\": \"selected\"\n    }, \"Published\"), \"\\n  \" ];\n  }, function() {\n    return [ \"\\n    \", HTML.SPAN({\n      \"class\": \"selected\"\n    }, \"Draft\"), \" | \", HTML.A({\n      \"class\": \"for-publish\",\n      href: \"#\"\n    }, \"Published\"), \"\\n  \" ];\n  });\n}));\n\nTemplate.__checkName(\"blogAdminEditColumn\");\nTemplate[\"blogAdminEditColumn\"] = new Template(\"Template.blogAdminEditColumn\", (function() {\n  var view = this;\n  return HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"blogAdminEdit\");\n    }\n  }, HTML.Raw('<i class=\"fa fa-edit\"></i>'));\n}));\n\nTemplate.__checkName(\"blogAdminDeleteColumn\");\nTemplate[\"blogAdminDeleteColumn\"] = new Template(\"Template.blogAdminDeleteColumn\", (function() {\n  var view = this;\n  return HTML.Raw('<a href=\"#\" class=\"delete\"><i class=\"fa fa-trash-o\"></i></a>');\n}));\n","Template.blogAdmin.rendered = ->\n  $(@find '.reactive-table').addClass 'table-bordered'\n\nTemplate.blogAdmin.helpers\n\n  posts: ->\n    # Call toArray() because minimongoid does not return a true array, and\n    # reactive-table expects a true array (or collection)\n    results = Post.all(sort: updatedAt: -1).toArray()\n\n    if _.size Session.get 'filters'\n      results = _(results).where Session.get('filters')\n\n    results\n\n  table: ->\n    rowsPerPage: 20\n    showFilter: false\n    showNavigation: 'auto'\n    useFontAwesome: true\n    fields: [\n      { key: 'title', label: 'Title', tmpl: Template.blogAdminTitleColumn }\n      { key: 'userId', label: 'Author', tmpl: Template.blogAdminAuthorColumn }\n      { key: 'updatedAt', label: 'Updated At', tmpl: Template.blogAdminUpdatedColumn, sort: 'descending', sortByValue: true }\n      { key: 'publishedAt', label: 'Published At', tmpl: Template.blogAdminPublishedColumn, sortByValue: true }\n      { key: 'published', label: 'Status', tmpl: Template.blogAdminStatusColumn }\n      { key: 'id', label: 'Edit', tmpl: Template.blogAdminEditColumn }\n      { key: 'id', label: 'Delete', tmpl: Template.blogAdminDeleteColumn }\n    ]\n\nTemplate.blogAdmin.events\n\n  'click .for-new-blog': (e, tpl) ->\n    e.preventDefault()\n\n    Router.go 'blogAdminEdit', id: Random.id()\n\n  'change .for-filtering': (e) ->\n    e.preventDefault()\n\n    filters = {}\n    if $(e.currentTarget).val() == 'mine'\n      filters.userId = Meteor.userId()\n\n    Session.set 'filters', filters\n\nTemplate.blogAdminStatusColumn.events\n\n  'click .for-publish': (e, tpl) ->\n    e.preventDefault()\n    @update\n      published: true\n      publishedAt: new Date()\n\n  'click .for-unpublish': (e, tpl) ->\n    e.preventDefault()\n    @update\n      published: false\n      publishedAt: null\n\nTemplate.blogAdminDeleteColumn.events\n\n  'click .delete': (e, tpl) ->\n    e.preventDefault()\n\n    if confirm('Are you sure?')\n      $(e.currentTarget).parents('tr').fadeOut =>\n        @destroy()\n","\nTemplate.__checkName(\"blogAdminEdit\");\nTemplate[\"blogAdminEdit\"] = new Template(\"Template.blogAdminEdit\", (function() {\n  var view = this;\n  return [ Spacebars.include(view.lookupTemplate(\"notifications\")), \"\\n  \", HTML.DIV({\n    id: \"blog-admin\"\n  }, \"\\n    \", HTML.DIV({\n    \"class\": \"container blog-admin-edit\"\n  }, \"\\n      \", HTML.DIV({\n    \"class\": \"row\"\n  }, \"\\n        \", HTML.DIV({\n    \"class\": \"col-md-8 col-md-offset-2\"\n  }, \"\\n          \", HTML.Raw(\"<h1>\\n            <strong>Edit Post</strong>\\n          </h1>\"), \"\\n\\n          \", Spacebars.With(function() {\n    return Spacebars.call(view.lookup(\"post\"));\n  }, function() {\n    return [ \"\\n            \", HTML.FORM(\"\\n              \", HTML.DIV({\n      \"class\": \"row form-group\"\n    }, \"\\n                \", HTML.DIV({\n      \"class\": \"col-md-9\"\n    }, \"\\n                  \", HTML.LABEL(\"Title\"), \"\\n                  \", HTML.INPUT({\n      tabindex: \"1\",\n      type: \"text\",\n      \"class\": \"form-control\",\n      name: \"title\",\n      placeholder: \"Title\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"title\"));\n      }\n    }), \"\\n                \"), \"\\n                \", HTML.DIV({\n      \"class\": \"col-md-3\"\n    }, \"\\n                \", HTML.LABEL({\n      \"for\": \"featured-image\"\n    }, \"Featured Image\"), \"\\n                  \", HTML.INPUT({\n      type: \"file\",\n      id: \"input-featured-image\",\n      name: \"featured-image\",\n      \"class\": \"hidden\"\n    }), \"\\n                  \", HTML.LABEL({\n      \"class\": \"btn btn-info\",\n      \"for\": \"input-featured-image\"\n    }, \"\\n                    \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"featuredImage\"));\n    }, function() {\n      return [ \"\\n                      \", Blaze.View(\"lookup:featuredImageName\", function() {\n        return Spacebars.mustache(view.lookup(\"featuredImageName\"));\n      }), \"\\n                    \" ];\n    }, function() {\n      return \"\\n                      Select File\\n                    \";\n    }), \"\\n                  \"), \"\\n                  \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"featuredImage\"));\n    }, function() {\n      return [ \"\\n                    \", HTML.CharRef({\n        html: \"&nbsp;\",\n        str: \"\"\n      }), HTML.A({\n        href: \"#\",\n        \"data-action\": \"delete-featured\"\n      }, HTML.I({\n        \"class\": \"fa fa-trash-o\"\n      })), \"\\n                  \" ];\n    }), \"\\n                  \", HTML.P({\n      \"class\": \"help-block\"\n    }, \"\\n                    \", HTML.DIV({\n      \"class\": \"checkbox\"\n    }, \"\\n                      \", HTML.LABEL({\n      \"for\": \"background-title\"\n    }, \"\\n                        \", HTML.INPUT({\n      type: \"checkbox\",\n      name: \"background-title\",\n      checked: function() {\n        return Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"titleBackground\"));\n        }, function() {\n          return \"checked\";\n        });\n      }\n    }), \" Use as background for title\\n                      \"), \"\\n                    \"), \"\\n                  \"), \"\\n                \"), \"\\n              \"), \"\\n              \", HTML.DIV({\n      \"class\": \"row form-group\"\n    }, \"\\n                \", HTML.DIV({\n      \"class\": \"col-md-4\"\n    }, \"\\n                  \", HTML.LABEL(\"Tags\"), \"\\n                  \", HTML.INPUT({\n      tabindex: \"2\",\n      type: \"text\",\n      \"class\": \"form-control\",\n      name: \"tags\",\n      placeholder: \"Type in a tag & hit enter\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"joinTags\"), view.lookup(\"tags\"));\n      },\n      \"data-role\": \"tagsinput\"\n    }), \"\\n                \"), \"\\n                \", HTML.DIV({\n      \"class\": \"col-md-4\"\n    }, \"\\n                  \", HTML.LABEL(\"Slug\"), \"\\n                  \", HTML.INPUT({\n      type: \"text\",\n      \"class\": \"form-control\",\n      name: \"slug\",\n      placeholder: \"Slug\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"slug\"));\n      }\n    }), \"\\n                \"), \"\\n                \", HTML.DIV({\n      \"class\": \"col-md-4\"\n    }, \"\\n                  \", HTML.LABEL(\"Meta Description\"), \"\\n                  \", HTML.INPUT({\n      type: \"text\",\n      \"class\": \"form-control\",\n      name: \"description\",\n      placeholder: \"Meta Description\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"description\"));\n      }\n    }), \"\\n                \"), \"\\n              \"), \"\\n              \", HTML.DIV({\n      \"class\": \"row form-group\"\n    }, \"\\n                \", HTML.DIV({\n      \"class\": \"col-md-12\"\n    }, \"\\n                  \", HTML.LABEL(\"Body\"), \"\\n                  \", HTML.DIV({\n      \"class\": \"edit-mode\"\n    }, \"\\n                    \", HTML.A({\n      href: \"#\",\n      \"class\": \"selected visual-toggle\"\n    }, \"Visual\"), \"\\n                    -\\n                    \", HTML.A({\n      href: \"#\",\n      \"class\": \"html-toggle\"\n    }, \"HTML\"), \"\\n                  \"), \"\\n                  \", HTML.TEXTAREA({\n      hidden: \"\",\n      \"class\": \"html-editor col-xs-12\"\n    }), \"\\n                  \", HTML.DIV({\n      \"class\": \"editable\",\n      tabindex: \"3\"\n    }), \"\\n                  \", HTML.BUTTON({\n      type: \"submit\",\n      \"class\": \"btn btn-default\"\n    }, \"\\n                    \", HTML.I({\n      \"class\": \"fa fa-save\"\n    }), \" Save\\n                  \"), \"\\n                  \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"pathFor\"), \"blogAdmin\");\n      },\n      \"class\": \"btn btn-default\"\n    }, \"\\n                    \", HTML.I({\n      \"class\": \"fa fa-ban\"\n    }), \" Cancel\\n                  \"), \"\\n                \"), \"\\n              \"), \"\\n            \"), \"\\n          \" ];\n  }), \"\\n\\n        \"), \"\\n      \"), \"\\n    \"), \"\\n  \") ];\n}));\n","class @BlogEditor extends MediumEditor\n\n  # FACTORY\n  @make: (tpl) ->\n    $editable = $ '.editable'\n\n    if $editable.data('mediumEditor')\n      return $editable.data('mediumEditor')\n\n    # Set up the medium editor with image upload\n    editor = new BlogEditor $editable[0],\n      placeholder: ''\n      firstHeader: 'h1'\n      secondHeader: 'h2'\n      buttonLabels: 'fontawesome'\n      buttons:\n        ['bold', 'italic', 'underline', 'anchor', 'pre', 'header1', 'header2', 'orderedlist', 'unorderedlist', 'quote', 'image']\n      onShowToolbar: =>\n        # Disable medium toolbar if we are in a code block\n        if @inPreformatted()\n          editor.toolbar.hideToolbar()\n\n\n    tpl.$('.editable').mediumInsert\n      editor: editor\n      enabled: true\n      addons:\n        images:\n          uploadFile: ($placeholder, file, that) ->\n            # Use CollectionFS + Amazon S3\n            if Meteor.settings?.public?.blog?.useS3\n              FS.Utility.eachFile event, (file) ->\n                S3Files.insert file, (err, fileObj) ->\n                  Tracker.autorun (c) ->\n                    theFile = S3Files.find({_id: fileObj._id}).fetch()[0]\n                    if theFile.isUploaded() and theFile.url?()\n                      that.uploadCompleted { responseText: theFile.url() }, $placeholder\n                      c.stop()\n                      return\n                    else\n                      $progress = $('.progress:first', this.$el)\n                      complete = theFile.uploadProgress() ? 0\n                      $progress.attr 'value', complete\n                      $progress.html complete\n            # Use Local Filestore\n            else\n              id = FilesLocal.insert\n                _id: Random.id()\n                contentType: 'image/jpeg'\n\n              $.ajax\n                type: \"post\"\n                url: \"/fs/#{id}\"\n                xhr: ->\n                  xhr = new XMLHttpRequest()\n                  xhr.upload.onprogress = that.updateProgressBar\n                  xhr\n\n                cache: false\n                contentType: false\n                complete: (jqxhr) ->\n                  that.uploadCompleted { responseText: \"/fs/#{id}\" }, $placeholder\n                  return\n\n                processData: false\n                data: that.options.formatData(file)\n\n        #embeds: {}\n\n\n    $editable.data 'mediumEditor', editor\n    editor\n\n  # INSTANCE METHODS\n\n  constructor: ->\n    @init.apply @, arguments\n\n  # Return medium editor's contents\n  contents: ->\n    @serialize()['element-0'].value\n\n  # Return medium editor's contents thru HTML beautifier\n  pretty: ->\n    html_beautify @contents(),\n      preserve_newlines: false\n      indent_size: 2\n      wrap_line_length: 0\n\n  # Highlight code blocks\n  highlightSyntax: ->\n    hljs.configure userBR: true\n\n    br2nl = (i, html) ->\n      html\n        # medium-editor leaves <br>'s in <pre> tags, which screws up\n        # highlight.js. Replace them with actual newlines.\n        .replace(/<br>/g, \"\\n\")\n        # Strip out highlight.js tags so we don't create them multiple times\n        .replace(/<[^>]+>/g, '')\n\n    # Remove 'hljs' class so we don't create it multiple times\n    $(@elements[0]).find('pre').removeClass('hljs').html(br2nl).each (i, block) ->\n      hljs.highlightBlock block\n\n  @inPreformatted: ->\n    node = document.getSelection().anchorNode\n    current = if node and node.nodeType == 3 then node.parentNode else node\n\n    loop\n      if current.nodeType == 1\n        if current.tagName.toLowerCase() is 'pre'\n          return true\n\n        # do not traverse upwards past the nearest containing editor\n        if current.getAttribute('data-medium-element')\n          return false\n      current = current.parentNode\n      unless current\n        break\n    false\n","## METHODS\n\n\n# Return current post if we are editing one, or empty object if this is a new\n# post that has not been saved yet.\ngetPost = (id) ->\n  (Post.first( { _id : id } ) ) or {}\n\n# reads image dimensions and takes a callback\n# callback passes params (width, height, fileName)\nreadImageDimensions = (file, cb) ->\n  reader = new FileReader\n  image = new Image\n  reader.readAsDataURL file\n\n  reader.onload = (_file) ->\n    image.src = _file.target.result\n\n    image.onload = ->\n      w = @width\n      h = @height\n      n = file.name\n      cb(w,h,n) # callback with width, height as params\n      return\n\n    image.onerror = ->\n      alert 'Invalid file type: ' + file.type\n\n\n# Find tags using typeahead\nsubstringMatcher = (strs) ->\n  (q, cb) ->\n    matches = []\n    pattern = new RegExp q, 'i'\n\n    _.each strs, (ele) ->\n      if pattern.test ele\n        matches.push\n          val: ele\n\n    cb matches\n\n# Toggle between visual and HTML mode\nsetEditMode = (tpl, mode) ->\n  tpl.$('.editable').toggle()\n  tpl.$('.html-editor').toggle()\n  tpl.$('.edit-mode a').removeClass 'selected'\n  tpl.$(\".#{mode}-toggle\").addClass 'selected'\n\n# Save\nsave = (tpl, cb) ->\n  $form = tpl.$('form')\n  $editable = $('.editable', $form)\n  editor = BlogEditor.make tpl\n\n  # Make paragraphs commentable\n  # remove duplicates\n  $editable.find('p[data-section-id]').each ->\n    sec_id = $(this).attr 'data-section-id'\n    if $editable.find(\"p[data-section-id=#{sec_id}]\").length > 1\n      $editable.find(\"p[data-section-id=#{sec_id}]:gt(0)\").removeAttr 'data-section-id'\n  # decorate\n  i = $editable.find('p[data-section-id]').length + 1\n  $editable.find('p:not([data-section-id])').each ->\n    $(this).addClass('commentable-section').attr('data-section-id', i)\n    i++\n\n  # Highlight code blocks\n  editor.highlightSyntax()\n\n  if $editable.is(':visible')\n    body = editor.contents()\n  else\n    body = $('.html-editor', $form).val().trim()\n\n  if not body\n    return cb(null, new Error 'Blog body is required')\n\n  slug = $('[name=slug]', $form).val()\n  description = $('[name=description]', $form).val()\n\n  attrs =\n    title: $('[name=title]', $form).val()\n    tags: $('[name=tags]', $form).val()\n    slug: slug\n    description: description\n    body: body\n    updatedAt: new Date()\n\n  if getPost( Session.get('postId') ).id\n    post = getPost( Session.get('postId') ).update attrs\n    if post.errors\n      return cb(null, new Error _(post.errors[0]).values()[0])\n    cb null\n\n  else\n    Meteor.call 'doesBlogExist', slug, (err, exists) ->\n      if not exists\n        attrs.userId = Meteor.userId()\n        post = Post.create attrs\n        if post.errors\n          return cb(null, new Error _(post.errors[0]).values()[0])\n        cb post.id\n      else\n        return cb(null, new Error 'Blog with this slug already exists')\n\n\n## TEMPLATE CODE\n\n\nTemplate.blogAdminEdit.rendered = ->\n\n  # We can't use reactive template vars for contenteditable :-(\n  # (https://github.com/meteor/meteor/issues/1964). So we put the single-post\n  # subscription in an autorun. If we're loading an existing post, once its\n  # ready, we populate the contents via jQquery. The catch is, we only want to\n  # run it once because when we set the contents, we lose our cursor position\n  # (re: autosave).\n  ranOnce = false\n  @autorun =>\n    sub = Meteor.subscribe 'singlePostById', Session.get('postId')\n    # Load post body initially, if any\n    if sub.ready() and not ranOnce\n      ranOnce = true\n      post = getPost( Session.get('postId') )\n      if post?.body\n        @$('.editable').html post.body\n        @$('.html-editor').html post.body\n\n      # Tags\n      $tags = @$('[data-role=tagsinput]')\n      $tags.tagsinput confirmKeys: [13, 44, 9]\n      $tags.tagsinput('input').typeahead(\n        highlight: true,\n        hint: false\n      ,\n        name: 'tags'\n        displayKey: 'val'\n        source: substringMatcher Tag.first().tags\n      ).bind 'typeahead:selected', (obj, datum) ->\n        $tags.tagsinput 'add', datum.val\n        $tags.tagsinput('input').typeahead 'val', ''\n\n      # Medium editor\n      BlogEditor.make @\n\nTemplate.blogAdminEdit.helpers\n  post: ->\n    getPost( Session.get('postId') )\n\nTemplate.blogAdminEdit.events\n  # Toggle between VISUAL/HTML modes\n  'click .visual-toggle': (e, tpl) ->\n    if tpl.$('.editable').is(':visible')\n      return\n\n    BlogEditor.make(tpl).highlightSyntax()\n    setEditMode tpl, 'visual'\n\n  'click .html-toggle': (e, tpl) ->\n    $editable = tpl.$('.editable')\n    $html = tpl.$('.html-editor')\n    if $html.is(':visible')\n      return\n\n    if $editable.find('.medium-insert-images').length is 0\n      $html.val BlogEditor.make(tpl).pretty()\n    setEditMode tpl, 'html'\n    $html.height($editable.height())\n\n  # Copy HTML content to visual editor and autosize height\n  'keyup .html-editor': (e, tpl) ->\n    $editable = tpl.$('.editable')\n    $html = tpl.$('.html-editor')\n\n    $editable.html($html.val()?.trim())\n    $html.height($editable.height())\n\n  # Autosave\n  'input .editable, keydown .editable, keydown .html-editor': _.debounce (e, tpl) ->\n    save tpl, (id, err) ->\n      if err\n        return Notifications.error '', err.message\n\n      if id\n        # If new blog post, subscribe to the new post and update URL\n        Session.set 'postId', id\n        path = Router.path 'blogAdminEdit', id: id\n        Iron.Location.go path, { replaceState: true, skipReactive: true }\n\n      Notifications.success '', 'Saved'\n  , 8000\n\n  'blur [name=title]': (e, tpl) ->\n    slug = tpl.$('[name=slug]')\n    title = $(e.currentTarget).val()\n\n    if not slug.val()\n      slug.val Post.slugify(title)\n\n  'click [data-action=delete-featured]': (e, tpl) ->\n    e.preventDefault()\n    post = getPost Session.get('postId')\n    post.update\n      featuredImageWidth: null\n      featuredImageHeight: null\n      featuredImageName: null\n      featuredImage: null\n      titleBackground: null\n\n  'change [name=featured-image]': (e, tpl) ->\n    the_file = $(e.currentTarget)[0].files[0]\n    post = getPost Session.get('postId')\n    # get dimensions\n    readImageDimensions the_file, (width, height, name) ->\n      post.update\n        featuredImageWidth: width\n        featuredImageHeight: height\n        featuredImageName: name\n    # S3\n    if Meteor.settings?.public?.blog?.useS3\n      S3Files.insert the_file, (err, fileObj) ->\n        Tracker.autorun (c) ->\n          theFile = S3Files.find({_id: fileObj._id}).fetch()[0]\n          if theFile.isUploaded() and theFile.url?()\n            if post.id?\n              post.update\n                featuredImage: theFile.url()\n              c.stop()\n    # Local Filestore\n    else\n      # cfs id\n      id = FilesLocal.insert\n        _id: Random.id()\n        contentType: 'image/jpeg'\n      # format data\n      formdata = new FormData()\n      formdata.append('file', the_file)\n      $.ajax\n        type: \"post\"\n        url: \"/fs/#{id}\"\n        xhr: ->\n          xhr = new XMLHttpRequest()\n          xhr.upload.onprogress = (data) ->\n            # upload progress is avilable here if needed\n          xhr\n        cache: false\n        contentType: false\n        processData: false\n        data: formdata\n        complete: (jqxhr) ->\n          if post.id?\n            post.update\n              featuredImage: \"/fs/#{id}\"\n            Notifications.success '', 'Featured image saved!'\n\n  'change [name=background-title]': (e, tpl) ->\n    $checkbox = $(e.currentTarget)\n    getPost(Session.get(\"postId\")).update\n      titleBackground: $checkbox.is(':checked')\n\n  'submit form': (e, tpl) ->\n    e.preventDefault()\n    save tpl, (id, err) ->\n      if err\n        return Notifications.error '', err.message\n      Router.go 'blogAdmin'\n","\nTemplate.__checkName(\"blogIndex\");\nTemplate[\"blogIndex\"] = new Template(\"Template.blogIndex\", (function() {\n  var view = this;\n  return HTML.DIV({\n    id: \"meteor-blog\",\n    \"class\": \"blog-list\"\n  }, \"\\n    \", HTML.DIV({\n    \"class\": \"container\"\n  }, \"\\n      \", HTML.DIV({\n    \"class\": \"row\"\n  }, \"\\n        \", HTML.DIV({\n    \"class\": \"col-md-8 col-md-offset-2\"\n  }, \"\\n          \", Spacebars.include(view.lookupTemplate(\"blogIndexLoop\")), \"\\n          \", Blaze.View(\"lookup:blogPager\", function() {\n    return Spacebars.mustache(view.lookup(\"blogPager\"));\n  }), \"\\n        \"), \"\\n      \"), \"\\n    \"), \"\\n  \");\n}));\n\nTemplate.__checkName(\"blogIndexLoop\");\nTemplate[\"blogIndexLoop\"] = new Template(\"Template.blogIndexLoop\", (function() {\n  var view = this;\n  return Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"posts\"));\n  }, function() {\n    return [ \"\\n    \", HTML.ARTICLE({\n      \"class\": \"post\"\n    }, \"\\n      \", HTML.DIV({\n      \"class\": \"row\"\n    }, \"\\n        \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"featuredImage\"));\n    }, function() {\n      return [ \"\\n          \", HTML.DIV({\n        \"class\": \"col-md-3\"\n      }, \"\\n            \", HTML.A({\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"pathFor\"), \"blogShow\");\n        },\n        \"class\": \"thumbnail\"\n      }, \"\\n              \", HTML.IMG({\n        src: function() {\n          return Spacebars.mustache(view.lookup(\"featuredImage\"));\n        },\n        alt: \"\",\n        \"class\": \"img-responsive\"\n      }), \"\\n            \"), \"\\n          \"), \"\\n        \" ];\n    }), \"\\n        \", HTML.DIV({\n      \"class\": function() {\n        return Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"featuredImage\"));\n        }, function() {\n          return \"col-md-9\";\n        }, function() {\n          return \"col-md-12\";\n        });\n      }\n    }, \"\\n          \", HTML.H2(\"\\n            \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"pathFor\"), \"blogShow\");\n      }\n    }, Blaze.View(\"lookup:title\", function() {\n      return Spacebars.mustache(view.lookup(\"title\"));\n    })), \"\\n          \"), \"\\n          \", HTML.DIV({\n      \"class\": \"post-meta\"\n    }, \"\\n            By \", Blaze.View(\"lookup:authorName\", function() {\n      return Spacebars.mustache(view.lookup(\"authorName\"));\n    }), \" on \", Blaze.View(\"lookup:blogFormatDate\", function() {\n      return Spacebars.mustache(view.lookup(\"blogFormatDate\"), view.lookup(\"publishedAt\"));\n    }), \"\\n            \", Spacebars.include(view.lookupTemplate(\"blogTags\")), \"\\n          \"), \"\\n          \", HTML.DIV({\n      \"class\": \"the-content\"\n    }, \"\\n            \", HTML.SMALL(Blaze.View(\"lookup:excerpt\", function() {\n      return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"excerpt\")));\n    })), \"\\n          \"), \"\\n        \"), \"\\n        \"), \"\\n    \"), \"\\n  \" ];\n  }, function() {\n    return \"\\n    This blog is looking pretty empty...\\n  \";\n  });\n}));\n\nTemplate.__checkName(\"blogTags\");\nTemplate[\"blogTags\"] = new Template(\"Template.blogTags\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"tags\"));\n  }, function() {\n    return [ \"\\n    \", HTML.DIV({\n      \"class\": \"post-tags\"\n    }, \"\\n      \", HTML.P(\" \", HTML.CharRef({\n      html: \"&ndash;\",\n      str: \"\"\n    }), \" Tags: \", Blaze.View(\"lookup:blogFormatTags\", function() {\n      return Spacebars.mustache(view.lookup(\"blogFormatTags\"), view.lookup(\"tags\"));\n    })), \"\\n    \"), \"\\n  \" ];\n  });\n}));\n","\nTemplate.__checkName(\"blogShow\");\nTemplate[\"blogShow\"] = new Template(\"Template.blogShow\", (function() {\n  var view = this;\n  return HTML.DIV({\n    id: \"meteor-blog\",\n    \"class\": \"blog-single\"\n  }, \"\\n    \", Blaze.If(function() {\n    return Spacebars.dataMustache(view.lookup(\"session\"), \"postHasFeaturedImage\");\n  }, function() {\n    return [ \"\\n      \", Spacebars.include(view.lookupTemplate(\"blogShowFeaturedImage\")), \"\\n    \" ];\n  }), \"\\n    \", HTML.DIV({\n    \"class\": \"container\"\n  }, \"\\n      \", HTML.DIV({\n    \"class\": \"row\"\n  }, \"\\n        \", HTML.DIV({\n    \"class\": \"col-xs-12 col-sm-11 col-md-8 col-md-offset-2\"\n  }, \"\\n          \", Spacebars.include(view.lookupTemplate(\"blogShowBody\")), \"\\n        \"), \"\\n      \"), \"\\n    \"), \"\\n  \");\n}));\n\nTemplate.__checkName(\"blogShowBody\");\nTemplate[\"blogShowBody\"] = new Template(\"Template.blogShowBody\", (function() {\n  var view = this;\n  return [ HTML.ARTICLE({\n    \"class\": \"post\"\n  }, \"\\n    \", Blaze.Unless(function() {\n    return Spacebars.call(view.lookup(\"titleBackground\"));\n  }, function() {\n    return [ \"\\n      \", HTML.H1({\n      \"class\": \"mb-title text-center\"\n    }, \"\\n        \", Blaze.View(\"lookup:title\", function() {\n      return Spacebars.mustache(view.lookup(\"title\"));\n    }), \"\\n      \"), \"\\n      \", HTML.DIV({\n      \"class\": \"post-meta text-center\"\n    }, \"\\n        \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"isAdmin\"));\n    }, function() {\n      return [ \"\\n           \", HTML.SMALL(HTML.A({\n        href: \"#\",\n        id: \"edit-post\"\n      }, \"edit\")), \"\\n           --\\n        \" ];\n    }), \"\\n        By \", Blaze.View(\"lookup:authorName\", function() {\n      return Spacebars.mustache(view.lookup(\"authorName\"));\n    }), \" on \", Blaze.View(\"lookup:blogFormatDate\", function() {\n      return Spacebars.mustache(view.lookup(\"blogFormatDate\"), view.lookup(\"publishedAt\"));\n    }), \"\\n        \", Spacebars.include(view.lookupTemplate(\"blogTags\")), \"\\n      \"), \"\\n    \" ];\n  }), \"\\n    \", HTML.DIV({\n    id: \"commentable-area\",\n    \"class\": \"the-content\"\n  }, \"\\n      \", Blaze.View(\"lookup:html\", function() {\n    return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"html\")));\n  }), \"\\n    \"), \"\\n  \"), \"\\n  \", HTML.DIV({\n    \"class\": \"blog-back-link pull-left\"\n  }, \"\\n    \", HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"blogIndex\");\n    }\n  }, HTML.Raw('<i class=\"fa fa-caret-left\"></i>'), \"Back to the Blog\"), \"\\n  \"), \"\\n  \", Blaze._TemplateWith(function() {\n    return Spacebars.call(view.lookup(\"shareData\"));\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"shareit\"));\n  }), \"\\n  \", Blaze._TemplateWith(function() {\n    return Spacebars.call(view.lookup(\".\"));\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"disqus\"));\n  }) ];\n}));\n\nTemplate.__checkName(\"blogShowFeaturedImage\");\nTemplate[\"blogShowFeaturedImage\"] = new Template(\"Template.blogShowFeaturedImage\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"row\"\n  }, \"\\n    \", HTML.DIV({\n    \"class\": \"mb-featured-image-container\"\n  }, \"\\n      \", HTML.FIGURE({\n    \"class\": function() {\n      return Blaze.If(function() {\n        return Spacebars.dataMustache(view.lookup(\"session\"), \"fullWidthFeaturedImage\");\n      }, function() {\n        return \"mb-fillWidthImage\";\n      }, function() {\n        return \"mb-scaleImage\";\n      });\n    }\n  }, \"\\n        \", HTML.DIV({\n    \"class\": \"mg-aspectRatioPlaceholder\",\n    style: function() {\n      return Blaze.Unless(function() {\n        return Spacebars.dataMustache(view.lookup(\"session\"), \"fullWidthFeaturedImage\");\n      }, function() {\n        return [ \"width: \", Blaze.View(\"lookup:featuredImageWidth\", function() {\n          return Spacebars.mustache(view.lookup(\"featuredImageWidth\"));\n        }), \"px; height: \", Blaze.View(\"lookup:featuredImageHeight\", function() {\n          return Spacebars.mustache(view.lookup(\"featuredImageHeight\"));\n        }), \"px;\" ];\n      });\n    }\n  }, \"\\n          \", HTML.Raw('<!-- <div class=\"mb-aspect-ratio-fill\"></div> -->'), \"\\n          \", HTML.IMG({\n    src: function() {\n      return Spacebars.mustache(view.lookup(\"featuredImage\"));\n    },\n    alt: \"\",\n    \"class\": \"img-responsive center-block\"\n  }), \"\\n          \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"titleBackground\"));\n  }, function() {\n    return [ \"\\n            \", HTML.DIV({\n      \"class\": \"mb-background-title\"\n    }, \"\\n              \", HTML.DIV({\n      \"class\": \"container\"\n    }, \"\\n                \", HTML.DIV({\n      \"class\": \"row\"\n    }, \"\\n                  \", HTML.DIV({\n      \"class\": \"center-block\"\n    }, \"\\n                    \", HTML.H1({\n      \"class\": \"text-center\"\n    }, \"\\n                      \", Blaze.View(\"lookup:title\", function() {\n      return Spacebars.mustache(view.lookup(\"title\"));\n    }), \"\\n                      \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"isAdmin\"));\n    }, function() {\n      return [ \"\\n                         \", HTML.SMALL(HTML.A({\n        href: \"#\",\n        id: \"edit-post\"\n      }, \"edit\")), \"\\n                      \" ];\n    }), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n      \"class\": \"post-meta text-center\"\n    }, \"\\n                      By \", Blaze.View(\"lookup:authorName\", function() {\n      return Spacebars.mustache(view.lookup(\"authorName\"));\n    }), \" on \", Blaze.View(\"lookup:blogFormatDate\", function() {\n      return Spacebars.mustache(view.lookup(\"blogFormatDate\"), view.lookup(\"publishedAt\"));\n    }), \"\\n                      \", Spacebars.include(view.lookupTemplate(\"blogTags\")), \"\\n                    \"), \"\\n                  \"), \"\\n                \"), \"\\n              \"), \"\\n            \"), \"\\n          \" ];\n  }), \"\\n        \"), \"\\n      \"), \"\\n    \"), \"\\n  \");\n}));\n\nTemplate.__checkName(\"disqus\");\nTemplate[\"disqus\"] = new Template(\"Template.disqus\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"useDisqus\"));\n  }, function() {\n    return [ \"\\n    \", HTML.DIV({\n      id: \"disqus_thread\"\n    }), \"\\n    \", HTML.NOSCRIPT(\"Please enable JavaScript to view the \", HTML.A({\n      href: \"http://disqus.com/?ref_noscript\"\n    }, \"comments powered by Disqus.\")), \"\\n    \", HTML.A({\n      href: \"http://disqus.com\",\n      \"class\": \"dsq-brlink\"\n    }, \"comments powered by \", HTML.SPAN({\n      \"class\": \"logo-disqus\"\n    }, \"Disqus\")), \"\\n  \" ];\n  });\n}));\n","Template.blogIndex.rendered = ->\n  # Page Title\n  document.title = \"Blog\"\n  if Blog.settings.title\n    document.title += \" | #{Blog.settings.title}\"\n\n\n\nTemplate.blogShowBody.rendered = ->\n\n  Meteor.call 'isBlogAuthorized', @id, (err, authorized) =>\n      if authorized\n        Session.set 'canEditPost', authorized\n\n  #\n  # SIDECOMMENTS.JS\n  #\n\n  settings = Blog.settings.comments\n  # check if useSideComments config is true (default is null)\n  if settings.useSideComments\n    SideComments = require 'side-comments'\n\n    # check if config allows anonymous commenters (default is null)\n    if settings.allowAnonymous and !Meteor.user()\n      commentUser =\n        name: 'Anonymous'\n        avatarUrl: settings.defaultImg\n        id: 0\n    else if Meteor.user()\n      # check username\n      the_user = Meteor.user()\n      possible_names = [                 # if more than one variable\n        the_user.username                # contains a usable name, the match\n        the_user.services?.google?.name  # with the lowest index will be chosen\n        the_user.profile?.name\n        the_user.emails?[0].address\n      ]\n      chosen_name = null\n      possible_names.every (name) ->\n        if name?\n          if typeof name is \"string\" and name.length > 0\n            chosen_name = name\n            false\n         else\n            true\n      if Meteor.user().profile?[settings.userImg]\n        avatar = Meteor.user().profile[settings.userImg]\n      else\n        avatar = settings.defaultImg\n      commentUser =\n        name: chosen_name\n        avatarUrl: avatar\n        id: Meteor.userId()\n    else\n      commentUser =\n        name: 'Login to Comment'\n        avatarUrl: settings.defaultImg\n        id: 0\n\n    # load existing comments\n    existingComments = []\n    Comment.where(slug: Session.get('slug')).forEach((comment) ->\n      comment.comment.id = comment._id\n      sec = _(existingComments).findWhere(sectionId: comment.sectionId.toString())\n      if sec\n        sec.comments.push comment.comment\n      else\n        existingComments.push\n          sectionId: comment.sectionId.toString()\n          comments: [comment.comment]\n    )\n\n    # add side comments\n    sideComments = new SideComments '#commentable-area', commentUser, existingComments\n\n    # side comments events\n    sideComments.on 'commentPosted', (comment) ->\n      if settings.allowAnonymous or Meteor.user()\n        attrs =\n          slug: Session.get('slug')\n          sectionId: comment.sectionId\n          comment:\n            authorAvatarUrl: comment.authorAvatarUrl\n            authorName: comment.authorName\n            authorId: comment.authorId\n            comment: comment.comment\n        commentId = Comment.create attrs\n        comment.id = commentId\n        sideComments.insertComment(comment)\n      else\n          comment.id = -1\n          sideComments.insertComment\n            sectionId: comment.sectionId\n            authorName: comment.authorName\n            comment: 'Please login to post comments'\n\n    sideComments.on 'commentDeleted', (comment) ->\n      if Meteor.user()\n        Comment.destroyAll comment.id\n        sideComments.removeComment comment.sectionId, comment.id\n\n  ####\n\n  # Page Title\n  document.title = \"#{@data.title}\"\n  if Blog.settings.title\n    document.title += \" | #{Blog.settings.title}\"\n\n  # Hide draft posts from crawlers\n  if not @data.published\n    $('<meta>', { name: 'robots', content: 'noindex,nofollow' }).appendTo 'head'\n\n  # featured image resize\n  if Session.get \"postHasFeaturedImage\"\n    post = Post.first({slug: Router.current().params.slug})\n    $(window).resize ->\n      Session.set \"fullWidthFeaturedImage\", $(window).width() < post.featuredImageWidth\n    $(window).trigger \"resize\" # so it runs once\n\n\nTemplate.blogShowBody.events\n  'click a#edit-post': (event, template) ->\n    event.preventDefault()\n    postId = Post.first({slug: Router.current().params.slug})._id\n    Router.go 'blogAdminEdit', {id: postId}\n\nTemplate.blogShowBody.helpers\n  isAdmin: () ->\n    Session.get \"canEditPost\"\n  shareData: () ->\n    post = Post.first slug: Session.get('slug')\n\n    {\n      title: post.title,\n      excerpt: post.excerpt,\n      description: post.description,\n      author: post.authorName(),\n      thumbnail: post.thumbnail()\n    }\n\n\nTemplate.disqus.rendered = ->\n\n  if Blog.settings.comments.disqusShortname\n    # Don't load the Disqus embed.js into the DOM more than once\n    if window.DISQUS\n      # If we've already loaded, call reset instead. This will find the correct\n      # thread for the current page URL. See:\n      # http://help.disqus.com/customer/portal/articles/472107-using-disqus-on-ajax-sites\n      post = @data\n\n      window.DISQUS.reset\n        reload: true\n        config: ->\n          @page.identifier = post.id\n          @page.title = post.title\n          @page.url = window.location.href\n    else\n      disqus_shortname = Blog.settings.comments.disqusShortname\n      disqus_identifier = @data.id\n      disqus_title = @data.title\n      disqus_url = window.location.href\n      disqus_developer = 1\n\n      dsq = document.createElement(\"script\")\n      dsq.type = \"text/javascript\"\n      dsq.async = true\n      dsq.src = \"//\" + disqus_shortname + \".disqus.com/embed.js\"\n      (document.getElementsByTagName(\"head\")[0] or document.getElementsByTagName(\"body\")[0]).appendChild dsq\n\nTemplate.disqus.helpers\n  useDisqus: ->\n    Blog.settings.comments.disqusShortname\n","\nTemplate.__checkName(\"blogLatest\");\nTemplate[\"blogLatest\"] = new Template(\"Template.blogLatest\", (function() {\n  var view = this;\n  return HTML.DIV({\n    id: \"blog-latest-widget\"\n  }, HTML.Raw('\\n    <div class=\"blog-latest-title\">\\n      <span>Latest Posts</span>\\n    </div>\\n    '), HTML.UL({\n    \"class\": \"blog-latest-posts\"\n  }, \"\\n      \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"latest\"));\n  }, function() {\n    return [ \"\\n        \", HTML.LI(\"\\n          \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"pathFor\"), \"blogShow\");\n      }\n    }, \"\\n            \", HTML.DIV({\n      \"class\": \"blog-meta\"\n    }, \"\\n              \", HTML.DIV({\n      \"class\": \"blog-title\"\n    }, \"\\n                \", Blaze.View(\"lookup:title\", function() {\n      return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"title\")));\n    }), \"\\n              \"), \"\\n              \", HTML.DIV({\n      \"class\": \"blog-date\"\n    }, \"\\n                \", HTML.TIME({\n      datetime: function() {\n        return Spacebars.mustache(view.lookup(\"publishedAt\"));\n      }\n    }, Blaze.View(\"lookup:date\", function() {\n      return Spacebars.mustache(view.lookup(\"date\"), view.lookup(\"publishedAt\"));\n    })), \"\\n              \"), \"\\n            \"), \"\\n          \"), \"\\n        \"), \"\\n      \" ];\n  }, function() {\n    return [ \"\\n        \", HTML.LI(\"Loading...\"), \"\\n      \" ];\n  }), \"\\n    \"), \"\\n    \", HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"blogIndex\");\n    }\n  }, \"View all posts\", HTML.Raw(\"&nbsp;\"), \" \", HTML.Raw(\"&rsaquo;\")), \"\\n  \");\n}));\n","Template.blogLatest.rendered = ->\n  num = if @data?.num then @data.num else 3\n\n  @autorun ->\n    Meteor.subscribe 'posts', num\n\n\nTemplate.blogLatest.helpers\n  latest: ->\n    Post.all()\n\n  date: (date) ->\n    if date\n      date = new Date(date)\n      moment(date).format('MMMM Do, YYYY')\n","class @Author extends Minimongoid\n\n  @_collection: Meteor.users\n\n  @has_many: [\n    name: 'posts'\n    foreign_key: 'userId'\n  ]\n\n  @current: ->\n    if Meteor.userId()\n      Author.init Meteor.user()\n","class @Post extends Minimongoid\n\n  @_collection: new Meteor.Collection 'blog_posts'\n\n  @belongs_to: [\n    name: 'author'\n    identifier: 'userId'\n  ]\n\n  @after_save: (post) ->\n    post.tags = Post.splitTags post.tags\n    post.excerpt = Post.excerpt post.body if post.body\n\n    @_collection.update _id: post.id,\n      $set:\n        tags: post.tags\n        excerpt: post.excerpt\n\n  @slugify: (str) ->\n    str.toLowerCase().replace(/[^\\w ]+/g, \"\").replace(RegExp(\" +\", \"g\"), \"-\")\n\n  @splitTags: (str) ->\n    if str and typeof str is 'string'\n      return str.split(/,\\s*/)\n    str\n\n  validate: ->\n    if not @title\n      @error 'title', \"Blog title is required\"\n\n    if not @slug\n      @error 'slug', \"Blog slug is required\"\n\n  html: ->\n    @body\n\n  thumbnail: ->\n    if @featuredImage?\n      if Meteor.settings?.public?.blog?.useS3\n        @featuredImage\n      else\n        Meteor.absoluteUrl() + @featuredImage\n    else\n      regex = new RegExp /img src=[\\'\"]([^\\'\"]+)/ig\n      while match = regex.exec @body\n        return match[1]\n\n  @excerpt: (html) ->\n    if Blog.settings.excerptFunction?\n      Blog.settings.excerptFunction html\n    else\n      # Find 1st non-empty paragraph\n      matches = html?.split /<\\/div>|<\\/p>|<\\/blockquote>|<br><br>|\\\\n\\\\n|\\\\r\\\\n\\\\r\\\\n/m\n\n      i = 0\n      ret = ''\n      while not ret and matches?[i]\n        # Strip tags and clean up whitespaces\n        ret += matches[i++].replace(/(<([^>]+)>)/ig, ' ').replace(/(\\s\\.)/, '.').replace('&nbsp;', ' ').trim()\n      ret\n\n  authorName: ->\n    author = @author()\n\n    if author\n      if author.profile and author.profile.name\n        return author.profile.name\n\n      else if author.profile and author.profile.firstName and author.profile.lastName\n        return \"#{author.profile.firstName} #{author.profile.lastName}\"\n\n      else if author.profile and author.profile.twitter\n        return \"<a href=\\\"http://twitter.com/#{author.profile.twitter}\\\">#{author.profile.twitter}</a>\"\n\n      else if author.username\n        return author.username\n\n      else if author.emails and author.emails[0]\n        return author.emails[0].address\n\n    'Mystery blogger'\n\n\n#\n# Server Methods\n#\n\nif Meteor.isServer\n  Meteor.methods\n    doesBlogExist: (slug) ->\n      check slug, String\n\n      !! Post.first slug: slug\n\n    isBlogAuthorized: () ->\n      check arguments[0], Match.OneOf(Object, Number, String, null, undefined)\n\n      if not Meteor.user()\n        return false\n\n      # If no roles are set, allow all\n      if not Blog.settings.adminRole and not Blog.settings.authorRole\n        return true\n\n      # If admin role is set\n      if Blog.settings.adminRole\n        # And if admin group is set\n        if Blog.settings.adminGroup\n          # And if user is admin\n          if Roles.userIsInRole(@userId, Blog.settings.adminRole, Blog.settings.adminGroup)\n            # Then they can do anything\n            return true\n\n        # If only admin role is set, and if user is admin\n        else if Roles.userIsInRole(@userId, Blog.settings.adminRole)\n          # Then they can do anything\n          return true\n\n\n      # If author role is set\n      if Blog.settings.authorRole\n\n        # Get the post\n        if _.isObject arguments[0]\n          post = arguments[0]\n        else if _.isNumber(arguments[0]) or _.isString(arguments[0])\n          post = Post.first arguments[0]\n        else\n          post = null\n\n        # And if author group is set\n        if Blog.settings.authorGroup\n          # And if user is author\n          if Roles.userIsInRole(@userId, Blog.settings.authorRole, Blog.settings.authorGroup)\n            if post\n              # And if user is author of this post\n              if Meteor.userId() is post.userId\n                return true\n            else\n              return true\n\n        # If only author role is passed, and if user is author\n        else if Roles.userIsInRole(@userId, Blog.settings.authorRole)\n          if post\n            # And if user is author of this post\n            if Meteor.userId() is post.userId\n              return true\n          else\n            return true\n\n\n      false\n\n\n#\n# Authorization\n#\n\nPost._collection.allow\n  insert: (userId, item) ->\n    Meteor.call 'isBlogAuthorized', item\n\n  update: (userId, item, fields) ->\n    Meteor.call 'isBlogAuthorized', item\n\n  remove: (userId, item) ->\n    Meteor.call 'isBlogAuthorized', item\n","class @Comment extends Minimongoid\n\n  @_collection: new Meteor.Collection 'blog_comments'\n\n  @belongs_to: [\n    name: 'post'\n    identifier: 'postId'\n  ]\n\nComment._collection.allow\n  insert: (userId, doc) ->\n    !!userId\n  update: (userId, doc, fields, modifier) ->\n    doc.comment.authorId == userId\n  remove: (userId, doc) ->\n    doc.comment.authorId == userId\n","class @Tag extends Minimongoid\n\n  @_collection: new Meteor.Collection('blog_tags')\n","############################################################################/\n##        Local Filestore                                                  /\n##########################################################################/\n@FilesLocal = FileCollection\n  resumable: false\n  baseURL: '/fs'\n  http: [\n    method: 'get',\n    path: '/:id',\n    lookup: (params, query) ->\n      _id: new Meteor.Collection.ObjectID(params.id)\n  ,\n    method: 'post',\n    path: '/:id',\n    lookup: (params, query) ->\n      _id: new Meteor.Collection.ObjectID(params.id)\n  ]\n\nif Meteor.isServer\n  FilesLocal.allow\n    insert: (userId, file) ->\n      !!userId\n    remove: (userId, file) ->\n      # Only owners can delete\n      return file.metadata and file.metadata.userId and file.metadata.userId is userId\n    write: ->\n      # Anyone can POST a file\n      true\n    read: (userId, file) ->\n      # Anyone can GET a file\n      true\n\n\n############################################################################/\n##        Amazon S3 Filestore                                              /\n##########################################################################/\nuseS3 = Meteor.settings?.public?.blog?.useS3\n\nif Meteor.isClient and useS3\n  @s3ImportStore = new FS.Store.S3 \"s3Imports\"\n\n  @S3Files = new FS.Collection \"s3Imports\",\n    stores: [s3ImportStore]\n    filter:\n      # maxSize: 3145728\n      allow:\n        contentTypes: [\n          'image/*'\n        ]\n    onInvalid: (message) ->\n      console.log message\n\n  Meteor.subscribe \"s3Imports\"\n\nif Meteor.isServer and useS3\n  s3Config = Meteor.settings?.private?.blog?.s3Config\n  @s3ImportStore = new FS.Store.S3 \"s3Imports\",\n    accessKeyId:  s3Config.accessKeyId\n    secretAccessKey:  s3Config.secretAccessKey\n    bucket: s3Config.bucket\n    ACL:  s3Config.s3ACL\n    maxTries: s3Config.s3MaxTries\n    region: s3Config.region\n\n  @S3Files = new FS.Collection \"s3Imports\",\n    stores: [s3ImportStore]\n    filter:\n      # maxSize: 3145728\n      allow:\n        contentTypes: [\n          'image/*'\n        ]\n    onInvalid: (message) ->\n      console.log message\n\n  Meteor.publish 's3Imports', () ->\n    S3Files.find()\n  S3Files.allow\n    insert: (userId, file) ->\n      userId\n    remove: (userId, file) ->\n      # Only owners can delete\n      return file.metadata and file.metadata.userId and file.metadata.userId is userId\n    update: ->\n      # Anyone can POST a file\n      true\n    download: (userId, file) ->\n      # Anyone can GET a file\n      true\n","subs = new SubsManager\n  cacheLimit: 10, # Maximum number of cache subscriptions\n  expireIn: 5 # Any subscription will be expire after 5 minute, if it's not subscribed again\n\nif Meteor.isClient\n  Router.onBeforeAction ->\n    @notFoundTemplate =\n      if Blog.settings.blogNotFoundTemplate\n        Blog.settings.blogNotFoundTemplate\n      else\n        'blogNotFound'\n    Iron.Router.hooks.dataNotFound.call @\n  , only: ['blogShow']\n\n# RSS\n\nRouter.route '/rss/posts',\n  name: 'rss'\n  where: 'server'\n  action: ->\n    @response.write Meteor.call 'serveRSS'\n    @response.end()\n\n# BLOG INDEX\n\nRouter.route '/blog',\n  name: 'blogIndex'\n  template: 'custom'\n  onRun: ->\n    if not Session.get('postLimit') and Blog.settings.pageSize\n      Session.set 'postLimit', Blog.settings.pageSize\n    @next()\n  waitOn: ->\n    if (typeof Session isnt 'undefined')\n      [\n        subs.subscribe 'posts', Session.get('postLimit')\n        subs.subscribe 'authors'\n      ]\n  fastRender: true\n  data: ->\n    posts: Post.where {},\n      sort: publishedAt: -1\n\n# BLOG TAG\n\nRouter.route '/blog/tag/:tag',\n  name: 'blogTagged'\n  template: 'custom'\n  waitOn: -> [\n    subs.subscribe 'taggedPosts', @params.tag\n    subs.subscribe 'authors'\n  ]\n  fastRender: true\n  data: ->\n    posts: Post.where\n      tags: @params.tag\n    ,\n      sort: publishedAt: -1\n\n# SHOW BLOG\n\nRouter.route '/blog/:slug',\n  name: 'blogShow'\n  template: 'custom'\n  onRun: ->\n    Session.set('slug', @params.slug)\n    @next()\n  onBeforeAction: ->\n    if Blog.settings.blogShowTemplate\n      tpl = Blog.settings.blogShowTemplate\n\n      # If the user has a custom template, and not using the helper, then\n      # maintain the package Javascript.\n      pkgFunc = Template.blogShowBody.rendered\n      userFunc = Template[tpl].rendered\n\n      if userFunc\n        Template[tpl].rendered = ->\n          pkgFunc.call(@)\n          userFunc.call(@)\n      else\n        Template[tpl].rendered = pkgFunc\n\n    if !Blog.settings.publicDrafts and !Post.first().published\n      Meteor.call 'isBlogAuthorized', (err, authorized) =>\n        return @redirect('/blog') unless authorized\n    Session.set 'postHasFeaturedImage', Post.first({slug: @params.slug}).featuredImage?.length > 0\n    @next()\n  action: ->\n    @render() if @ready()\n  waitOn: -> [\n    Meteor.subscribe 'singlePostBySlug', @params.slug\n    subs.subscribe 'commentsBySlug', @params.slug\n    subs.subscribe 'authors'\n  ]\n  data: ->\n    Post.first slug: @params.slug\n\n# BLOG ADMIN INDEX\n\nRouter.route '/admin/blog',\n  name: 'blogAdmin'\n  template: 'custom'\n  onBeforeAction: ->\n    if Meteor.loggingIn()\n      return\n\n    Deps.autorun () ->\n      Router.go 'blogIndex' if not Meteor.userId()\n\n    Meteor.call 'isBlogAuthorized', (err, authorized) =>\n      if not authorized\n        return @redirect('/blog')\n\n    @next()\n  waitOn: ->\n    [ Meteor.subscribe 'postForAdmin'\n      Meteor.subscribe 'authors' ]\n\n# NEW/EDIT BLOG\n\nRouter.route '/admin/blog/edit/:id',\n  name: 'blogAdminEdit'\n  template: 'custom'\n  onBeforeAction: ->\n    if Meteor.loggingIn()\n      return\n\n    Deps.autorun () ->\n      Router.go 'blogIndex' if not Meteor.userId()\n\n    Meteor.call 'isBlogAuthorized', @params.id, (err, authorized) =>\n      if not authorized\n        return @redirect('/blog')\n\n    Session.set 'postId', @params.id\n    @next() if Session.get(\"postId\").length?\n  action: ->\n    @render() if @ready()\n  waitOn: -> [\n    Meteor.subscribe 'singlePostById', @params.id\n    Meteor.subscribe 'authors'\n    Meteor.subscribe 'postTags'\n  ]"]}